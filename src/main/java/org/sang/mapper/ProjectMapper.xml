<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.sang.mapper.ProjectMapper">
    <!--查询项目列表-->
    <resultMap type="org.sang.bean.responseEntity.ProjectListResp" id="getProjectListMap">
        <id column="id" property="id"/>
        <result column="projectName" property="projectName"/>
        <result column="cilentCompanyName" property="cilentCompanyName"/>
        <result column="addUserId" property="addUserId"/>
        <result column="addUserName" property="addUserName"/>
        <result column="finishTime" property="finishTime"/>
        <result column="status" property="status"/>
        <result column="remark" property="remark"/>
        <result column="isDeleted" property="isDeleted"/>
        <result column="updateTime" property="updateTime"/>
        <result column="createTime" property="createTime"/>
        <result column="yuBaoJiaId" property="yuBaoJiaId"/>
        <result column="yuBaoJiaStatus" property="yuBaoJiaStatus"/>
        <result column="shangWuId" property="shangWuId"/>
        <result column="shangWuStatus" property="shangWuStatus"/>
        <result column="orderNums" property="orderNums"/>
        <result column="orderSchedule" property="orderSchedule"/>
    </resultMap>

    <!--获取项目列表-->
    <select id="getProjectList" resultMap="getProjectListMap">
        SELECT * FROM work_project WHERE isDeleted=FALSE ORDER BY id
    </select>

    <!--根据uid获取项目列表-->
    <select id="getByUid" resultType="org.sang.bean.Project">
        SELECT * FROM work_project WHERE isDeleted=FALSE AND addUserId=#{uid} ORDER BY id
    </select>


    <insert id="addProject" useGeneratedKeys="true" keyProperty="id" parameterType="org.sang.bean.Project">
        INSERT INTO work_project set projectName=#{projectName},cilentCompanyName=#{cilentCompanyName},addUserId=#{addUserId},addUserName=#{addUserName},status=#{status},remark=#{remark},
        updateTime=now(),createTime=now(),isDeleted=FALSE
    </insert>


</mapper>