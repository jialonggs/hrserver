webpackJsonp([0],{"+Goj":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{filterText:"",tree_loading:!1,tableData1:[],tableData6:[{projectName:"12987122",piWenDaiMa:"王小虎",addUserName:"234",createTime:"3.2",finishTime:10,gongXu:2,jingFeng:45,tieHua:450,heJi:400,nanDu:1},{projectName:"12987122",piWenDaiMa:"王小虎",addUserName:"234",createTime:"3.2",finishTime:10,gongXu:2,jingFeng:45,tieHua:450,heJi:400,nanDu:1},{projectName:"12987122",piWenDaiMa:"王小虎",addUserName:"234",createTime:"3.2",finishTime:10,gongXu:2,jingFeng:45,tieHua:450,heJi:400,nanDu:1},{projectName:"12987122",piWenDaiMa:"王小虎",addUserName:"234",createTime:"3.2",finishTime:10,gongXu:2,jingFeng:45,tieHua:450,heJi:400,nanDu:1},{projectName:"12987122",piWenDaiMa:"王小虎",addUserName:"234",createTime:"3.2",finishTime:10,gongXu:2,jingFeng:45,tieHua:450,heJi:400,nanDu:1}]}},watch:{filterText:function(e){this.$refs.tree2.filter(e)}},methods:{getSummaries:function(e){var t=e.columns,a=e.data,i=[];return t.forEach(function(e,t){if(0!==t){var l=a.map(function(t){return Number(t[e.property])});l.every(function(e){return isNaN(e)})?i[t]="N/A":(i[t]=l.reduce(function(e,t){var a=Number(t);return isNaN(a)?e:e+t},0),i[t]+=" 元")}else i[t]="总价"}),i},getHuiZong:function(){var e=this;this.getRequest("/count/work/huizong").then(function(t){t&&200==t.status&&0==t.data.code&&(e.tableData1=t.data.data.huizong,console.log(e.tableData1))})}},mounted:function(){this.$nextTick(function(){}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name"),this.getHuiZong()}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("订单管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("创建订单")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{"align-items":"center","margin-top":"10px"}}),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"0px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("汇总表")])]),e._v(" "),a("div",[a("div",{staticStyle:{"min-height":"15px",width:"100%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData1,border:"","show-summary":""}},[a("el-table-column",{attrs:{prop:"userName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"workTime",label:"工时"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lastMonthArge",label:"上月遗留面积"}}),e._v(" "),a("el-table-column",{attrs:{prop:"currentMonthArge",label:"本月接单面积"}}),e._v(" "),a("el-table-column",{attrs:{prop:"currentMonthNeedArge",label:"本月需完成面积"}}),e._v(" "),a("el-table-column",{attrs:{prop:"currentMonthFinishArge",label:"本月已完成面积"}}),e._v(" "),a("el-table-column",{attrs:{prop:"currentMonthShenYuArge",label:"本月未完成面积"}}),e._v(" "),a("el-table-column",{attrs:{prop:"efficiency",label:"平均效率"}})],1)],1)])])],1)])],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("m98m")},"data-v-11f69291",null);t.default=r.exports},"+J+B":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{nowTab:1,username:"",name:"",uid:"",tableLoading:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[]}},methods:{toinfo:function(e){this.$router.push("/order/info/"+e)},toadd:function(){this.$router.push("/order/add")},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this;this.getRequest("/plant/new/order?page="+this.currentPage+"&size="+this.pagesize+"&userId="+this.uid+"&plantStatus=1").then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.orderlist,e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.orderName.indexOf(e.select_word)>-1||t.clientCompanyName.indexOf(e.select_word)>-1)return t})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.nowTab,expression:"nowTab === 1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("车间管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("进行中订单列表")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"20px"}},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.data,stripe:""}},[a("el-table-column",{attrs:{label:"产品名称",prop:"orderName"}}),e._v(" "),a("el-table-column",{attrs:{label:"客户单位",prop:"clientCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"紧急程度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.urgency+""=="0"?a("el-tag",{attrs:{type:"primary"}},[e._v("一般")]):e._e(),e._v(" "),t.row.urgency+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("紧急")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"工艺卡状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.techId+""=="0"?a("el-tag",{attrs:{type:"danger"}},[e._v("未提交")]):e._e(),e._v(" "),t.row.techId+""!="0"?a("el-tag",{attrs:{type:"primary"}},[e._v("已提交")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"当前步骤",prop:"presentStepName"}}),e._v(" "),a("el-table-column",{attrs:{label:"已完成面积",prop:"alreadyArea"}}),e._v(" "),a("el-table-column",{attrs:{label:"未完成面积",prop:"stayArea"}}),e._v(" "),a("el-table-column",{attrs:{label:"进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("0%")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"完工预期",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"下单日期",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){}}},[e._v("进度详情")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("nXBi")},"data-v-2f660943",null);t.default=r.exports},"+sH/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{currentPage:1,totalnum:0,pagesize:10,emps:[],keywords:"",fileUploadBtnText:"导入数据",beginDateScope:"",faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",dialogTitle:"",multipleSelection:[],depTextColor:"#c0c4cc",nations:[],politics:[],positions:[],joblevels:[],totalCount:-1,degrees:[{id:4,name:"大专"},{id:5,name:"本科"},{id:6,name:"硕士"},{id:7,name:"博士"},{id:3,name:"高中"},{id:2,name:"初中"},{id:1,name:"小学"},{id:8,name:"其他"}],deps:[],defaultProps:{label:"name",isLeaf:"leaf",children:"children"},dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,emp:{name:"",gender:"",birthday:"",idCard:"",wedlock:"",nationId:"",nativePlace:"",politicId:"",email:"",phone:"",address:"",departmentId:"",departmentName:"所属部门...",jobLevelId:"",posId:"",engageForm:"",tiptopDegree:"",tiptopDegreeName:"",specialty:"",school:"",beginDate:"",workState:"",workID:"",contractTerm:"",conversionTime:"",notWorkDate:"",beginContract:"",endContract:"",workAge:""},rules:{name:[{required:!0,message:"必填:姓名",trigger:"blur"}],gender:[{required:!1,message:"必填:性别",trigger:"blur"}],birthday:[{required:!1,message:"必填:出生日期",trigger:"blur"}],idCard:[{required:!1,message:"必填:身份证号码",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"身份证号码格式不正确",trigger:"blur"}],wedlock:[{required:!1,message:"必填:婚姻状况",trigger:"blur"}],nationId:[{required:!1,message:"必填:民族",trigger:"change"}],nativePlace:[{required:!1,message:"必填:籍贯",trigger:"blur"}],politicId:[{required:!1,message:"必填:政治面貌",trigger:"blur"}],email:[{required:!1,message:"必填:电子邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone:[{required:!0,message:"必填:电话号码",trigger:"blur"}],address:[{required:!1,message:"必填:联系地址",trigger:"blur"}],departmentId:[{required:!1,message:"必填:部门",trigger:"change"}],jobLevelId:[{required:!1,message:"必填:职称",trigger:"change"}],posId:[{required:!1,message:"必填:职位",trigger:"change"}],engageForm:[{required:!1,message:"必填:聘用形式",trigger:"blur"}],tiptopDegree:[{required:!1,message:"必填:最高学历",trigger:"change"}],specialty:[{required:!1,message:"必填:专业",trigger:"blur"}],workID:[{required:!0,message:"必填:工号",trigger:"blur"}],school:[{required:!1,message:"必填:毕业院校",trigger:"blur"}],beginDate:[{required:!1,message:"必填:入职日期",trigger:"blur"}],conversionTime:[{required:!1,message:"必填:转正日期",trigger:"blur"}],beginContract:[{required:!1,message:"必填:合同起始日期",trigger:"blur"}],endContract:[{required:!1,message:"必填:合同终止日期",trigger:"blur"}],workAge:[{required:!1,message:"必填:工龄",trigger:"blur"}]}}},mounted:function(){this.initData(),this.loadEmps()},methods:{fileUploadSuccess:function(e,t,a){e&&this.$message({type:e.status,message:e.msg}),this.loadEmps(),this.fileUploadBtnText="导入数据"},fileUploadError:function(e,t,a){this.$message({type:"error",message:"导入失败!"}),this.fileUploadBtnText="导入数据"},beforeFileUpload:function(e){this.fileUploadBtnText="正在导入"},exportEmps:function(){window.open("/employee/basic/exportEmp","_parent")},cancelSearch:function(){this.advanceSearchViewVisible=!1,this.emptyEmpData(),this.beginDateScope="",this.loadEmps()},showAdvanceSearchView:function(){this.advanceSearchViewVisible=!this.advanceSearchViewVisible,this.keywords="",this.advanceSearchViewVisible||(this.emptyEmpData(),this.beginDateScope="",this.loadEmps())},handleSelectionChange:function(e){this.multipleSelection=e},deleteManyEmps:function(){var e=this;this.$confirm("此操作将删除["+this.multipleSelection.length+"]条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t="",a=0;a<e.multipleSelection.length;a++)t+=e.multipleSelection[a].id+",";e.doDelete(t)}).catch(function(){})},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除["+e.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.id)}).catch(function(){})},doDelete:function(e){this.tableLoading=!0;var t=this;this.deleteRequest("/employee/basic/emp/"+e).then(function(e){if(t.tableLoading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadEmps()}})},keywordsChange:function(e){""==e&&this.loadEmps()},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},handleSizeChange:function(e){this.pagesize=e,this.loadEmps()},handleCurrentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("/employee/basic/listbypage?page="+this.currentPage+"&size="+this.pagesize).then(function(a){if(e.tableLoading=!1,a&&200==a.status){var i=a.data;t.emps=i.emplist,t.totalnum=i.count}})},addEmp:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;if(""!=t.emp.nationId&&"undefined"==!t.emp.nationId)for(var i=0;i<t.nations.length;i++)t.emp.nationId==t.nations[i].id&&(t.emp.nationName=t.nations[i].name);else t.emp.nationName=t.nations[0].name,t.emp.nationId=t.nations[0].id;if(""!=t.emp.politicId&&"undefined"==!t.emp.politicId)for(var l=0;l<t.politics.length;l++)t.emp.politicId==t.politics[l].id&&(t.emp.politicName=t.politics[l].name);else t.emp.politicName=t.politics[0].name,t.emp.politicId=t.politics[0].id;if(""!=t.emp.posId&&"undefined"==!t.emp.posId)for(var r=0;r<t.positions.length;r++)t.emp.posId==t.positions[r].id&&(t.emp.posName=t.positions[r].name);else t.emp.posName=t.positions[0].name,t.emp.posId=t.positions[0].id;if(""!=t.emp.jobLevelId&&"undefined"==!t.emp.jobLevelId)for(var s=0;s<t.joblevels.length;s++)t.emp.jobLevelId==t.joblevels[s].id&&(t.emp.jobLevelName=t.joblevels[s].name);else t.emp.jobLevelName=t.joblevels[0].name,t.emp.jobLevelId=t.joblevels[0].id;if(""!=t.emp.tiptopDegreeId&&"undefined"==!t.emp.tiptopDegreeId)for(var n=0;n<t.degrees.length;n++)t.emp.tiptopDegreeId==t.degrees[n].id&&(t.emp.tiptopDegreeName=t.degrees[n].name);else t.emp.tiptopDegreeName=t.degrees[0].name,t.emp.tiptopDegreeId=t.degrees[0].id;console.log(t.emp),t.emp.id?(t.tableLoading=!0,t.putRequest("/employee/basic/emp",t.emp).then(function(e){if(a.tableLoading=!1,e&&200==e.status){var t=e.data;a.$message({type:t.status,message:t.msg}),a.dialogVisible=!1,a.emptyEmpData(),a.loadEmps()}})):(t.tableLoading=!0,t.postRequest("/employee/basic/emp",t.emp).then(function(e){if(a.tableLoading=!1,e&&200==e.status){var t=e.data;a.$message({type:t.status,message:t.msg}),a.dialogVisible=!1,a.emptyEmpData(),a.loadEmps()}}))})},cancelEidt:function(){this.dialogVisible=!1,this.emptyEmpData()},showDepTree:function(){this.showOrHidePop=!this.showOrHidePop},showDepTree2:function(){this.showOrHidePop2=!this.showOrHidePop2},handleNodeClick:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop=!1,this.depTextColor="#606266"},handleNodeClick2:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop2=!1,this.depTextColor="#606266"},initData:function(){var e=this;this.getRequest("/employee/basic/basicdata").then(function(t){if(t&&200==t.status){var a=t.data;e.nations=a.nations,e.politics=a.politics,e.deps=a.deps,e.positions=a.positions,e.joblevels=a.joblevels,e.emp.workID=a.workID}})},showEditEmpView:function(e){this.dialogTitle="编辑员工",this.emp=e,this.emp.birthday=this.formatDate(e.birthday),this.emp.conversionTime=this.formatDate(e.conversionTime),this.emp.beginContract=this.formatDate(e.beginContract),this.emp.endContract=this.formatDate(e.endContract),this.emp.beginDate=this.formatDate(e.beginDate),delete this.emp.workAge,delete this.emp.notWorkDate,this.dialogVisible=!0},showAddEmpView:function(){this.emp={name:"",gender:"",birthday:"",idCard:"",wedlock:"",nationId:"",nativePlace:"",politicId:"",email:"",phone:"",address:"",departmentId:"",departmentName:"所属部门...",jobLevelId:"",posId:"",engageForm:"",tiptopDegree:"",tiptopDegreeName:"",specialty:"",school:"",beginDate:"",workState:"",workID:"",contractTerm:"",conversionTime:"",notWorkDate:"",beginContract:"",endContract:"",workAge:""},this.dialogTitle="添加员工",this.dialogVisible=!0;var e=this;this.getRequest("/employee/basic/maxWorkID").then(function(t){t&&200==t.status&&(e.emp.workID=t.data)})},emptyEmpData:function(){this.emp={name:"",gender:"",birthday:"",idCard:"",wedlock:"",nationId:"",nationName:"",nativePlace:"",politicId:"",politicName:"",email:"",phone:"",address:"",departmentId:"",departmentName:"所属部门",jobLevelId:"",jobLevelName:"",posId:"",posName:"",engageForm:"",tiptopDegreeId:"",tiptopDegree:"",specialty:"",school:"",beginDate:"",workState:"",workID:"",contractTerm:"",conversionTime:"",notWorkDate:"",beginContract:"",endContract:"",workAge:""}}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{display:"inline"}},[a("el-input",{staticStyle:{width:"300px",margin:"0px",padding:"0px"},attrs:{placeholder:"通过员工名搜索员工,记得回车哦...",clearable:"",size:"mini",disabled:e.advanceSearchViewVisible,"prefix-icon":"el-icon-search"},on:{change:e.keywordsChange},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchEmp(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchEmp}},[e._v("搜索\n        ")])],1),e._v(" "),a("div",{staticStyle:{"margin-left":"5px","margin-right":"20px",display:"inline"}},[a("el-upload",{staticStyle:{display:"inline"},attrs:{"show-file-list":!1,accept:"application/vnd.ms-excel",action:"/employee/basic/importEmp","on-success":e.fileUploadSuccess,"on-error":e.fileUploadError,disabled:"正在导入"==e.fileUploadBtnText,"before-upload":e.beforeFileUpload}},[a("el-button",{attrs:{size:"mini",type:"success",loading:"正在导入"==e.fileUploadBtnText}},[a("i",{staticClass:"fa fa-lg fa-level-up",staticStyle:{"margin-right":"5px"}}),e._v(e._s(e.fileUploadBtnText)+"\n          ")])],1),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportEmps}},[a("i",{staticClass:"fa fa-lg fa-level-down",staticStyle:{"margin-right":"5px"}}),e._v("导出数据\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.showAddEmpView}},[e._v("\n          添加员工\n        ")])],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("transition",{attrs:{name:"slide-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.advanceSearchViewVisible,expression:"advanceSearchViewVisible"}],staticStyle:{"margin-bottom":"10px",border:"1px","border-radius":"5px","border-style":"solid",padding:"5px 0px 5px 0px","box-sizing":"border-box","border-color":"#20a0ff"}},[a("el-row",[a("el-col",{attrs:{span:5}},[e._v("\n                政治面貌:\n                "),a("el-select",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"政治面貌"},model:{value:e.emp.politicId,callback:function(t){e.$set(e.emp,"politicId",t)},expression:"emp.politicId"}},e._l(e.politics,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                民族:\n                "),a("el-select",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"请选择民族"},model:{value:e.emp.nationId,callback:function(t){e.$set(e.emp,"nationId",t)},expression:"emp.nationId"}},e._l(e.nations,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                职位:\n                "),a("el-select",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"请选择职位"},model:{value:e.emp.posId,callback:function(t){e.$set(e.emp,"posId",t)},expression:"emp.posId"}},e._l(e.positions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                职称:\n                "),a("el-select",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"请选择职称"},model:{value:e.emp.jobLevelName,callback:function(t){e.$set(e.emp,"jobLevelName",t)},expression:"emp.jobLevelName"}},e._l(e.joblevels,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.Name}})}))],1),e._v(" "),a("el-col",{attrs:{span:7}},[e._v("\n                聘用形式:\n                "),a("el-radio-group",{model:{value:e.emp.engageForm,callback:function(t){e.$set(e.emp,"engageForm",t)},expression:"emp.engageForm"}},[a("el-radio",{attrs:{label:"劳动合同"}},[e._v("劳动合同")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"劳务合同"}},[e._v("劳务合同")])],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:5}},[e._v("\n                所属部门:\n                "),a("el-popover",{attrs:{placement:"right",title:"请选择部门",trigger:"manual"},model:{value:e.showOrHidePop2,callback:function(t){e.showOrHidePop2=t},expression:"showOrHidePop2"}},[a("el-tree",{attrs:{data:e.deps,"default-expand-all":!0,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick2}}),e._v(" "),a("div",{staticStyle:{width:"130px",height:"26px",display:"inline-flex","font-size":"13px",border:"1px","border-radius":"5px","border-style":"solid","padding-left":"13px","box-sizing":"border-box","border-color":"#dcdfe6",cursor:"pointer","align-items":"center"},style:{color:e.depTextColor},attrs:{slot:"reference"},on:{click:e.showDepTree2},slot:"reference"},[e._v(e._s(e.emp.departmentName)+"\n                  ")])],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[e._v("\n                入职日期:\n                "),a("el-date-picker",{attrs:{"unlink-panels":"",size:"mini",type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.beginDateScope,callback:function(t){e.beginDateScope=t},expression:"beginDateScope"}})],1),e._v(" "),a("el-col",{attrs:{span:5,offset:4}},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelSearch}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.searchEmp}},[e._v("搜索")])],1)],1)],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"left",fixed:"",label:"姓名",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"workID",width:"85",align:"left",label:"工号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{width:"85",align:"left",label:"出生日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.birthday)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"idCard",width:"150",align:"left",label:"身份证号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wedlock",width:"70",label:"婚姻状况"}}),e._v(" "),a("el-table-column",{attrs:{width:"50",prop:"nation.name",label:"民族"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nativePlace",width:"80",label:"籍贯"}}),e._v(" "),a("el-table-column",{attrs:{prop:"politicsStatus.name",label:"政治面貌"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",width:"180",align:"left",label:"电子邮件"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",width:"100",label:"电话号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",width:"220",align:"left",label:"联系地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"department.name",align:"left",width:"100",label:"所属部门"}}),e._v(" "),a("el-table-column",{attrs:{width:"100",align:"left",prop:"position.name",label:"职位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"jobLevel.name",width:"100",align:"left",label:"职称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"engageForm",label:"聘用形式"}}),e._v(" "),a("el-table-column",{attrs:{width:"85",align:"left",label:"入职日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.beginDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"85",align:"left",label:"转正日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.conversionTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"95",align:"left",label:"合同起始日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.beginContract)))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"95",align:"left",label:"合同截至日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.endContract)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",width:"70",label:"合同期限"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.contractTerm)+"年")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"tiptopDegree",label:"最高学历"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"195"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{size:"mini"},on:{click:function(a){e.showEditEmpView(t.row)}}},[e._v("编辑\n              ")]),e._v(" "),a("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{type:"danger",size:"mini"},on:{click:function(a){e.deleteEmp(t.row)}}},[e._v("删除\n              ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"danger",size:"mini",disabled:0==e.multipleSelection.length},on:{click:e.deleteManyEmps}},[e._v("批量删除\n          ")]):e._e(),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])],1),e._v(" "),a("el-form",{ref:"addEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.emp,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"77%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入员工姓名"},model:{value:e.emp.name,callback:function(t){e.$set(e.emp,"name",t)},expression:"emp.name"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",[a("el-form-item",{attrs:{label:"性别:",prop:"gender"}},[a("el-radio-group",{model:{value:e.emp.gender,callback:function(t){e.$set(e.emp,"gender",t)},expression:"emp.gender"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"女"}},[e._v("女")])],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"出生日期:",prop:"birthday"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",placeholder:"出生日期"},model:{value:e.emp.birthday,callback:function(t){e.$set(e.emp,"birthday",t)},expression:"emp.birthday"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",[a("el-form-item",{attrs:{label:"政治面貌:",prop:"politicId"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"政治面貌"},model:{value:e.emp.politicId,callback:function(t){e.$set(e.emp,"politicId",t)},expression:"emp.politicId"}},e._l(e.politics,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"民族:",prop:"nationId"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择民族"},model:{value:e.emp.nationId,callback:function(t){e.$set(e.emp,"nationId",t)},expression:"emp.nationId"}},e._l(e.nations,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",[a("el-form-item",{attrs:{label:"籍贯:",prop:"nativePlace"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"员工籍贯"},model:{value:e.emp.nativePlace,callback:function(t){e.$set(e.emp,"nativePlace",t)},expression:"emp.nativePlace"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"电子邮箱:",prop:"email"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-message",size:"mini",placeholder:"电子邮箱地址..."},model:{value:e.emp.email,callback:function(t){e.$set(e.emp,"email",t)},expression:"emp.email"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",[a("el-form-item",{attrs:{label:"联系地址:",prop:"address"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"联系地址..."},model:{value:e.emp.address,callback:function(t){e.$set(e.emp,"address",t)},expression:"emp.address"}})],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"电话号码:",prop:"phone"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-phone",size:"mini",placeholder:"电话号码..."},model:{value:e.emp.phone,callback:function(t){e.$set(e.emp,"phone",t)},expression:"emp.phone"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",[a("el-form-item",{attrs:{label:"职称:",prop:"jobLevelId"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"请选择职称"},model:{value:e.emp.jobLevelId,callback:function(t){e.$set(e.emp,"jobLevelId",t)},expression:"emp.jobLevelId"}},e._l(e.joblevels,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"所属部门:",prop:"departmentId"}},[a("el-popover",{attrs:{placement:"right",title:"请选择部门",trigger:"manual"},model:{value:e.showOrHidePop,callback:function(t){e.showOrHidePop=t},expression:"showOrHidePop"}},[a("el-tree",{attrs:{data:e.deps,"default-expand-all":!0,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}}),e._v(" "),a("div",{staticStyle:{width:"150px",height:"26px",display:"inline-flex","font-size":"13px",border:"1px","border-radius":"5px","border-style":"solid","padding-left":"13px","box-sizing":"border-box","border-color":"#dcdfe6",cursor:"pointer","align-items":"center"},style:{color:e.depTextColor},attrs:{slot:"reference"},on:{click:function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key)?"button"in t&&0!==t.button?null:void e.showDepTree(t):null}},slot:"reference"},[e._v(e._s(e.emp.departmentName)+"\n                  ")])],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",[a("el-form-item",{attrs:{label:"职位:",prop:"posId"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择职位"},model:{value:e.emp.posId,callback:function(t){e.$set(e.emp,"posId",t)},expression:"emp.posId"}},e._l(e.positions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.posId}})}))],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"工号:",prop:"workID"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{disabled:"",size:"mini",placeholder:"员工工号..."},model:{value:e.emp.workID,callback:function(t){e.$set(e.emp,"workID",t)},expression:"emp.workID"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",[a("el-form-item",{attrs:{label:"学历:",prop:"tiptopDegree"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"最高学历"},model:{value:e.emp.tiptopDegreeId,callback:function(t){e.$set(e.emp,"tiptopDegreeId",t)},expression:"emp.tiptopDegreeId"}},e._l(e.degrees,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"毕业院校:",prop:"school"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"毕业院校名称"},model:{value:e.emp.school,callback:function(t){e.$set(e.emp,"school",t)},expression:"emp.school"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",[a("el-form-item",{attrs:{label:"专业名称:",prop:"specialty"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"专业名称"},model:{value:e.emp.specialty,callback:function(t){e.$set(e.emp,"specialty",t)},expression:"emp.specialty"}})],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"入职日期:",prop:"beginDate"}},[a("el-date-picker",{staticStyle:{width:"130px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"入职日期"},model:{value:e.emp.beginDate,callback:function(t){e.$set(e.emp,"beginDate",t)},expression:"emp.beginDate"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"转正日期:",prop:"conversionTime"}},[a("el-date-picker",{staticStyle:{width:"130px"},attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",placeholder:"转正日期"},model:{value:e.emp.conversionTime,callback:function(t){e.$set(e.emp,"conversionTime",t)},expression:"emp.conversionTime"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"合同起始日期:",prop:"beginContract"}},[a("el-date-picker",{staticStyle:{width:"135px"},attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",placeholder:"合同起始日期"},model:{value:e.emp.beginContract,callback:function(t){e.$set(e.emp,"beginContract",t)},expression:"emp.beginContract"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"合同终止日期:",prop:"endContract"}},[a("el-date-picker",{staticStyle:{width:"135px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"date",placeholder:"合同终止日期"},model:{value:e.emp.endContract,callback:function(t){e.$set(e.emp,"endContract",t)},expression:"emp.endContract"}})],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",[a("el-form-item",{attrs:{label:"身份证号码:",prop:"idCard"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入员工身份证号码..."},model:{value:e.emp.idCard,callback:function(t){e.$set(e.emp,"idCard",t)},expression:"emp.idCard"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",[a("el-form-item",{attrs:{label:"聘用形式:",prop:"engageForm"}},[a("el-radio-group",{model:{value:e.emp.engageForm,callback:function(t){e.$set(e.emp,"engageForm",t)},expression:"emp.engageForm"}},[a("el-radio",{attrs:{label:"劳动合同"}},[e._v("劳动合同")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"劳务合同"}},[e._v("劳务合同")])],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",[a("el-form-item",{attrs:{label:"婚姻状况:",prop:"wedlock"}},[a("el-radio-group",{model:{value:e.emp.wedlock,callback:function(t){e.$set(e.emp,"wedlock",t)},expression:"emp.wedlock"}},[a("el-radio",{attrs:{label:"已婚"}},[e._v("已婚")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"未婚"}},[e._v("未婚")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"离异"}},[e._v("离异")])],1)],1)],1)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.addEmp("addEmpForm")}}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("V95O")},null,null);t.default=r.exports},"/LNZ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"position"==e.state?"添加职位...":"添加职称...",size:"mini","prefix-icon":"el-icon-plus"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.addPosition(t)}},model:{value:e.positionName,callback:function(t){e.positionName=t},expression:"positionName"}}),e._v(" "),"jobtitle"==e.state?a("el-select",{attrs:{size:"mini",placeholder:"职称等级"},model:{value:e.titleLevel,callback:function(t){e.titleLevel=t},expression:"titleLevel"}},e._l(e.titleLevels,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addPosition}},[e._v("添加")])],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"80%"},attrs:{data:e.posData,size:"mini",stripe:"",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"编号",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"position"==e.state?"职位名称":"职称名称",width:"180",align:"left"}}),e._v(" "),"jobtitle"==e.state?a("el-table-column",{attrs:{prop:"titleLevel",label:"职称级别",width:"180",align:"left"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{width:"180",label:"创建时间",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.createDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n          ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除\n          ")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"left","margin-top":"10px"}},[e.posData.length>0?a("el-button",{attrs:{type:"danger",size:"mini",disabled:0==e.multipleSelection.length},on:{click:e.deleteMany}},[e._v("批量删除\n    ")]):e._e()],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"position"==e.state?"编辑职位名称":"编辑职称",visible:e.dialogVisible,width:"25%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入新的职位名称..."},model:{value:e.updatePosName,callback:function(t){e.updatePosName=t},expression:"updatePosName"}}),e._v(" "),"jobtitle"==e.state?a("el-select",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini",placeholder:"职称等级"},model:{value:e.updateTitleLevel,callback:function(t){e.updateTitleLevel=t},expression:"updateTitleLevel"}},e._l(e.titleLevels,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})):e._e(),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.updatePosNameExec}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]},l=a("Z0/y")({mounted:function(){this.loadTableData()},methods:{updatePosNameExec:function(){var e=this;if(this.isNotNullORBlank(this.updatePosName)){this.loading=!0;var t=this;this.putRequest("position"==this.state?"/system/basic/position":"/system/basic/joblevel",{name:this.updatePosName,id:this.updatePosId,titleLevel:this.updateTitleLevel}).then(function(a){if(t.loading=!1,a&&200==a.status){e.dialogVisible=!1;var i=a.data;t.$message({type:i.status,message:i.msg}),t.loadTableData()}})}else this.$message.warning("position"==this.state?"职位名称不能为空!":"职称名称不能为空!")},deleteMany:function(){var e=this,t=this;this.$confirm("删除"+this.multipleSelection.length+"条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e="";t.multipleSelection.forEach(function(t){e=e+t.id+","}),t.doDelete(e)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},addPosition:function(){if(this.isNotNullORBlank(this.positionName))if("jobtitle"!=this.state||this.isNotNullORBlank(this.titleLevel)){var e=this;this.loading=!0,this.postRequest("position"==this.state?"/system/basic/position":"/system/basic/joblevel",{name:this.positionName,titleLevel:this.titleLevel}).then(function(t){if(e.loading=!1,t&&200==t.status){var a=t.data;e.$message({type:a.status,message:a.msg}),e.loadTableData(),e.positionName="",e.titleLevel=""}})}else this.$message.warning("请选择职称级别!");else this.$message.warning("position"==this.state?"职位名称不能为空!":"职称名称不能为空!")},handleSelectionChange:function(e){this.multipleSelection=e},handleEdit:function(e,t){this.updatePosName=t.name,this.updatePosId=t.id,this.updateTitleLevel=t.titleLevel,this.dialogVisible=!0},handleDelete:function(e,t){var a=this,i=this;this.$confirm("删除["+t.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.doDelete(t.id)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},doDelete:function(e){var t=this;t.loading=!0;var a="position"==this.state?"/system/basic/position/":"/system/basic/joblevel/";this.deleteRequest(a+e).then(function(e){t.loading=!1,e&&200==e.status&&t.loadTableData()})},loadTableData:function(){var e=this;this.loading=!0,this.getRequest("position"==this.state?"/system/basic/positions":"/system/basic/joblevels").then(function(t){e.loading=!1,t&&200==t.status&&(e.posData=t.data)})}},data:function(){return{positionName:"",updatePosName:"",updateTitleLevel:"",titleLevel:"",updatePosId:-1,loading:!1,dialogVisible:!1,multipleSelection:[],type:[],titleLevels:["正高级","副高级","中级","初级","员级"],nameLabelName:"position"==this.state?"职位名称":"职称名称",posData:[]}},props:["state"]},i,!1,null,null,null);t.default=l.exports},"/mlR":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{nowTab:1,username:"",name:"",uid:"",tableLoading:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[]}},methods:{toinfo:function(e){this.$router.push("/order/info/"+e)},toadd:function(){this.$router.push("/order/add")},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this;this.getRequest("/plant/new/order?page="+this.currentPage+"&size="+this.pagesize+"&userId="+this.uid+"&plantStatus=2").then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.orderlist,e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.orderName.indexOf(e.select_word)>-1||t.clientCompanyName.indexOf(e.select_word)>-1)return t})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.nowTab,expression:"nowTab === 1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("车间管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("已完成订单列表")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"20px"}},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.data,stripe:""}},[a("el-table-column",{attrs:{label:"产品名称",prop:"orderName"}}),e._v(" "),a("el-table-column",{attrs:{label:"客户单位",prop:"clientCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"紧急程度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.urgency+""=="0"?a("el-tag",{attrs:{type:"primary"}},[e._v("一般")]):e._e(),e._v(" "),t.row.urgency+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("紧急")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"面积",prop:"realityArea"}}),e._v(" "),a("el-table-column",{attrs:{label:"完工日期",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"下单日期",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){}}},[e._v("查看详情")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("jiqK")},"data-v-3c43d2cf",null);t.default=r.exports},"0Y5V":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{username:"",name:"",uid:"",showTab:1,tableLoading:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[]}},methods:{toadd:function(){this.$router.push("/offer/bus/add")},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this;this.getRequest("/offer/bus/listbypage?page="+this.currentPage+"&size="+this.pagesize+"&addUserId="+this.uid).then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.busbaojialist,e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.showTab,expression:"showTab ==1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("商务报价")]),e._v(" "),a("el-breadcrumb-item",[e._v("商务报价列表")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"30px"}},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"mr10",attrs:{type:"primary",icon:"plus"},on:{click:e.toadd}},[e._v("增添商务价单")]),e._v(" "),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"20px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{label:"客户单位",prop:"clientCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"车型",prop:"carType"}}),e._v(" "),a("el-table-column",{attrs:{label:"审核状态",prop:"aduit"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.audit+""=="0"?a("el-tag",{attrs:{type:"info"}},[e._v("审核中")]):e._e(),e._v(" "),t.row.audit+""=="1"?a("el-tag",{attrs:{type:"success"}},[e._v("通过")]):e._e(),e._v(" "),t.row.audit+""=="2"?a("el-tag",{attrs:{type:"danger"}},[e._v("驳回")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"税前合计",prop:"noTaxTotal"}}),e._v(" "),a("el-table-column",{attrs:{label:"税率",prop:"tax"}}),e._v(" "),a("el-table-column",{attrs:{label:"含税合计",prop:"total"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){}}},[e._v("详情")])]}}])})],1)],1)])],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("T/v7")},"data-v-71a674c6",null);t.default=r.exports},"2Tja":function(e,t){},"2eoi":function(e,t,a){var i={"./Home.vue":"lO7g","./Login.vue":"xJsL","./audit/AuditBus.vue":"ltpN","./audit/AuditPer.vue":"DAX1","./audit/BusBaoJiaInfo.vue":"GVAj","./audit/PerBaoJiaInfo.vue":"3M5N","./chat/Chat.vue":"T5Y6","./chat/FriendChat.vue":"ngyR","./chat/Notification.vue":"Gpj+","./comm/AddOfferPer.vue":"mCzI","./comm/BuChongGongYi.vue":"IcNb","./count/CountWork.vue":"+Goj","./emp/EmpAdv.vue":"ABUp","./emp/EmpBasic.vue":"+sH/","./material/MaterialApply.vue":"blek","./material/MaterialRecord.vue":"ik/5","./offer/OfferBus.vue":"0Y5V","./offer/OfferBusAdd.vue":"MxPq","./offer/OfferPer.vue":"38WF","./offer/OfferPerAdd.vue":"vxwm","./order/OrderAdd.vue":"zRBn","./order/OrderInfo.vue":"uIsJ","./order/OrderList.vue":"DdJ0","./personnel/PerEc.vue":"GZY3","./personnel/PerEmp.vue":"XGB5","./personnel/PerMv.vue":"F1RE","./personnel/PerSalary.vue":"nSLl","./personnel/PerTrain.vue":"K5YU","./plant/PlantMaOrder.vue":"+J+B","./plant/PlantNewOrder.vue":"43UR","./plant/PlantOrderInfo.vue":"ZMcc","./plant/PlantOverOrder.vue":"/mlR","./project/ProMaList.vue":"ykdn","./quality/QualityFinish.vue":"zdJg","./quality/QualityProcess.vue":"qnqA","./salary/SalMonth.vue":"R27X","./salary/SalSearch.vue":"mNON","./salary/SalSob.vue":"VnTu","./salary/SalSobCfg.vue":"YbFX","./salary/SalTable.vue":"tQt2","./sfmo/ChaiMoList.vue":"Ciec","./sfmo/ShouCaiList.vue":"nZPv","./sfmo/ShouList.vue":"F6Rv","./statistics/StaAll.vue":"4/RD","./statistics/StaPers.vue":"97Ts","./statistics/StaRecord.vue":"Tlrr","./statistics/StaScore.vue":"r3HF","./stock/StockComplete.vue":"Fiws","./stock/StockGet.vue":"algl","./stock/StockStay.vue":"3/Ga","./system/SysBasic.vue":"fc7a","./system/SysCfg.vue":"ubks","./system/SysData.vue":"UK/j","./system/SysHr.vue":"ewEk","./system/SysInit.vue":"agXO","./system/SysLog.vue":"ZDkW","./system/basic/DepMana.vue":"FvOz","./system/basic/ECMana.vue":"5xQo","./system/basic/JobTitleMana.vue":"c98W","./system/basic/MenuRole.vue":"eLaH","./system/basic/PosMana.vue":"/LNZ","./tech/TechAdded.vue":"xYIy","./tech/TechStay.vue":"puTZ","./work/WorkFlow.vue":"H2jc","./work/WorkStep.vue":"kf1N","./yao/YaoList.vue":"vChM"};function l(e){return a(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}l.keys=function(){return Object.keys(i)},l.resolve=r,e.exports=l,l.id="2eoi"},"3/Ga":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{username:"",name:"",uid:"",showTab:1,tableLoading:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[]}},methods:{toadd:function(){this.$router.push("/offer/per/add")},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},wancheng:function(e){var t=this,a={wuLiaoId:e.id,status:1,principalUserId:this.uid,principalUserName:this.name};this.postRequest("/stock/manager/finish",a).then(function(e){e&&200==e.status&&0==e.data.code?(t.$message.success("操作成功"),t.getCollectMouldList()):t.$message.error("操作失败")})},getCollectMouldList:function(){var e=this;this.getRequest("/stock/manager/listbypage?page="+this.currentPage+"&size="+this.pagesize+"&status=0").then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.wuliaolist,e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.wuLiaoName.indexOf(e.select_word)>-1||t.orderName.indexOf(e.select_word)>-1)return t})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("备料管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("待备料")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"30px"}},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"20px"}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"orderName",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wuLiaoName",label:"物料"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addUserName",label:"下单人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"备料进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status+""=="0"?a("el-tag",[e._v("待备料")]):e._e(),e._v(" "),t.row.status+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("待领取")]):e._e(),e._v(" "),t.row.status+""=="2"?a("el-tag",{attrs:{type:"warning"}},[e._v("完成")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"下单时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.wancheng(t.row)}}},[e._v("备料完成")])]}}])})],1)],1)])],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("hI+w")},"data-v-2e513a52",null);t.default=r.exports},"38WF":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{username:"",name:"",uid:"",showTab:1,tableLoading:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[]}},methods:{toadd:function(){this.$router.push("/offer/per/add")},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this;this.getRequest("/offer/per/listbypage?page="+this.currentPage+"&size="+this.pagesize+"&addUserId="+this.uid).then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.yubaojialist,console.log(e.tableData),e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.showTab,expression:"showTab ==1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("预报价")]),e._v(" "),a("el-breadcrumb-item",[e._v("预报价列表")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"30px"}},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"mr10",attrs:{type:"primary",icon:"plus"},on:{click:e.toadd}},[e._v("增添预报价单")]),e._v(" "),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"20px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{label:"客户单位",prop:"clientCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"车型",prop:"carType"}}),e._v(" "),a("el-table-column",{attrs:{label:"审核状态",prop:"aduit"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.audit+""=="0"?a("el-tag",{attrs:{type:"info"}},[e._v("审核中")]):e._e(),e._v(" "),t.row.audit+""=="1"?a("el-tag",{attrs:{type:"success"}},[e._v("通过")]):e._e(),e._v(" "),t.row.audit+""=="2"?a("el-tag",{attrs:{type:"danger"}},[e._v("驳回")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"税前合计",prop:"noTaxTotal"}}),e._v(" "),a("el-table-column",{attrs:{label:"税率",prop:"tax"}}),e._v(" "),a("el-table-column",{attrs:{label:"含税合计",prop:"total"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){}}},[e._v("详情")])]}}])})],1)],1)])],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("vRqD")},"data-v-26c3f608",null);t.default=r.exports},"3HsB":function(e,t){},"3xp9":function(e,t){},"4/RD":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    综合信息统计\n  ")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},"43UR":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{nowTab:1,username:"",name:"",uid:"",tableLoading:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[]}},methods:{toinfo:function(e){this.$router.push("/plant/order/info/"+e)},toadd:function(){this.$router.push("/order/add")},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this;this.getRequest("/plant/new/order?page="+this.currentPage+"&size="+this.pagesize+"&userId="+this.uid+"&plantStatus=0").then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.orderlist,console.log(e.tableData),e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.orderName.indexOf(e.select_word)>-1||t.clientCompanyName.indexOf(e.select_word)>-1)return t})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.nowTab,expression:"nowTab === 1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("车间管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("待分配订单列表")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"20px"}},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.data,stripe:""}},[a("el-table-column",{attrs:{label:"产品名称",prop:"orderName"}}),e._v(" "),a("el-table-column",{attrs:{label:"客户单位",prop:"clientCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"紧急程度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.urgency+""=="0"?a("el-tag",{attrs:{type:"primary"}},[e._v("一般")]):e._e(),e._v(" "),t.row.urgency+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("紧急")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"工艺卡状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.techId?e._e():a("el-tag",{attrs:{type:"danger"}},[e._v("未提交")]),e._v(" "),t.row.techId?a("el-tag",{attrs:{type:"primary"}},[e._v("已提交")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"实际面积",prop:"realityArea"}}),e._v(" "),a("el-table-column",{attrs:{label:"完工预期",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"下单日期",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.techId?e._e():a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.toinfo(t.row.id)}}},[e._v("查看详情")]),e._v(" "),t.row.techId?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.toinfo(t.row.id)}}},[e._v("加工分配")]):e._e()]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("7TmX")},"data-v-fda28ac2",null);t.default=r.exports},"5xQo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("奖惩规则")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},"6xh5":function(e,t){},"7TmX":function(e,t){},"7y56":function(e,t){},"8nVG":function(e,t){},"97Ts":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    人事信息统计\n  ")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},ABUp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("高级资料")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},Ciec:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Z0/y")(null,null,!1,null,null,null);t.default=i.exports},Cz5g:function(e,t){},DAX1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{activeName:"first",username:"",name:"",uid:"",tableLoading:!1,currentPage0:1,totalnum0:0,pagesize0:10,currentPage1:1,totalnum1:0,pagesize1:10,currentPage2:1,totalnum2:0,pagesize2:10,tableData0:[],tableData1:[],tableData2:[]}},methods:{toinfo:function(e){this.$router.push("/per/offer/info/"+e)},tongGuoShenHe:function(e){0==e.index?this.getCollectMouldList(0,this.currentPage0,this.pagesize0):1==e.index?this.getCollectMouldList(1,this.currentPage1,this.pagesize1):2==e.index&&this.getCollectMouldList(2,this.currentPage2,this.pagesize2)},tableRowClassName:function(e){e.row,e.rowIndex;return"warning-row"},tableRowClassName1:function(e){e.row,e.rowIndex;return"success-row"},tableRowClassName2:function(e){e.row,e.rowIndex;return"error-row"},handleSizeChange0:function(e){this.pagesize0=e,this.getCollectMouldList(0,this.currentPage0,this.pagesize0)},handleCurrentChange0:function(e){this.currentPage0=e,this.getCollectMouldList(0,this.currentPage0,this.pagesize0)},handleSizeChange1:function(e){this.pagesize1=e,this.getCollectMouldList(1,this.currentPage1,this.pagesize1)},handleCurrentChange1:function(e){this.currentPage1=e,this.getCollectMouldList(1,this.currentPage1,this.pagesize1)},handleSizeChange2:function(e){this.pagesize2=e,this.getCollectMouldList(2,this.currentPage2,this.pagesize2)},handleCurrentChange2:function(e){this.currentPage2=e,this.getCollectMouldList(2,this.currentPage2,this.pagesize2)},getCollectMouldList1:function(e,t,a){var i=this;this.getRequest("/audit/bus/listbypage?page="+t+"&size="+a+"&audit=1").then(function(e){e&&200==e.status&&0==e.data.code&&(alert("dsd"),i.tableData1=e.data.data.auditbusbaojialist,i.totalnum1=e.data.data.count)})},getCollectMouldList:function(e,t,a){var i=this;this.getRequest("/audit/per/listbypage?page="+t+"&size="+a+"&audit="+e).then(function(t){t&&200==t.status&&0==t.data.code&&(0==e?(i.tableData0=t.data.data.audityubaojialist,i.totalnum0=t.data.data.count):1==e?(i.tableData1=t.data.data.audityubaojialist,i.totalnum1=t.data.data.count):2==e&&(i.tableData2=t.data.data.audityubaojialist,i.totalnum1=t.data.data.count))})}},mounted:function(){this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name"),this.getCollectMouldList(0,1,10)}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("商务报价审核")]),e._v(" "),a("el-breadcrumb-item",[e._v("审核记录")])],1)],1),e._v(" "),a("el-container",[a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"20px"}},[a("div",[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.tongGuoShenHe}},[a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-date"},[e._v("待审核")])]),e._v(" "),a("el-table",{attrs:{data:e.tableData0,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"客户单位",prop:"clientCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"车型",prop:"carType"}}),e._v(" "),a("el-table-column",{attrs:{label:"审核状态",prop:"aduit"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.audit+""=="0"?a("el-tag",{attrs:{type:"primary"}},[e._v("待审核")]):e._e(),e._v(" "),t.row.audit+""=="1"?a("el-tag",{attrs:{type:"info"}},[e._v("审核通过")]):e._e(),e._v(" "),t.row.audit+""=="2"?a("el-tag",{attrs:{type:"danger"}},[e._v("驳回")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"费用合计",prop:"total"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toinfo(t.row.id)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage0,"page-sizes":[10,30,80,100],"page-size":e.pagesize0,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum0},on:{"size-change":e.handleSizeChange0,"current-change":e.handleCurrentChange0}})],1)],1),e._v(" "),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-date"},[e._v("已通过")])]),e._v(" "),a("el-table",{attrs:{data:e.tableData1,"row-class-name":e.tableRowClassName1}},[a("el-table-column",{attrs:{label:"客户单位",prop:"clientCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"车型",prop:"carType"}}),e._v(" "),a("el-table-column",{attrs:{label:"审核状态",prop:"aduit"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.audit+""=="0"?a("el-tag",{attrs:{type:"primary"}},[e._v("待审核")]):e._e(),e._v(" "),t.row.audit+""=="1"?a("el-tag",{attrs:{type:"success"}},[e._v("审核通过")]):e._e(),e._v(" "),t.row.audit+""=="2"?a("el-tag",{attrs:{type:"danger"}},[e._v("驳回")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"费用合计",prop:"total"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toinfo(t.row.id)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage1,"page-sizes":[10,30,80,100],"page-size":e.pagesize1,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum1},on:{"size-change":e.handleSizeChange1,"current-change":e.handleCurrentChange1}})],1)],1),e._v(" "),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-date"},[e._v("未通过")])]),e._v(" "),a("el-table",{attrs:{data:e.tableData2,"row-class-name":e.tableRowClassName2}},[a("el-table-column",{attrs:{label:"客户单位",prop:"clientCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"车型",prop:"carType"}}),e._v(" "),a("el-table-column",{attrs:{label:"审核状态",prop:"aduit"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.audit+""=="0"?a("el-tag",{attrs:{type:"primary"}},[e._v("待审核")]):e._e(),e._v(" "),t.row.audit+""=="1"?a("el-tag",{attrs:{type:"info"}},[e._v("审核通过")]):e._e(),e._v(" "),t.row.audit+""=="2"?a("el-tag",{attrs:{type:"danger"}},[e._v("驳回")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"费用合计",prop:"total"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toinfo(t.row.id)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage2,"page-sizes":[10,30,80,100],"page-size":e.pagesize2,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum2},on:{"size-change":e.handleSizeChange2,"current-change":e.handleCurrentChange2}})],1)],1)],1)],1)])],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("LYTS"),a("8nVG")},"data-v-ea6da20a",null);t.default=r.exports},DdJ0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{nowTab:1,username:"",name:"",uid:"",tableLoading:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[]}},methods:{toinfo:function(e){this.$router.push("/order/info/"+e)},toadd:function(){this.$router.push("/order/add")},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this;this.getRequest("/order/list/listbypage?page="+this.currentPage+"&size="+this.pagesize+"&addUserId="+this.uid).then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.orderlist,e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.nowTab,expression:"nowTab === 1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("订单管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("订单列表")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"20px"}},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"mr10",attrs:{type:"primary",icon:"plus"},on:{click:e.toadd}},[e._v("创建订单")]),e._v(" "),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{label:"产品名称",prop:"orderName"}}),e._v(" "),a("el-table-column",{attrs:{label:"客户单位",prop:"clientCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.presentStepName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"订单进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(t.row.presentSchedule)+"%")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"实际面积",prop:"realityArea"}}),e._v(" "),a("el-table-column",{attrs:{label:"工艺类型",prop:"machiningType"}}),e._v(" "),a("el-table-column",{attrs:{label:"备忘"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.hasRemark+""=="true"?a("el-tag",[e._v("有")]):e._e(),e._v(" "),t.row.hasRemark+""=="false"?a("el-tag",{attrs:{type:"info"}},[e._v("无")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toinfo(t.row.id)}}},[e._v("查看详情")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("hLgA")},"data-v-c1cd5a80",null);t.default=r.exports},F1RE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("员工调动")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},F6Rv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("P6Ff");var i=a("OIbc"),l=a("+J3q"),r={components:{VueCoreImageUpload:i.default},data:function(){return{pkGuid:"",shouMoId:"",mouldPartLoading:!1,updateId:"",partsInfos:[],nowTab:1,mojuCard:!1,moJuDisable:!1,form:{mouldNum:1,addUserId:"",addUserName:"",shouMoId:"",picUrls:""},upload:"",imageData:{userId:"",imgPakage:"sfm_shou"},imageUrls:[],tableLoading:!1,changeDisable:!0,toAddDisable:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[],username:"",uid:"",batch:"",upadteDisabled:!1,tiem_disablse:!1,part_disable:!1,chomgzi_dis:!1,update_disablse:!1,base_disablse:!1,doc_collect_id:"",dialogFormVisible:!1,itemForm:{},ruleForm:{createTime:"",addUserName:"",addUserId:"",woodenCaseNum:"0",palletNum:"0",diaoHuanNum:"0",clientCompanyName:"",freightType:"",carNum:"",jianBao:!1,driverPhone:""},rules:{clientCompanyName:[{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"blur"}],freightType:[{required:!0,message:"请至少选择一种运输方式",trigger:"blur"}],carNum:[{min:8,max:24,message:"长度在 8 到 24 个字符",trigger:"blur"}],driverPhone:[{min:11,max:11,message:"请检查手机号码格式",trigger:"blur"}],remark:[{min:0,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],mouldName:[{required:!0,message:"请输入模具名称",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}]}}},methods:{delMouldRecord:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.toDelPartInfo(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},toDelPartInfo:function(e){var t=this,a=this;"undefined"!=e&&""!=e?this.getRequest("/shou/mo/del/mould?mouldId="+e).then(function(e){e&&200==e.status&&0==e.data.code?(t.toGetColletPartInfo(),a.$message.success("删除成功")):a.$message.error("删除失败")}):a.$message.error("删除出错")},toGetColletPartInfo:function(){var e=this;this.mouldPartLoading=!0;var t=this;if("undefined"==t.pkGuid||""==t.pkGuid)return this.mouldPartLoading=!1,void t.$message.error("获取模具列表失败");this.getRequest("/shou/mo/list/mouldinfo?shouMoId="+t.pkGuid).then(function(a){(e.mouldPartLoading=!1,a&&200==a.status&&0==a.data.code)?(e.partsInfos=[],a.data.data.forEach(function(e,a,i){var l=e.picUrls,r=[];"undefined"!=l&&""!=l&&(r=l.split("|"),e.picUrls=r),t.partsInfos.push(e)})):console.log("获取失败")})},to_update_partinfo:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return console.log("提交数据格式有误"),!1;var i=a.form;if(0!=a.imageUrls.length){for(var l="",r=0;r<a.imageUrls.length;r++)r==a.imageUrls.length-1?l+=a.imageUrls[r]:l=a.imageUrls[r]+"|"+l;i.picUrls=l,i.shouMoId=t.shouMoId,i.id=t.updateId,t.postRequest("/shou/mo/update/mouldinfo",i).then(function(e){e&&200==e.status&&0==e.data.code?(a.$message.success("更新成功"),a.resetForm("form"),a.imageUrls=[],t.nowTab=3,t.toGetColletPartInfo()):a.$message.error("更新失败")})}else a.$message.error("请上传必要图片")})},mouldInfos:function(e){this.nowTab=4,this.form=e,this.imageUrls=e.picUrls,this.part_disable=!0,this.shouMoId=e.shouMoId,this.updateId=e.id},toMojuLieBiao:function(){this.nowTab=3},toLieBiao:function(){this.nowTab=1},mojuInfo:function(e){this.nowTab=3,this.pkGuid=e.id;var t=[];if("undefined"!=(t=e.mouldInfos)&&t.length>0){var a=[];t.forEach(function(e,t,i){var l=e.picUrls,r=[];"undefined"!=l&&""!=l&&(r=l.split("|"),e.picUrls=r),a.push(e)}),this.partsInfos=a}},addMouldInfos:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return console.log("提交数据格式有误"),!1;var i=a.form;if(0!=a.imageUrls.length){for(var l="",r=0;r<a.imageUrls.length;r++)r==a.imageUrls.length-1?l+=a.imageUrls[r]:l=a.imageUrls[r]+"|"+l;i.picUrls=l,i.addUserId=t.uid,i.addUserName=t.name,i.shouMoId=a.pkGuid,t.postRequest("/shou/mo/create/mouldinfo",i).then(function(e){e&&200==e.status&&0==e.data.code?(a.$message.success("添加成功"),a.resetForm("form"),a.imageUrls=[],a.nowTab=1,a.getCollectMouldList()):a.$message.error("添加失败")})}else a.$message.error("请上传必要图片")})},imageuploaded:function(e){if("undefined"!==e.url.length&&e.url.length>0){for(var t=e.url,a=this.imageUrls,i=0;i<t.length;i++)a.push(t[i]);this.imageUrls=a}},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传出现异常"})},todelImage:function(e){var t=this;"undefined"!=e&&""!=e.length?this.getRequest("/config/delfile/delImage?url="+e).then(function(a){if(a&&200==a.status&&0==a.data.code){t.$message.success("删除成功");for(var i=t.imageUrls,l=[],r=0;r<i.length;r++)e!=i[r]&&l.push(i[r]);t.imageUrls=l}else t.$message.error("删除照片失败")}):t.$message.error("删除图片不存在")},delMouldImage:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.todelImage(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},goBack:function(){this.nowTab=1,this.toAddDisable=!1,this.update_disablse=!1,this.tiem_disablse=!1},toAddMouldRecord:function(){this.nowTab=2,this.toAddDisable=!this.toAddDisable,this.tiem_disablse=!1,this.ruleForm={createTime:"",addUserName:"",addUserId:"",woodenCaseNum:"0",palletNum:"0",diaoHuanNum:"0",clientCompanyName:"",freightType:"",carNum:"",jianBao:!1,driverPhone:""},this.batch=""},chaKan:function(e){this.nowTab=2,this.tiem_disablse=!0,this.update_disablse=!0,this.ruleForm=e,this.batch=e.batch},updateCollectionInfo:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;"undefined"!=a.ruleForm.id&&a.ruleForm.id+""!=""?t.putRequest("/shou/mo/update/baseinfo",a.ruleForm).then(function(e){e&&200==e.status&&0==e.data.code?(a.$message.success("修改成功"),a.goBack(),a.getCollectMouldList()):a.$message.error("修改失败")}):a.$message.error("修改失败")})},resetForm:function(e){this.$refs[e].resetFields(),"ruleForm"==e&&(this.ruleForm.createTime="",this.batch="")},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return a.$message.error("请检查填写格式"),!1;a.ruleForm.addUserId=t.uid,a.ruleForm.addUserName=t.name,a.ruleForm.batch=t.batch,t.postRequest("/shou/mo/add/baseinfo",a.ruleForm).then(function(e){if(e&&200==e.status&&0==e.data.code){var i=e.data.data.id;-1==i?_this.$message.error("添加失败"):(a.doc_collect_id=i,a.nowTab=1,t.resetForm("ruleForm"),t.tableLoading=!0,a.getCollectMouldList(),a.$message.success("添加成功"))}})})},toChange:function(){this.toInitBatch()},toInitBatch:function(){var e=this,t=e.ruleForm.createTime;""!=t&&"undefined"!=t?this.getRequest("/shou/mo/max/batch?dateTime="+t).then(function(t){if(t&&200==t.status&&0==t.data.code){var a=t.data.data+1;e.$nextTick(function(){this.batch="第"+a+"批次"})}else e.ruleForm.batch=""}):e.$message.error("请先设置收模时间")},toChangeDisable:function(){this.nowTab=4},toUpdate:function(){this.update_disablse=!0},handleChange:function(e){},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this,t=this;this.getRequest("/shou/mo/listbypage?page="+this.currentPage+"&size="+this.pagesize).then(function(a){e.tableLoading=!1,a&&200==a.status&&0==a.data.code&&(t.tableData=a.data.data.shoumolist,t.totalnum=a.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.imageData.userId=localStorage.getItem("cp_uid"),this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},created:function(){this.upload=l.a.upload},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.clientCompanyName.indexOf(e.select_word)>-1||t.addUserName.indexOf(e.select_word)>-1)return t})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.nowTab,expression:"nowTab === 1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("收模管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("收模列表")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"20px"}},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"mr10",attrs:{type:"primary",icon:"plus"},on:{click:e.toAddMouldRecord}},[e._v("增添收模记录")]),e._v(" "),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.data,stripe:""}},[a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"batch",align:"center",label:"批次"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clientCompanyName",align:"center",label:"客户单位"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"模具总数"},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.mouldInfos+""!="null"&&t.row.mouldInfos+""!="undefined"?[e._v(e._s(t.row.mouldInfos.length))]:void 0}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"addUserName",align:"center",label:"添加人"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.chaKan(t.row)}}},[e._v("基础详情")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){e.mojuInfo(t.row)}}},[e._v("模具信息")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.nowTab,expression:"nowTab==3"}]},[a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("收模管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("模具信息")])],1)],1),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("模具信息")])]),e._v(" "),a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{on:{click:e.toChangeDisable}},[a("el-card",{staticClass:"mould-card",staticStyle:{"min-height":"460px"}},[a("div",{staticStyle:{padding:"14px"}},[a("img",{staticClass:"image"}),e._v(" "),a("i",{staticClass:"el-icon-plus"},[e._v("添加模具记录")])])])],1)]),e._v(" "),e._l(e.partsInfos,function(t){return a("el-col",{attrs:{span:6}},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.mouldPartLoading,expression:"mouldPartLoading"}],staticClass:"mould-card",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:t.picUrls[0]}}),e._v(" "),a("div",{staticStyle:{padding:"14px"}},[a("h4",[e._v(e._s(t.mouldName))]),e._v(" "),a("span",[e._v("备注："+e._s(t.remark))]),e._v(" "),a("div",{staticClass:"bottom clearfix"},[a("time",{staticClass:"time"}),e._v(" "),a("el-dropdown",{staticStyle:{float:"right",color:"#409EFF"}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-edit"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.mouldInfos(t)}}},[e._v("详情")])],1),e._v(" "),a("el-dropdown-item",[a("el-button",{attrs:{type:"text",disabled:e.upadteDisabled},on:{click:function(a){e.delMouldRecord(t.id)}}},[e._v("删除")])],1)],1)],1)],1)])])],1)})],2)],1),e._v(" "),a("div",{staticClass:"card-bottom"},[a("el-button",{staticStyle:{float:"left !important"},attrs:{type:"primary"},on:{click:e.toLieBiao}},[e._v("返回")])],1)])],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:4==e.nowTab,expression:"nowTab == 4"}]},[a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("收模管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("增添收模")]),e._v(" "),a("el-breadcrumb-item",[e._v("模具详情")])],1)],1),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基础信息")])]),e._v(" "),a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",rules:e.rules}},[a("el-form-item",{attrs:{label:"模具名称：",prop:"mouldName"}},[a("el-input",{staticStyle:{width:"28%"},attrs:{placeholder:"请输入模具名称"},model:{value:e.form.mouldName,callback:function(t){e.$set(e.form,"mouldName",t)},expression:"form.mouldName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模具数量：",prop:"mouldNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},on:{change:e.handleChange},model:{value:e.form.mouldNum,callback:function(t){e.$set(e.form,"mouldNum",t)},expression:"form.mouldNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{staticStyle:{width:"28%"},attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片："}},[a("div",[a("vue-core-image-upload",{class:["el-button","el-button--primary"],attrs:{crop:!1,inputOfFile:"imageFile",url:e.upload,extensions:"png,gif,jpeg,jpg","max-file-size":5242880,data:e.imageData,text:"上传图片",multiple:!0,"multiple-size":30,credentials:"true"},on:{imageuploaded:e.imageuploaded,errorhandle:e.handleError}})],1)])],1)],1),e._v(" "),a("div",{staticStyle:{border:"1px dashed #d9d9d9",width:"100%","min-height":"358px"}},[a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},e._l(e.imageUrls,function(t){return a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"mould-card",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",staticStyle:{height:"420px"},attrs:{src:t}}),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.delMouldImage(t)}}},[a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}})])],1)])],1)}))],1),e._v(" "),a("div",{staticClass:"card-bottom"},[a("el-button",{staticStyle:{float:"left !important"},attrs:{type:"primary"},on:{click:e.toMojuLieBiao}},[e._v("返回")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!1===e.part_disable,expression:"part_disable === false"}],attrs:{type:"primary"},on:{click:function(t){e.addMouldInfos("form")}}},[e._v("提交")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!0===e.part_disable,expression:"part_disable === true"}],attrs:{type:"primary"},on:{click:function(t){e.to_update_partinfo("form")}}},[e._v("更新")])],1)])],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.nowTab,expression:"nowTab==2"}],staticStyle:{width:"100%",float:"right"}},[a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("收模管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("收模详情")])],1)],1),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("收模基础信息")])]),e._v(" "),a("div",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"批次：",prop:"batch"}},[a("el-input",{staticStyle:{width:"28%"},attrs:{placeholder:"设置时间后会自动判断批次",disabled:!0},model:{value:e.batch,callback:function(t){e.batch=t},expression:"batch"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收模时间：",prop:"createTime",required:""}},[a("el-date-picker",{staticStyle:{width:"28%"},attrs:{disabled:e.tiem_disablse,format:"yyyy 年 MM 月 dd 日 HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},on:{change:e.toChange},model:{value:e.ruleForm.createTime,callback:function(t){e.$set(e.ruleForm,"createTime",t)},expression:"ruleForm.createTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户单位：",prop:"clientCompanyName"}},[a("el-input",{staticStyle:{width:"28%"},attrs:{placeholder:"请输入客户单位名称",disabled:e.base_disablse},model:{value:e.ruleForm.clientCompanyName,callback:function(t){e.$set(e.ruleForm,"clientCompanyName",t)},expression:"ruleForm.clientCompanyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"运输方式：",prop:"freightType"}},[a("el-radio-group",{attrs:{disabled:e.base_disablse},model:{value:e.ruleForm.freightType,callback:function(t){e.$set(e.ruleForm,"freightType",t)},expression:"ruleForm.freightType"}},[a("el-radio",{attrs:{label:"快递"}}),e._v(" "),a("el-radio",{attrs:{label:"货运"}}),e._v(" "),a("el-radio",{attrs:{label:"专车"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"车牌号：",prop:"carNum"}},[a("el-input",{staticStyle:{width:"28%"},attrs:{placeholder:"请输入车牌号",disabled:e.base_disablse},model:{value:e.ruleForm.carNum,callback:function(t){e.$set(e.ruleForm,"carNum",t)},expression:"ruleForm.carNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"驾驶员手机号：",prop:"driverPhone"}},[a("el-input",{staticStyle:{width:"28%"},attrs:{placeholder:"请输入手机号",disabled:e.base_disablse},model:{value:e.ruleForm.driverPhone,callback:function(t){e.$set(e.ruleForm,"driverPhone",t)},expression:"ruleForm.driverPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"包装方式："}},[a("div",{staticStyle:{border:"1px dashed #d9d9d9",width:"40%","min-height":"128px"}},[a("el-form-item",{attrs:{label:"简包：",prop:"jianBao"}},[a("el-switch",{attrs:{disabled:e.base_disablse,"active-text":"是","inactive-text":"否"},model:{value:e.ruleForm.jianBao,callback:function(t){e.$set(e.ruleForm,"jianBao",t)},expression:"ruleForm.jianBao"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"木箱：",prop:"woodenCaseNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,disabled:e.base_disablse},on:{change:e.handleChange},model:{value:e.ruleForm.woodenCaseNum,callback:function(t){e.$set(e.ruleForm,"woodenCaseNum",t)},expression:"ruleForm.woodenCaseNum"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"托盘：",prop:"palletNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,disabled:e.base_disablse},on:{change:e.handleChange},model:{value:e.ruleForm.palletNum,callback:function(t){e.$set(e.ruleForm,"palletNum",t)},expression:"ruleForm.palletNum"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"吊环：",prop:"diaoHuanNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,disabled:e.base_disablse},on:{change:e.handleChange},model:{value:e.ruleForm.diaoHuanNum,callback:function(t){e.$set(e.ruleForm,"diaoHuanNum",t)},expression:"ruleForm.diaoHuanNum"}})],1)],1)])],1)],1),e._v(" "),a("div",[a("div",{staticClass:"card-bottom"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返 回 ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!0===e.toAddDisable,expression:"toAddDisable === true"}],staticStyle:{float:"right"},on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重 置")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!0===e.toAddDisable,expression:"toAddDisable === true"}],staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保 存")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!0===e.update_disablse,expression:"update_disablse === true "}],staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.updateCollectionInfo("ruleForm")}}},[e._v("提 交")])],1)])])],1)])])},staticRenderFns:[]};var n=a("Z0/y")(r,s,!1,function(e){a("dmbd")},"data-v-77ab9a7b",null);t.default=n.exports},Fiws:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{username:"",name:"",uid:"",showTab:1,tableLoading:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[]}},methods:{toadd:function(){this.$router.push("/offer/per/add")},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},wancheng:function(e){var t=this,a={wuLiaoId:e.id,status:1};this.postRequest("/stock/manager/finish",a).then(function(e){e&&200==e.status&&0==e.data.code?(t.$message.success("操作成功"),t.getCollectMouldList()):t.$message.error("操作失败")})},getCollectMouldList:function(){var e=this;this.getRequest("/stock/manager/listbypage?page="+this.currentPage+"&size="+this.pagesize+"&status=2").then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.wuliaolist,e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.wuLiaoName.indexOf(e.select_word)>-1||t.orderName.indexOf(e.select_word)>-1)return t})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("备料管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("已完成")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"30px"}},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"20px"}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"orderName",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wuLiaoName",label:"物料"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addUserName",label:"下单人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"备料进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status+""=="0"?a("el-tag",[e._v("待备料")]):e._e(),e._v(" "),t.row.status+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("待领取")]):e._e(),e._v(" "),t.row.status+""=="2"?a("el-tag",{attrs:{type:"warning"}},[e._v("完成")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"下单时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.wancheng(t.row)}}},[e._v("详情")])]}}])})],1)],1)])],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("6xh5")},"data-v-8d428054",null);t.default=r.exports},FvOz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),l=a.n(i),r={data:function(){return{keywords:"",depName:"",treeLoading:!1,dialogVisible:!1,allDeps:[],pDep:"",treeData:[],defaultProps:{label:"name",isLeaf:"leaf",children:"children"}}},mounted:function(){this.treeLoading=!0,this.loadTreeData()},watch:{keywords:function(e){this.$refs.tree.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},loadTreeData:function(){var e=this;this.getRequest("/system/basic/dep/-1").then(function(t){e.treeLoading=!1,t&&200==t.status&&(e.treeData=t.data)})},setDataToTree:function(e,t,a){for(var i=0;i<e.length;i++){var l=e[i];if(l.id==t)return void(e[i].children=e[i].children.concat(a));this.setDataToTree(l.children,t,a)}},addDep:function(){var e=this;this.dialogVisible=!1,this.treeLoading=!0,this.postRequest("/system/basic/dep",{name:this.depName,parentId:this.pDep}).then(function(t){if(e.treeLoading=!1,t&&200==t.status){var a=t.data;e.depName="",e.$message({type:a.status,message:"添加成功!"}),e.setDataToTree(e.treeData,e.pDep,a.msg)}})},loadAllDeps:function(){var e=this;this.getRequest("/system/basic/deps").then(function(t){t&&200==t.status&&(e.allDeps=t.data)})},showAddDepView:function(e,t){this.loadAllDeps(),this.dialogVisible=!0,this.pDep=e.id,t.stopPropagation()},deleteDep:function(e,t){var a=this;e.children.length>0?this.$message({message:"该部门下尚有其他部门，不能被删除!",type:"warning"}):this.$confirm("删除["+e.name+"]部门, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.treeLoading=!0,a.deleteRequest("/system/basic/dep/"+e.id).then(function(t){if(a.treeLoading=!1,t&&200==t.status){var i=t.data;a.$message({message:i.msg,type:i.status}),a.deleteLocalDep(a.treeData,e)}})}).catch(function(){a.$message({type:"info",message:"已取消删除"})}),t.stopPropagation()},deleteLocalDep:function(e,t){for(var a=0;a<e.length;a++){var i=e[a];if(i.id==t.id)return void e.splice(a,1);this.deleteLocalDep(i.children,t)}},renderContent:function(e,t){var a,i,r=this,s=t.node,n=t.data;t.store;return e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[s.label])]),e("span",[e("el-button",(a={style:"font-size: 12px;",attrs:{type:"primary",size:"mini"}},l()(a,"style","padding:3px"),l()(a,"on",{click:function(){return r.showAddDepView(n,event)}}),a),["添加部门"]),e("el-button",(i={style:"font-size: 12px;",attrs:{type:"danger",size:"mini"}},l()(i,"style","padding:3px"),l()(i,"on",{click:function(){return r.deleteDep(n,event)}}),i),["删除部门"])])])}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left"}},[a("el-input",{staticStyle:{width:"500px",margin:"0px",padding:"0px"},attrs:{placeholder:"输入部门名称搜索部门...",size:"mini","prefix-icon":"el-icon-search"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1),e._v(" "),a("div",[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree",staticStyle:{width:"500px","margin-top":"10px"},attrs:{props:e.defaultProps,data:e.treeData,"filter-node-method":e.filterNode,"render-content":e.renderContent}}),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"添加部门",visible:e.dialogVisible,width:"25%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("span",[e._v("上级部门")]),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.pDep,callback:function(t){e.pDep=t},expression:"pDep"}},e._l(e.allDeps,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("span",[e._v("部门名称")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请输入部门名称..."},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.addDep(t)}},model:{value:e.depName,callback:function(t){e.depName=t},expression:"depName"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addDep}},[e._v("添加")])],1)])],1)],1)])},staticRenderFns:[]},n=a("Z0/y")(r,s,!1,null,null,null);t.default=n.exports},GRSV:function(e,t){},GZY3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("员工奖惩")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},H2jc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),l=a.n(i),r=a("a3Yh"),s=a.n(r),n={props:{title:String},data:function(){var e;return e={morens:[],dialogFormVisible:!1,checkLoading:!1,username:"",name:"",uid:"",form:{isCheck:!0,isBusRemark:!1},buzhounum:"1",active:0},s()(e,"form",{}),s()(e,"steps",[]),s()(e,"restaurants3",[]),s()(e,"itemstep",""),s()(e,"moren",!0),s()(e,"liuchengId",""),s()(e,"liuchengname",""),s()(e,"rules",{flowName:[{required:!0,message:"请输入流程名称",trigger:"blur"},{min:1,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}]}),e},methods:{handleChange:function(e){},zidingyi:function(){this.dialogFormVisible=!0},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.checkLoading=!0,a.form.addUserId=t.uid,a.form.addUserName=t.name,t.postRequest("/work/step/add",a.form).then(function(e){a.checkLoading=!1,e&&200==e.status&&0==e.data.code?(a.$message.success("添加成功"),a.dialogFormVisible=!1,a.loadAllSteps()):a.$message.error("添加失败")})})},addbuzhou:function(){this.dialogFormVisible=!0},loadAllSteps:function(){var e=this;this.getRequest("/work/step/list?").then(function(t){if(t&&200==t.status&&0==t.data.code){for(var a=t.data.data.steplist,i=[],l=0;l<a.length;l++){var r={label:"",value:""};r.label=a[l].stepName,r.value=a[l].id,i.push(r)}e.restaurants3=i}else console.log("获取列表数据失败")})},loadAllFlows:function(){var e=this;this.getRequest("/work/flow/list/steps?").then(function(t){t&&200==t.status&&0==t.data.code?e.morens=t.data.data.flowlist:console.log("获取列表数据失败")})},del:function(e){var t=this;this.$confirm("此操作将永久删除该步骤, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.todel(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},todel:function(e){var t=this;this.getRequest("/work/step/del?id="+e).then(function(e){e&&200==e.status&&0==e.data.code?(t.$message.success("删除成功"),t.loadAllSteps()):t.$message.error("删除失败")})},resetForm:function(e){this.$refs[e].resetFields()},next:function(){this.active++>this.buzhounum-1?(this.active=this.buzhounum,this.steps[this.active-1].stepname=this.itemstep.label,this.steps[this.active-1].stepid=this.itemstep.value):(this.steps[this.active-1].stepname=this.itemstep.label,this.steps[this.active-1].stepid=this.itemstep.value)},up:function(){if(this.active--<1)this.active=0,this.steps[this.active].stepname="步骤 "+(this.active+1),this.steps[this.active].stepid="";else{var e=this.active;this.steps[e].stepname="步骤 "+(this.active+1),this.steps[e].stepid=""}},toAdd:function(){var e=this;if(""!==e.liuchengname)if(""!==e.steps[e.buzhounum-1].stepid){e.checkLoading=!0;var t={flowName:e.liuchengname,moren:e.moren,stepNum:e.buzhounum,addUserId:this.uid,addUserName:this.name};this.postRequest("/work/flow/add",t).then(function(t){e.checkLoading=!1,t&&200==t.status&&0==t.data.code?e.toaddStepAndFlow(t.data.data.id):e.$message.error("添加失败")})}else e.$message.error("请将流程步骤设置完整");else e.$message.error("请填写流程名称")},toaddStepAndFlow:function(e){var t=this,a=this;if(""!==e&&"undefinded"!==e){a.checkLoading=!0;for(var i="",r=0;r<this.steps.length;r++){var s=this.steps[r],n={stepId:s.stepid,addUserId:this.uid,addUserName:this.name,stepIndex:r+1,stepName:s.stepname,flowId:e};i=i+l()(n)+"|"}var o={steps:i};this.postRequest("/work/flow/add/steps",o).then(function(e){a.checkLoading=!1,e&&200==e.status&&0==e.data.code?(a.$message.success("添加成功"),t.dialogFormVisible=!1,t.loadAllFlows()):a.$message.error()})}}},watch:{buzhounum:function(e,t){if(this.steps=[],1!==e)for(var a=1;a<=e;a++){var i={stepname:"步骤 "+a,stepid:""};this.steps.push(i)}}},mounted:function(){this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name"),this.loadAllSteps(),this.loadAllFlows()}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-share"}),e._v("工序管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("流程管理")])],1)],1),e._v(" "),a("el-container",{staticStyle:{"margin-top":"30px"}},[a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[a("i",{staticClass:"el-icon-document"}),e._v("默认流程")]),e._v(" "),a("el-button",{on:{click:e.zidingyi}},[a("i",{staticClass:"el-icon-edit"}),e._v("自定义流程")])],1),e._v(" "),e._l(e.morens,function(t){return a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-setting"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("详情")]),e._v(" "),a("el-dropdown-item",[e._v("删除")])],1)],1),e._v(" "),a("span",[e._v(e._s(t.flowName))]),e._v(" "),a("el-steps",{attrs:{"align-center":""}},e._l(t.stepslist,function(e){return a("el-step",{attrs:{title:e.stepName,description:e.remark}})}))],1)})],2)])],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.checkLoading,expression:"checkLoading"}],attrs:{title:"自定义流程","show-close":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogFormVisible,width:"70%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticClass:"form-box"},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("流程名称："),a("el-input",{staticStyle:{width:"20%"},model:{value:e.liuchengname,callback:function(t){e.liuchengname=t},expression:"liuchengname"}})],1),e._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[e._v("设置步骤数："),a("el-input-number",{attrs:{"controls-position":"right",min:1},on:{change:e.handleChange},model:{value:e.buzhounum,callback:function(t){e.buzhounum=t},expression:"buzhounum"}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1!==e.buzhounum,expression:"buzhounum !== 1"}]},[a("el-steps",{attrs:{active:e.active,"finish-status":"success"}},e._l(e.steps,function(e){return a("el-step",{attrs:{title:e.stepname}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1!==e.buzhounum,expression:"buzhounum !== 1"}],staticStyle:{"margin-top":"25px"}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"设定步骤"}},[a("el-select",{attrs:{placeholder:"请选择步骤"},model:{value:e.itemstep,callback:function(t){e.itemstep=t},expression:"itemstep"}},e._l(e.restaurants3,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{disabled:this.active===e.buzhounum||""===this.itemstep,type:"primary"},on:{click:e.next}},[e._v("下一步")]),e._v(" "),a("el-button",{attrs:{disabled:0===this.active,type:"primary"},on:{click:e.up}},[e._v("上一步")])],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1!==e.buzhounum,expression:"buzhounum !== 1"}],staticStyle:{height:"1px",width:"100%","border-bottom":"1px solid #e6ebf5","box-sizing":"border-box","margin-bottom":"15px"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1!==e.buzhounum,expression:"buzhounum !== 1"}],staticStyle:{"margin-top":"25px"}},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"设为默认流程"}},[a("el-switch",{model:{value:e.moren,callback:function(t){e.moren=t},expression:"moren"}})],1)],1),e._v(" "),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.toAdd}},[e._v("保存此流程")]),e._v(" "),a("el-button",{attrs:{type:""},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)])],1)])],1)},staticRenderFns:[]},c=a("Z0/y")(n,o,!1,null,null,null);t.default=c.exports},H6zO:function(e,t){},IcNb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={props:{techCards:{type:Object}},data:function(){return{toupdate:!1,upadte_tech_loading:!1,addlanmo_loading:!1,dialogFormVisible:!1,item_techId:"",uid:"",name:"",username:"",updatDisable:!1,ruleform:{},form:{},tableData:[],user_role:[],rules:{productName:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:0,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],wenlidaima:[{required:!0,message:"请输入纹理代码",trigger:"blur"},{min:0,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],carType:[{required:!0,message:"请输入车型",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],clientCompanyName:[{required:!0,message:"请输入客户单位",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],contactPerson:[{required:!0,message:"请输入预报价单名称",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入联系人电话",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],paytype:[{required:!0,message:"请输入付款方式",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],deliverytime:[{required:!0,message:"请输入加工周期",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],remark:[{min:0,max:2048,message:"长度在 0 到 2048 个字符",trigger:"blur"}]}}},methods:{buChong:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return a.$message.error("请检查输入信息的格式"),!1;t.upadte_tech_loading=!0,t.postRequest("/tech/added/update/techcard",t.ruleform).then(function(e){t.upadte_tech_loading=!1,e&&200==e.status&&0==e.data.code?(a.$message.success("更新成功"),t.toParent()):a.$message.error("更新失败")})})},addLanMo:function(){this.form={},this.dialogFormVisible=!0},updateForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return a.$message.error("请检查输入信息的格式"),!1;t.addlanmo_loading=!0,t.postRequest("/tech/added/update/lanmo",t.form).then(function(e){t.addlanmo_loading=!1,e&&200==e.status&&0==e.data.code?(a.$message.success("更新成功"),t.dialogFormVisible=!1,t.resetForm("form"),t.updatDisable=!1,t.getLanMoList()):a.$message.error("更新失败")})})},quit:function(){this.resetForm("form"),this.dialogFormVisible=!1,this.updatDisable=!1},toEdit:function(e){this.updatDisable=!0,this.form=e,this.dialogFormVisible=!0},toGetInfo:function(e){var t=this;this.getRequest("/tech/added/get/tech?orderId="+e).then(function(e){e&&200==e.status&&0==e.data.code&&(t.ruleform=e.data.data.techcard,t.item_techId=e.data.data.techcard.id,t.getLanMoList())})},toParent:function(){this.$emit("listenToChild",1)},resetForm:function(e){this.$refs[e].resetFields()},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return a.$message.error("请检查输入信息的格式"),!1;t.addlanmo_loading=!0,a.form.addUserId=t.uid,a.form.addUserName=t.name,""!=t.item_techId&&"undefinded"!=t.item_techId?(a.form.techId=t.item_techId,t.postRequest("/tech/added/add/lanmo",t.form).then(function(e){t.addlanmo_loading=!1,e&&200==e.status&&0==e.data.code&&(t.dialogFormVisible=!1,a.resetForm("form"),t.getLanMoList())})):a.$message.error("添加失败")})},getLanMoList:function(){var e=this;this.getRequest("/tech/added/lanmo/list?techId="+this.item_techId).then(function(t){t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.lanmolist)})},deletedLanMo:function(e){var t=this,a=this;this.getRequest("/tech/added/del/lanmo?id="+e.id).then(function(e){e&&200==e.status&&0==e.data.code?(a.$message.success("删除成功"),t.getLanMoList()):a.$message.success("删除失败")})},checkRole:function(){var e=localStorage.getItem("user"),t=JSON.parse(e);if(this.user_role=t.roles,"undefinded"!=this.user_role&&this.user_role.length>0)for(var a=0;a<this.user_role.length;a++)if("ROLE_admin"===this.user_role[a].name||"ROLE_jishu"===this.user_role[a].name)return void(this.toupdate=!0)},delMouldRecord:function(e){var t=this;this.$confirm("此操作将删除此条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deletedLanMo(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}},mounted:function(){this.$nextTick(function(){}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name"),this.checkRole()},watch:{techCards:function(e,t){this.ruleform=e,this.toGetInfo(e.id)}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-container",[a("el-header",{staticStyle:{"align-items":"center","margin-top":"20px"}},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("工艺管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("已提交记录")]),e._v(" "),a("el-breadcrumb-item",[e._v("记录详情")])],1)],1)]),e._v(" "),a("el-main",{directives:[{name:"loading",rawName:"v-loading",value:e.upadte_tech_loading,expression:"upadte_tech_loading"}],staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",{staticClass:"table"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("补充工艺信息")])]),e._v(" "),a("div",[a("el-form",{ref:"ruleform",attrs:{model:e.ruleform,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"皮纹代码",prop:"piWenDaiMa"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入纹理代码",disabled:!e.toupdate},model:{value:e.ruleform.piWenDaiMa,callback:function(t){e.$set(e.ruleform,"piWenDaiMa",t)},expression:"ruleform.piWenDaiMa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"难度系数",prop:"nanDuXiShu"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入难度系数",disabled:!e.toupdate},model:{value:e.ruleform.nanDuXiShu,callback:function(t){e.$set(e.ruleform,"nanDuXiShu",t)},expression:"ruleform.nanDuXiShu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"贴花步数",prop:"tieHuaBuShu"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入贴花数",disabled:!e.toupdate},model:{value:e.ruleform.tieHuaBuShu,callback:function(t){e.$set(e.ruleform,"tieHuaBuShu",t)},expression:"ruleform.tieHuaBuShu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工艺参数",prop:"gongYiCanShu"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{type:"textarea",placeholder:"请输入工艺参数",disabled:!e.toupdate},model:{value:e.ruleform.gongYiCanShu,callback:function(t){e.$set(e.ruleform,"gongYiCanShu",t)},expression:"ruleform.gongYiCanShu"}})],1),e._v(" "),a("div",{staticStyle:{height:"1px",width:"100%","border-bottom":"1px solid #e6ebf5","box-sizing":"border-box","margin-bottom":"15px"}}),e._v(" "),a("el-form-item",{attrs:{label:"实测模具光泽",prop:"guangZhe"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入实测模具光泽"},model:{value:e.ruleform.guangZhe,callback:function(t){e.$set(e.ruleform,"guangZhe",t)},expression:"ruleform.guangZhe"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品材料",prop:"chaiLiao"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入产品材料"},model:{value:e.ruleform.chaiLiao,callback:function(t){e.$set(e.ruleform,"chaiLiao",t)},expression:"ruleform.chaiLiao"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实际调整情况",prop:"tiaoZheng"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入实际调整情况",type:"textarea"},model:{value:e.ruleform.tiaoZheng,callback:function(t){e.$set(e.ruleform,"tiaoZheng",t)},expression:"ruleform.tiaoZheng"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{type:"textarea"},model:{value:e.ruleform.remark,callback:function(t){e.$set(e.ruleform,"remark",t)},expression:"ruleform.remark"}})],1),e._v(" "),a("div",{staticStyle:{height:"1px",width:"100%","border-bottom":"1px solid #e6ebf5","box-sizing":"border-box","margin-bottom":"15px"}}),e._v(" "),a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"mr10",staticStyle:{float:"right"},attrs:{type:"primary",icon:"plus"},on:{click:e.addLanMo}},[a("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"beginTime",label:"时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lanMoTime",label:"烂模时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shenDu",label:"烂模总深度"}}),e._v(" "),a("el-table-column",{attrs:{prop:"yaoShui",label:"烂模药水"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.delMouldRecord(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticStyle:{height:"1px",width:"100%","border-bottom":"1px solid #e6ebf5","box-sizing":"border-box","margin-bottom":"15px","margin-top":"15px"}}),e._v(" "),a("div",{staticClass:"card-bottom"},[a("el-button",{on:{click:e.toParent}},[e._v("返回")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.buChong("ruleform")}}},[e._v("保存")])],1)]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.addlanmo_loading,expression:"addlanmo_loading"}]},[a("el-dialog",{attrs:{title:"添加记录",visible:e.dialogFormVisible,width:"40%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"时间",prop:"beginTime"}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{format:"yyyy 年 MM 月 dd 日 HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.beginTime,callback:function(t){e.$set(e.form,"beginTime",t)},expression:"form.beginTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"烂模时间",prop:"lanMoTime"}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{format:"yyyy 年 MM 月 dd 日 HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.lanMoTime,callback:function(t){e.$set(e.form,"lanMoTime",t)},expression:"form.lanMoTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"烂模深度",prop:"shenDu"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入烂模深度"},model:{value:e.form.shenDu,callback:function(t){e.$set(e.form,"shenDu",t)},expression:"form.shenDu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"烂模药水",prop:"yaoShui"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入烂模药水"},model:{value:e.form.yaoShui,callback:function(t){e.$set(e.form,"yaoShui",t)},expression:"form.yaoShui"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!this.updatDisable,expression:"!this.updatDisable"}],attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("提 交")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:this.updatDisable,expression:"this.updatDisable"}],attrs:{type:"primary"},on:{click:function(t){e.updateForm("form")}}},[e._v("保 存")]),e._v(" "),a("el-button",{on:{click:e.quit}},[e._v("取 消")])],1)])],1)],1)])],1)],1)])},staticRenderFns:[]},r=a("Z0/y")(i,l,!1,null,null,null);t.default=r.exports},K5YU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("员工培训")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},KePC:function(e,t){},LYTS:function(e,t){},MdkF:function(e,t){},MxPq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),l=a.n(i),r=a("OIbc"),s=a("+J3q"),n={components:{VueCoreImageUpload:r.default},props:{title:String},data:function(){return{wen_jian_url:"",upload:"",fujianForm:{tax:16,noTaxTotal:"0"},activeName:"first",wenjianData:{userId:"123",imgPakage:"yu_bao_jia"},udapteBoolean:!1,itemIndex:"",itemRow:{},imageData:{userId:"",imgPakage:"order_pm"},table_loading:!1,imageUrls:[],ruleForm:{tax:"16",addUserId:"",addUserName:""},elform:{productNum:"0",area:"0",dongMo:!1,price:"0",coefficient:""},productData:[],restaurants3:[],innerVisible:!1,tableData:[],select_word:"",nowTab:1,rules:{productName:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:0,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],wenlidaima:[{required:!0,message:"请输入纹理代码",trigger:"blur"},{min:0,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],carType:[{required:!0,message:"请输入车型",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],clientCompanyName:[{required:!0,message:"请输入客户单位",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],contactPerson:[{required:!0,message:"请输入预报价单名称",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入联系人电话",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],paytype:[{required:!0,message:"请输入付款方式",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],deliverytime:[{required:!0,message:"请输入加工周期",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],remark:[{min:0,max:2048,message:"长度在 0 到 2048 个字符",trigger:"blur"}]}}},methods:{tiJiao:function(){var e=this,t=this;if(""==this.wen_jian_url||this.wen_jian_url.length<=0)this.$message.error("请上传附件");else{var a=t.fujianForm;a.addUserId=this.uid,a.addUserName=this.name,a.total=this.totalPrice,a.submitType=1,a.fuJianUrl=this.wen_jian_url,this.postRequest("/offer/bus/add",a).then(function(a){a&&200==a.status&&0==a.data.code?(t.$message.success("添加成功"),e.$router.push("/offer/per/list")):t.$message.error("添加基础信息失败")})}},imageupwenjian:function(e){this.$message.success("上传成功");var t;"undefinded"!=(t=e.url)&&t.length>0&&(this.wen_jian_url=t[0])},toAadd:function(){this.innerVisible=!0,this.udapteBoolean=!1,this.resetForm("elform")},chanel:function(){this.innerVisible=!1,this.udapteBoolean=!1},commit:function(){var e=this.productData;"undefined"==e||e.length<=0?this.$message.error("请添加产品详情"):this.addYuBaoJia()},addYuBaoJia:function(){var e=this,t=this,a=t.ruleForm;a.addUserId=this.uid,a.addUserName=this.name,a.submitType=0,this.postRequest("/offer/bus/add",a).then(function(a){if(a&&200==a.status&&0==a.data.code){var i=a.data.data.id;i>0?e.addProduct(i):t.$message.error("添加基础信息失败")}else t.$message.error("添加基础信息失败")})},addProduct:function(e){var t=this;this.table_loading=!0;for(var a=this,i=a.productData,r="",s=0;s<i.length;s++){var n=i[s];n.addUserId=this.uid,n.addUserName=this.name,n.yuBaoJiaId=e,n.picUrls=this.toPinjieUrl(n.picUrls),r=r+l()(n)+"|"}var o={businessBaoJiaId:e,businessProducts:r};this.postRequest("/offer/bus/add/product",o).then(function(e){t.table_loading=!1,e&&200==e.status&&0==e.data.code?(a.$message.success("添加成功"),t.$router.push("/offer/bus/list")):a.$message.error("添加失败")})},deleteRow:function(e,t){t.splice(e,1)},toPinjieUrl:function(e){var t="";if("undefined"==e||e.length<=0)return t;for(var a=0;a<e.length;a++)(a=e.length-1)?t+=e[a]:t=t+e[a]+",";return t},toEidtor:function(e,t){this.udapteBoolean=!0;var a;a=t,this.itemRow=a[e],this.elform=this.itemRow,this.itemIndex=e,this.innerVisible=!0},toUpdateProduct:function(){for(var e=this.elform.price*this.elform.productNum*(this.ruleForm.tax/100+1),t={yuBaoJiaId:"",productName:this.elform.productName,wenlidaima:this.elform.wenlidaima,productNum:this.elform.productNum,area:this.elform.area,dongMo:this.elform.dongMo,coefficient:this.elform.coefficient,price:this.elform.price,picUrls:this.imageUrls,tax:this.ruleForm.tax,taxPrice:this.elform.price*this.elform.productNum,total:e,immutable:!1,addUserId:this.uid,addUserName:this.name},a=[],i=0;i<this.productData.length;i++)i==this.itemIndex?a.push(t):a.push(this.productData[i]);this.$nextTick(function(){this.productData=a}),this.imageUrls=[],this.resetForm("elform"),this.innerVisible=!1},toAddProduct:function(){var e=this.elform.price*this.elform.productNum*(this.ruleForm.tax/100+1),t={yuBaoJiaId:"",productName:this.elform.productName,wenlidaima:this.elform.wenlidaima,productNum:this.elform.productNum,area:this.elform.area,dongMo:this.elform.dongMo,coefficient:this.elform.coefficient,price:this.elform.price,picUrls:this.imageUrls,tax:this.ruleForm.tax,noTaxPrice:this.elform.price*this.elform.productNum,total:e,immutable:!1,addUserId:this.uid,addUserName:this.name};this.productData.push(t),this.imageUrls=[],this.resetForm("elform"),this.innerVisible=!1},resetForm:function(e){this.$refs[e].resetFields()},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return a.$message.error("请检查输入信息的格式"),!1;t.nowTab=2})},imageuploaded:function(e){if("undefined"!==e.url.length&&e.url.length>0){for(var t=e.url,a=this.imageUrls,i=0;i<t.length;i++)a.push(t[i]);this.imageUrls=a}},delMouldImage:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.todelImage(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},todelImage:function(e){var t=this;"undefined"!=e&&""!=e.length?this.getRequest("/config/delfile/delImage?url="+e).then(function(a){if(a&&200==a.status&&0==a.data.code){t.$message.success("删除成功");for(var i=t.imageUrls,l=[],r=0;r<i.length;r++)e!=i[r]&&l.push(i[r]);t.imageUrls=l}else t.$message.error("删除照片失败")}):t.$message.error("删除图片不存在")},loadAllProject:function(){var e=this;this.getRequest("/offer/bus/list/project?addUserId="+this.uid).then(function(t){if(t&&200==t.status&&0==t.data.code){var a=[],i=t.data.data.projectlist;if("undefined"!=i&&i.length>0){for(var l=0;l<i.length;l++){var r={label:"",value:""};r.label=i[l].projectName,r.value=i[l].id,a.push(r)}e.restaurants3=a}}else console.log("获取列表数据失败")})},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传出现异常"})}},mounted:function(){this.$nextTick(function(){this.upload=s.a.upload,this.imageData.userId=this.uid=localStorage.getItem("cp_uid")}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name"),this.loadAllProject()},computed:{totalPrice:function(){var e;return e=this.fujianForm.noTaxTotal*(100+this.fujianForm.tax)/100,this.fujianForm.total=e,e}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("商务报价单")]),e._v(" "),a("el-breadcrumb-item",[e._v("添加商务报价单")])],1)],1),e._v(" "),a("el-container",[a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"30px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.nowTab,expression:"nowTab==1"}]},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"简单录入",name:"first"}},[a("div",{staticStyle:{"margin-top":"20px"}},[a("el-steps",{attrs:{active:e.nowTab}},[a("el-step",{attrs:{title:"基本信息",icon:"el-icon-edit"}}),e._v(" "),a("el-step",{attrs:{title:"报价详情",icon:"el-icon-document"}})],1)],1),e._v(" "),a("el-card",{staticStyle:{"margin-top":"30px"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"110px"}},[a("div",[a("el-form-item",{attrs:{label:"所属项目：",prop:"projectId",required:""}},[a("el-select",{attrs:{placeholder:"请选择所属项目"},model:{value:e.ruleForm.projectId,callback:function(t){e.$set(e.ruleForm,"projectId",t)},expression:"ruleForm.projectId"}},e._l(e.restaurants3,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"客户单位：",prop:"clientCompanyName"}},[a("el-input",{model:{value:e.ruleForm.clientCompanyName,callback:function(t){e.$set(e.ruleForm,"clientCompanyName",t)},expression:"ruleForm.clientCompanyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人：",prop:"contactPerson"}},[a("el-input",{model:{value:e.ruleForm.contactPerson,callback:function(t){e.$set(e.ruleForm,"contactPerson",t)},expression:"ruleForm.contactPerson"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话：",prop:"contactPhone"}},[a("el-input",{model:{value:e.ruleForm.contactPhone,callback:function(t){e.$set(e.ruleForm,"contactPhone",t)},expression:"ruleForm.contactPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车型：",prop:"carType"}},[a("el-input",{model:{value:e.ruleForm.carType,callback:function(t){e.$set(e.ruleForm,"carType",t)},expression:"ruleForm.carType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"税率：",prop:"tax"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.ruleForm.tax,callback:function(t){e.$set(e.ruleForm,"tax",t)},expression:"ruleForm.tax"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)]),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("下一步")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"附件上传",name:"second"}},[a("el-card",{staticStyle:{"margin-top":"30px"}},[a("el-form",{ref:"fujianForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.fujianForm,rules:e.rules,"label-width":"110px"}},[a("div",[a("el-form-item",{attrs:{label:"所属项目：",prop:"projectId",required:""}},[a("el-select",{attrs:{placeholder:"请选择所属项目"},model:{value:e.fujianForm.projectId,callback:function(t){e.$set(e.fujianForm,"projectId",t)},expression:"fujianForm.projectId"}},e._l(e.restaurants3,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"客户单位：",prop:"clientCompanyName"}},[a("el-input",{model:{value:e.fujianForm.clientCompanyName,callback:function(t){e.$set(e.fujianForm,"clientCompanyName",t)},expression:"fujianForm.clientCompanyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人：",prop:"contactPerson"}},[a("el-input",{model:{value:e.fujianForm.contactPerson,callback:function(t){e.$set(e.fujianForm,"contactPerson",t)},expression:"fujianForm.contactPerson"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话：",prop:"contactPhone"}},[a("el-input",{model:{value:e.fujianForm.contactPhone,callback:function(t){e.$set(e.fujianForm,"contactPhone",t)},expression:"fujianForm.contactPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车型：",prop:"carType"}},[a("el-input",{model:{value:e.fujianForm.carType,callback:function(t){e.$set(e.fujianForm,"carType",t)},expression:"fujianForm.carType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"不含税总价：",prop:"noTaxTotal",required:""}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.fujianForm.noTaxTotal,callback:function(t){e.$set(e.fujianForm,"noTaxTotal",t)},expression:"fujianForm.noTaxTotal"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"税率：",prop:"tax"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.fujianForm.tax,callback:function(t){e.$set(e.fujianForm,"tax",t)},expression:"fujianForm.tax"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"含税总价：",prop:"tax",required:""}},[a("span",[a("el-tag",{attrs:{type:"warning"}},[e._v(" "+e._s(e.totalPrice)+" 元")])],1)]),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.fujianForm.remark,callback:function(t){e.$set(e.fujianForm,"remark",t)},expression:"fujianForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传文件："}},[a("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.wen_jian_url,expression:"wen_jian_url !== ''"}]},[a("p",{staticStyle:{color:"blue"}},[e._v("上传成功")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""===e.wen_jian_url,expression:"wen_jian_url === ''"}]},[a("vue-core-image-upload",{class:["el-button","el-button--primary"],attrs:{crop:!1,inputOfFile:"imageFile",url:e.upload,extensions:"png,ppt,doc,txt","max-file-size":5242880,data:e.wenjianData,text:"上传文件",multiple:!0,"multiple-size":30,credentials:"true"},on:{imageuploaded:e.imageupwenjian,errorhandle:e.handleError}})],1)])],1)]),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.tiJiao("ruleForm")}}},[e._v("提 交")])],1)],1)],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.nowTab,expression:"nowTab==2"}]},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.table_loading,expression:"table_loading"}],staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("产品列表")]),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"right"}},[a("el-button",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.toAadd}},[e._v("添加")])],1)]),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.productData,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"productName",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"image",staticStyle:{height:"30px",width:"30px"},attrs:{src:e.row.picUrls[0]}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"wenlidaima",label:"纹理代码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productNum",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"noTaxPrice",label:"不含税总计"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total",label:"含税总计"}}),e._v(" "),a("el-table-column",{attrs:{prop:"area",label:"面积"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),e.toEidtor(t.$index,e.productData)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),e.deleteRow(t.$index,e.productData)}}},[e._v("\r\n         移除\r\n       ")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[a("div",{staticClass:"card-bottom",staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.nowTab=1}}},[e._v("上一步")])],1),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.commit}},[e._v("提 交")])],1)])])],1),e._v(" "),a("div",[a("el-dialog",{attrs:{width:"60%",title:"产品详情",visible:e.innerVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{ref:"elform",staticStyle:{width:"100%"},attrs:{model:e.elform,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"产品名称：",prop:"productName"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入产品名称"},model:{value:e.elform.productName,callback:function(t){e.$set(e.elform,"productName",t)},expression:"elform.productName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"纹理代码：",prop:"wenlidaima"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入纹理代码"},model:{value:e.elform.wenlidaima,callback:function(t){e.$set(e.elform,"wenlidaima",t)},expression:"elform.wenlidaima"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品数量：",prop:"productNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:e.elform.productNum,callback:function(t){e.$set(e.elform,"productNum",t)},expression:"elform.productNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"面积：",prop:"area"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.elform.area,callback:function(t){e.$set(e.elform,"area",t)},expression:"elform.area"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"有无动模："}},[a("el-switch",{model:{value:e.elform.dongMo,callback:function(t){e.$set(e.elform,"dongMo",t)},expression:"elform.dongMo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系数：",prop:"coefficient"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入产品系数"},model:{value:e.elform.coefficient,callback:function(t){e.$set(e.elform,"coefficient",t)},expression:"elform.coefficient"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单价：",prop:"price"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.elform.price,callback:function(t){e.$set(e.elform,"price",t)},expression:"elform.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片："}},[a("div",[a("vue-core-image-upload",{class:["el-button","el-button--primary"],attrs:{crop:!1,inputOfFile:"imageFile",url:e.upload,extensions:"png,gif,jpeg,jpg","max-file-size":5242880,data:e.imageData,text:"上传图片",multiple:!0,"multiple-size":30,credentials:"true"},on:{imageuploaded:e.imageuploaded,errorhandle:e.handleError}})],1)])],1),e._v(" "),a("div",{staticStyle:{border:"1px dashed #d9d9d9",width:"100%","min-height":"358px"}},[a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},e._l(e.imageUrls,function(t){return a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"mould-card",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",staticStyle:{height:"320px"},attrs:{src:t}}),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.delMouldImage(t)}}},[a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}})])],1)])],1)}))],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.udapteBoolean,expression:"!udapteBoolean"}],attrs:{type:"primary"},on:{click:e.toAddProduct}},[e._v("确 定")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.udapteBoolean,expression:"udapteBoolean"}],attrs:{type:"primary"},on:{click:e.toUpdateProduct}},[e._v("更 新")]),e._v(" "),a("el-button",{on:{click:e.chanel}},[e._v("取 消")])],1)],1)],1)])],1)],1)])},staticRenderFns:[]},c=a("Z0/y")(n,o,!1,null,null,null);t.default=c.exports},NsTY:function(e,t){},PpBR:function(e,t,a){"use strict";var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("职称管理")])])}]};t.a=i},R27X:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    月末处理\n  ")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},Syks:function(e,t){},"T/v7":function(e,t){},Tlrr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    人事记录统计\n  ")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},"UK/j":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    备份恢复数据库\n  ")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},V95O:function(e,t){},VnTu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{dialogVisible:!1,tableLoading:!1,index:0,salaries:[],multipleSelection:[],salary:{id:"",createDate:"",basicSalary:"",trafficSalary:"",lunchSalary:"",bonus:"",pensionBase:"",pensionPer:"",medicalBase:"",medicalPer:"",accumulationFundBase:"",accumulationFundPer:""}}},methods:{deleteAll:function(){var e=this;this.$confirm("删除["+this.multipleSelection.length+"]条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t="";e.multipleSelection.forEach(function(e){t=t+e.id+","}),e.doDelete(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(e){this.multipleSelection=e},handleEdit:function(e,t){this.dialogVisible=!0,t.createDate=new Date(t.createDate),delete t.allSalary,this.salary=t},handleDelete:function(e,t){var a=this;this.$confirm("删除["+t.name+"]账套, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.doDelete(t.id)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},doDelete:function(e){var t=this;t.tableLoading=!0,this.deleteRequest("/salary/sob/salary/"+e).then(function(e){if(t.tableLoading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadSalaryCfg()}})},next:function(){var e=this,t=this;7==this.index?this.salary.createDate&&this.salary.basicSalary&&this.salary.trafficSalary&&this.salary.lunchSalary&&this.salary.bonus&&this.salary.pensionBase&&this.salary.pensionPer&&this.salary.medicalBase&&this.salary.medicalPer&&this.salary.accumulationFundBase&&this.salary.accumulationFundPer?this.salary.id?(t.tableLoading=!0,this.putRequest("/salary/sob/salary",this.salary).then(function(e){if(t.tableLoading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.dialogVisible=!1,t.index=0,t.loadSalaryCfg()}})):this.$prompt("请输入账套名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(a){var i=a.value;e.salary.name=i,e.postRequest("/salary/sob/salary",e.salary).then(function(e){if(e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.dialogVisible=!1,t.index=0,t.loadSalaryCfg()}})}).catch(function(){}):this.$message({type:"error",message:"字段不能为空!"}):this.index++},loadSalaryCfg:function(){this.tableLoading=!0;var e=this;this.getRequest("/salary/sob/salary").then(function(t){e.tableLoading=!1,t&&200==t.status&&(e.salaries=t.data)})},emptySalary:function(){this.salary={id:"",createDate:"",basicSalary:"",trafficSalary:"",lunchSalary:"",bonus:"",pensionBase:"",pensionPer:"",medicalBase:"",medicalPer:"",accumulationFundBase:"",accumulationFundPer:""},this.index=0}},mounted:function(){this.loadSalaryCfg()}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","padding-left":"0px"}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加账套")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-refresh"},on:{click:e.loadSalaryCfg}})],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.salaries,stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{width:"120",prop:"name",label:"账套名称"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"basicSalary",label:"基本工资"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"trafficSalary",label:"交通补助"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"lunchSalary",label:"午餐补助"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonus",width:"70",label:"奖金"}}),e._v(" "),a("el-table-column",{attrs:{width:"100",label:"启用时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.createDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"养老金",align:"center"}},[a("el-table-column",{attrs:{prop:"pensionPer",width:"70",label:"比率"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"pensionBase",label:"基数"}})],1),e._v(" "),a("el-table-column",{attrs:{label:"医疗保险",align:"center"}},[a("el-table-column",{attrs:{width:"70",prop:"medicalPer",label:"比率"}}),e._v(" "),a("el-table-column",{attrs:{prop:"medicalBase",width:"70",label:"基数"}})],1),e._v(" "),a("el-table-column",{attrs:{label:"公积金",align:"center"}},[a("el-table-column",{attrs:{width:"70",prop:"accumulationFundPer",label:"比率"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accumulationFundBase",width:"70",label:"基数"}})],1),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"}},[a("el-table-column",{attrs:{label:"编辑",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n                ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"删除",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除\n                ")])]}}])})],1)],1)],1),e._v(" "),0!=e.salaries?a("div",{staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-button",{attrs:{type:"danger",round:"",size:"mini",disabled:0==e.multipleSelection.length},on:{click:e.deleteAll}},[e._v("批量删除\n        ")])],1):e._e()])],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"添加工资账套",visible:e.dialogVisible,width:"50%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.emptySalary}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("el-steps",{attrs:{active:e.index,direction:"vertical"}},[a("el-step",{attrs:{title:"基本工资",size:"mini"}}),e._v(" "),a("el-step",{attrs:{title:"交通补助"}}),e._v(" "),a("el-step",{attrs:{title:"午餐补助"}}),e._v(" "),a("el-step",{attrs:{title:"奖金"}}),e._v(" "),a("el-step",{attrs:{title:"养老金"}}),e._v(" "),a("el-step",{attrs:{title:"医疗保险"}}),e._v(" "),a("el-step",{attrs:{title:"公积金"}}),e._v(" "),a("el-step",{attrs:{title:"启用时间"}})],1),e._v(" "),a("div",{staticStyle:{"margin-left":"30px",display:"flex","justify-content":"center","align-items":"center",width:"80%"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.index,expression:"index==0"}]},[e._v("\n            基本工资：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入基本工资...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.basicSalary,callback:function(t){e.$set(e.salary,"basicSalary",t)},expression:"salary.basicSalary"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.index,expression:"index==1"}]},[e._v("\n            交通补助：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入交通补助...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.trafficSalary,callback:function(t){e.$set(e.salary,"trafficSalary",t)},expression:"salary.trafficSalary"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.index,expression:"index==2"}]},[e._v("\n            午餐补助：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入午餐补助...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.lunchSalary,callback:function(t){e.$set(e.salary,"lunchSalary",t)},expression:"salary.lunchSalary"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.index,expression:"index==3"}]},[e._v("\n            奖金：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入奖金...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.bonus,callback:function(t){e.$set(e.salary,"bonus",t)},expression:"salary.bonus"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:4==e.index,expression:"index==4"}]},[a("div",[e._v("\n              养老金比率：\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入养老金比率...",size:"mini",type:"number"},model:{value:e.salary.pensionPer,callback:function(t){e.$set(e.salary,"pensionPer",t)},expression:"salary.pensionPer"}})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[e._v("\n              养老金基数：\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入养老金基数...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.pensionBase,callback:function(t){e.$set(e.salary,"pensionBase",t)},expression:"salary.pensionBase"}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:5==e.index,expression:"index==5"}]},[a("div",[e._v("\n              医疗保险比率：\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入医疗保险比率...",size:"mini",type:"number"},model:{value:e.salary.medicalPer,callback:function(t){e.$set(e.salary,"medicalPer",t)},expression:"salary.medicalPer"}})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[e._v("\n              医疗保险基数：\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入医疗保险基数...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.medicalBase,callback:function(t){e.$set(e.salary,"medicalBase",t)},expression:"salary.medicalBase"}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:6==e.index,expression:"index==6"}]},[a("div",[e._v("\n              公积金比率：\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入公积金比率...",size:"mini",type:"number"},model:{value:e.salary.accumulationFundPer,callback:function(t){e.$set(e.salary,"accumulationFundPer",t)},expression:"salary.accumulationFundPer"}})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[e._v("\n              公积金基数：\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入公积金基数...",size:"mini",type:"number"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.next(t)}},model:{value:e.salary.accumulationFundBase,callback:function(t){e.$set(e.salary,"accumulationFundBase",t)},expression:"salary.accumulationFundBase"}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:7==e.index,expression:"index==7"}]},[e._v("\n            启用时间：\n            "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date",size:"mini","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.salary.createDate,callback:function(t){e.$set(e.salary,"createDate",t)},expression:"salary.createDate"}})],1)])],1),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",padding:"0px",margin:"0px"}},[0!=e.index?a("el-button",{attrs:{round:"",size:"mini"},on:{click:function(t){e.index--}}},[e._v("上一步")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},domProps:{textContent:e._s(7==e.index?"完成":"下一步")},on:{click:e.next}})],1)])],1)],1)},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("2Tja")},null,null);t.default=r.exports},XGB5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("员工资料")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},YbFX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,size:"mini",border:"",stripe:""}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"left",fixed:"",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"workID",width:"120",align:"left",label:"工号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",width:"200",align:"left",label:"电子邮件"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",width:"120",label:"电话号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"department.name",align:"left",width:"120",label:"所属部门"}}),e._v(" "),a("el-table-column",{attrs:{label:"工资账套",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t.row.salary?[a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("基本工资")]),e._v("\n                ￥"+e._s(t.row.salary.basicSalary)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("奖金")]),e._v("\n                ￥"+e._s(t.row.salary.bonus)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("午餐补助")]),e._v("\n                ￥"+e._s(t.row.salary.lunchSalary)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("交通补助")]),e._v("\n                ￥"+e._s(t.row.salary.trafficSalary)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("养老金基数")]),e._v("\n                ￥"+e._s(t.row.salary.pensionBase)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("养老金比率")]),e._v("\n                "+e._s(t.row.salary.pensionPer)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("公积金基数")]),e._v("\n                ￥"+e._s(t.row.salary.accumulationFundBase)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("公积金比率")]),e._v("\n                "+e._s(t.row.salary.accumulationFundPer)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("医疗保险基数")]),e._v("\n                ￥"+e._s(t.row.salary.medicalBase)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("医疗保险比率")]),e._v("\n                "+e._s(t.row.salary.medicalPer)+"\n              ")],1)]:e._e()],2),e._v(" "),a("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t.row.salary?t.row.salary.name:"暂未设置"))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{key:t.row.id,attrs:{placement:"right",width:"200",trigger:"click"},on:{hide:function(a){e.updateSalaryCfg(t.row.id)}}},[a("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.sid,callback:function(t){e.sid=t},expression:"sid"}},e._l(e.salaries,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(a){e.showUpdateView(t.row)}},slot:"reference"},[e._v("修改账套\n          ")])],1)]}}])})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)},staticRenderFns:[]},l=a("Z0/y")({data:function(){return{emps:[],salaries:[],tableLoading:!1,totalCount:-1,sid:"",osid:"",currentPage:1}},mounted:function(){this.loadEmps()},methods:{showUpdateView:function(e){this.loadSalaries(),e.salary?(this.sid=e.salary.id,this.osid=e.salary.id):(this.sid="",this.osid="")},loadSalaries:function(){var e=this;this.getRequest("/salary/sobcfg/salaries").then(function(t){t&&200==t.status&&(e.salaries=t.data)})},updateSalaryCfg:function(e){var t=this;this.osid!=this.sid&&this.putRequest("/salary/sobcfg/",{eid:e,sid:this.sid}).then(function(e){if(e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadEmps()}})},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){this.tableLoading=!0;var e=this;this.getRequest("/salary/sobcfg/emp?page="+this.currentPage+"&size=10").then(function(t){if(e.tableLoading=!1,t&&200==t.status){var a=t.data;e.emps=a.emps,e.totalCount=a.count}})}}},i,!1,null,null,null);t.default=l.exports},YhzV:function(e,t){},YwbF:function(e,t){},ZBHA:function(e,t){},ZDkW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    操作日志管理\n  ")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},aTqg:function(e,t){},agXO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    初始化数据库\n  ")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},algl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{dialogFormVisible:!1,checkLoading:!1,username:"",name:"",uid:"",showTab:1,tableLoading:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[],reform:{},lingquItem:{},itemUser:{}}},methods:{handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},toLingqu:function(e){this.dialogFormVisible=!0,this.lingquItem=e},lingqu:function(e){var t=this,a={wuLiaoId:this.lingquItem.id,status:2,getUserId:e};this.postRequest("/stock/manager/get",a).then(function(e){e&&200==e.status&&0==e.data.code?(t.$message.success("操作成功"),t.getCollectMouldList()):t.$message.error("操作失败")})},checkUserInfo:function(){var e=this,t=this;t.checkLoading=!0,this.postRequest("/login",t.reform).then(function(a){t.checkLoading=!1,a&&200==a.status?(t.dialogFormVisible=!1,e.lingqu(a.data.msg.id),e.getCollectMouldList()):t.$message.error("验证失败,请重新验证")})},getCollectMouldList:function(){var e=this;this.getRequest("/stock/manager/listbypage?page="+this.currentPage+"&size="+this.pagesize+"&status=1").then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.wuliaolist,e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.wuLiaoName.indexOf(e.select_word)>-1||t.orderName.indexOf(e.select_word)>-1)return t})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("备料管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("待领取")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"30px"}},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"20px"}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[a("el-table-column",{attrs:{prop:"orderName",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wuLiaoName",label:"物料"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addUserName",label:"下单人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"备料进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status+""=="0"?a("el-tag",[e._v("待备料")]):e._e(),e._v(" "),t.row.status+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("待领取")]):e._e(),e._v(" "),t.row.status+""=="2"?a("el-tag",{attrs:{type:"warning"}},[e._v("完成")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"下单时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.toLingqu(t.row)}}},[e._v("领取")])]}}])})],1)],1)])],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.checkLoading,expression:"checkLoading"}],attrs:{title:"员工身份认证","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogFormVisible,width:"50%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"reform",attrs:{model:e.reform,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"认证账号："}},[a("el-input",{model:{value:e.reform.username,callback:function(t){e.$set(e.reform,"username",t)},expression:"reform.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"认证密码："}},[a("el-input",{model:{value:e.reform.password,callback:function(t){e.$set(e.reform,"password",t)},expression:"reform.password"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.checkUserInfo}},[e._v("提 交")]),e._v(" "),a("el-button",{attrs:{type:""},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("GRSV")},"data-v-17e79c9c",null);t.default=r.exports},blek:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{addLoading:!1,dialogFormVisible:!0,checkLoading:!1,itemOrder:{},restaurants3:[],itemUser:{userId:"",userName:""},reform:{},form:{orderid:"",wuLiaoNum:"1",wuLiaoName:"",remark:""},rules:{wuLiaoName:[{required:!0,message:"请输入订单名称",trigger:"blur"},{min:1,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}]}}},methods:{toadd:function(){this.$router.push("/offer/per/add")},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},checkUserInfo:function(){var e=this,t=this;t.checkLoading=!0,this.postRequest("/login",t.reform).then(function(a){t.checkLoading=!1,a&&200==a.status?(t.dialogFormVisible=!1,t.itemUser.userId=a.data.msg.id,t.itemUser.userName=a.data.msg.name,e.getOrderList()):t.$message.error("验证失败,请重新验证")})},resetForm:function(e){this.$refs[e].resetFields()},addWuLiao:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return console.log("提交数据格式有误"),!1;a.addLoading=!0,a.form.addUserId=t.uid,a.form.addUserName=t.name,a.form.orderName=t.itemOrder.label,a.form.orderId=t.itemOrder.value,t.postRequest("/material/apply",a.form).then(function(e){a.addLoading=!1,e&&200==e.status&&0==e.data.code?(a.$message.success("添加成功"),a.resetForm("form")):a.$message.error("添加失败")})})},handleChange:function(e){},getOrderList:function(){var e=this;this.getRequest("/material/apply/order/list?userId="+e.uid).then(function(t){if(t&&200==t.status&&0==t.data.code){for(var a=[],i=t.data.data,l=0;l<i.length;l++){var r={label:"",value:""};r.label=i[l].orderName,r.value=i[l].orderId,a.push(r)}e.restaurants3=a}else console.log("获取列表数据失败")})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name"),this.getOrderList()}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("物料单管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("下物料单")])],1)],1),e._v(" "),a("el-container",[a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"20px"}},[a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("物料单信息")])]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.addLoading,expression:"addLoading"}]},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"所属项目：",prop:"orderId"}},[a("el-select",{attrs:{placeholder:"请选择所属订单"},model:{value:e.itemOrder,callback:function(t){e.itemOrder=t},expression:"itemOrder"}},e._l(e.restaurants3,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"物料：",prop:"wuLiaoName"}},[a("el-input",{staticStyle:{width:"40%"},model:{value:e.form.wuLiaoName,callback:function(t){e.$set(e.form,"wuLiaoName",t)},expression:"form.wuLiaoName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数量：",prop:"wuLiaoNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},on:{change:e.handleChange},model:{value:e.form.wuLiaoNum,callback:function(t){e.$set(e.form,"wuLiaoNum",t)},expression:"form.wuLiaoNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{staticStyle:{width:"40%"},attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"card-bottom"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addWuLiao("form")}}},[e._v("提 交")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重置")])],1)])],1)])],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("aTqg")},"data-v-77bf2673",null);t.default=r.exports},c98W:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("YhzV"),l=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("PpBR"),n=a("Z0/y")(l.a,s.a,!1,null,null,null);t.default=n.exports},dmbd:function(e,t){},eLaH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("oAV5"),l={mounted:function(){this.loading=!0,this.initRoles()},methods:{deleteRole:function(e,t){var a=this;this.$confirm("删除角色["+t+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.loading=!0,a.deleteRequest("/system/basic/role/"+e).then(function(e){if(e&&200==e.status){var t=e.data;a.$message({type:t.status,message:t.msg}),a.initRoles()}else a.loading=!1})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},addNewRole:function(){if(Object(i.b)(this.newRole,this.newRoleZh)){this.loading=!0;var e=this;this.postRequest("/system/basic/addRole",{role:this.newRole,roleZh:this.newRoleZh}).then(function(t){if(t&&200==t.status){var a=t.data;e.$message({type:a.status,message:a.msg}),e.initRoles(),e.newRole="",e.newRoleZh=""}else e.loading=!1})}},updateRoleMenu:function(e){var t=this.$refs.tree[e].getCheckedKeys(!0),a=this;this.putRequest("/system/basic/updateMenuRole",{rid:this.activeColItem,mids:t}).then(function(e){if(e&&200==e.status){var t=e.data;a.$message({type:t.status,message:t.msg}),a.activeColItem=-1}})},collapseChange:function(e){if(""!=e){var t=this;this.getRequest("/system/basic/menuTree/"+e).then(function(e){if(e&&200==e.status){var a=e.data;t.treeData=a.menus,t.checkedKeys=a.mids}})}},handleCheckChange:function(e,t,a){},initRoles:function(){var e=this;this.getRequest("/system/basic/roles").then(function(t){e.loading=!1,t&&200==t.status&&(e.roles=t.data,e.activeColItem=-1)})},cancelUpdateRoleMenu:function(){this.activeColItem=-1}},data:function(){return{props:{label:"name",children:"children"},newRole:"",newRoleZh:"",roles:[],treeData:[],checkedKeys:[],loading:!1,activeColItem:-1}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"text-align":"left"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入角色英文名称...",size:"mini"},model:{value:e.newRole,callback:function(t){e.newRole=t},expression:"newRole"}},[a("template",{slot:"prepend"},[e._v("ROLE_")])],2),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入角色中文名称...",size:"mini"},model:{value:e.newRoleZh,callback:function(t){e.newRoleZh=t},expression:"newRoleZh"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini"},on:{click:e.addNewRole}},[e._v("添加角色")])],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px","text-align":"left"}},[a("el-collapse",{staticStyle:{width:"500px"},attrs:{accordion:""},on:{change:e.collapseChange},model:{value:e.activeColItem,callback:function(t){e.activeColItem=t},expression:"activeColItem"}},e._l(e.roles,function(t,i){return a("el-collapse-item",{key:t.name,attrs:{title:t.nameZh,name:t.id}},[a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("可访问的资源")]),e._v(" "),a("el-button",{staticStyle:{color:"#f6061b",margin:"0px",float:"right",padding:"3px 0",width:"15px",height:"15px"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){e.deleteRole(t.id,t.nameZh)}}})],1),e._v(" "),a("div",[a("el-tree",{key:t.id,ref:"tree",refInFor:!0,attrs:{props:e.props,data:e.treeData,"default-checked-keys":e.checkedKeys,"node-key":"id","show-checkbox":"","highlight-current":""},on:{"check-change":e.handleCheckChange}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-right":"10px"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelUpdateRoleMenu}},[e._v("取消修改")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.updateRoleMenu(i)}}},[e._v("确认修改")])],1)])],1)}))],1)])},staticRenderFns:[]},s=a("Z0/y")(l,r,!1,null,null,null);t.default=s.exports},ewEk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{hr:{},userface:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1515233756&di=0856d923a0a37a87fd26604a2c871370&imgtype=jpg&er=1&src=http%3A%2F%2Fwww.qqzhi.com%2Fuploadpic%2F2014-09-27%2F041716704.jpg",item:{},phone:"",telephone:"",rules:{},addLoading:!1,dialogTitle:"",tableLoading:!1,dialogVisible:!1,currentPage:1,totalCount:-1,advanceSearchViewVisible:!1,keywords:"",fullloading:!1,hrs:[],cardLoading:[],eploading:[],allRoles:[],moreBtnState:!1,selRoles:[],selRolesBak:[]}},mounted:function(){this.initCards(),this.loadAllRoles()},methods:{handleSelectionChange:function(e){this.multipleSelection=e},cancelEidt:function(){this.dialogVisible=!1},currentChange:function(e){this.currentPage=e,this.loadEmps.initCards()},toEnabled:function(e){var t=this;this.$confirm("禁用["+e.name+"]的登录权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.switchChange(!1,e.id)}).catch(function(){_this.$message({type:"info",message:"已取消删除"})})},toEnabl:function(e){var t=this;this.$confirm("禁用["+e.name+"]的登录权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.switchChange(!0,e.id)}).catch(function(){_this.$message({type:"info",message:"已取消删除"})})},selectEmpByPhone:function(){var e=this,t=this,a=t.phone;""!==a&&11===a.length?this.getRequest("/employee/basic/empbyphone?phone="+a).then(function(a){a&&200==a.status?e.item=a.data.emp:null===a.data.emp?t.$message.error("未找到此员工信息,请核对手机号是否正确"):t.$message.error("系统出错,匹配失败")}):t.$message.error("请检查手机号填写是否正确")},toAddHr:function(){this.addLoading=!0;var e=this,t={username:this.item.phone,name:this.item.name,password:"123456",phone:this.item.phone,userface:this.userface,empId:this.item.id,telephone:this.telephone};this.putRequest("/system/hr/hr/register",t).then(function(t){if(e.addLoading=!1,t&&200==t.status){var a=t.data.id;-1==a?e.$message.error("此员工信息已被绑定请，检查"):2==a?e.$message.error("注册失败"):e.updateHrRoles(a)}})},showAddEmpView:function(){this.dialogTitle="添加操作人员",this.dialogVisible=!0,this.phone="",this.item={},this.selRoles=[]},keywordsChange:function(e){""==e&&this.initCards()},searchEmp:function(){this.initCards()},searchClick:function(){this.initCards(),this.loadAllRoles()},updateHrRoles:function(e){var t=this;this.moreBtnState=!1;var a=this;if(this.selRolesBak.length==this.selRoles.length){for(var i=0;i<this.selRoles.length;i++)for(var l=0;l<this.selRolesBak.length;l++)if(this.selRoles[i]==this.selRolesBak[l]){this.selRolesBak.splice(l,1);break}if(0==this.selRolesBak.length)return}this.putRequest("/system/hr/roles",{hrId:e,rids:this.selRoles}).then(function(e){t.addLoading=!1,e&&200==e.status&&"success"==e.data.status&&(a.$message.success("添加成功"),t.dialogVisible=!1,a.initCards())})},refreshHr:function(e,t){var a=this;a.cardLoading.splice(t,1,!0),this.putRequest("/system/hr/id/"+e).then(function(e){a.cardLoading.splice(t,1,!1),a.hrs.splice(t,1,e.data)})},loadSelRoles:function(e,t){var a=this;this.moreBtnState=!0,this.selRoles=[],this.selRolesBak=[],e.forEach(function(e){a.selRoles.push(e.id),a.selRolesBak.push(e.id)})},loadAllRoles:function(){var e=this;this.getRequest("/system/basic/roles").then(function(t){e.fullloading=!1,t&&200==t.status&&(e.allRoles=t.data)})},switchChange:function(e,t){var a=this;this.putRequest("/system/hr/",{enabled:e,id:t}).then(function(e){if(e&&200==e.status){var t=e.data;a.initCards(),a.$message({type:t.status,message:t.msg})}})},initCards:function(){this.fullloading=!0,this.tableLoading=!0;var e,t=this;e=""===this.keywords?"all":this.keywords,this.getRequest("/system/hr/list?page="+this.currentPage+"&size=10&keywords="+e).then(function(e){t.tableLoading=!1,e&&200==e.status&&(t.hrs=e.data.hrs,t.totalCount=e.data.count)})},deleteHr:function(e){var t=this;this.fullloading=!0,this.deleteRequest("/system/hr/"+e).then(function(e){if(t.fullloading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),"success"==a.status&&(t.initCards(),t.loadAllRoles())}})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{display:"inline"}},[a("el-input",{staticStyle:{width:"300px",margin:"0px",padding:"0px"},attrs:{placeholder:"通过员工名搜索员工,记得回车哦...",clearable:"",size:"mini",disabled:e.advanceSearchViewVisible,"prefix-icon":"el-icon-search"},on:{change:e.keywordsChange},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchEmp(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchEmp}},[e._v("搜索\r\n        ")])],1),e._v(" "),a("div",{staticStyle:{"margin-left":"5px","margin-right":"20px",display:"inline"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.showAddEmpView}},[e._v("\r\n          添加操作人员\r\n        ")])],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.hrs,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"name",align:"center",fixed:"",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",align:"center",label:"登录账号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"telephone",align:"center",label:"电话号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idCard",align:"center",label:"角色"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.roles,function(t){return a("el-tag",{key:t.id,staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"mini","disable-transitions":!1}},[e._v(e._s(t.nameZh)+"\r\n                ")])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"wedlock",align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.enabled?a("el-tag",{staticStyle:{"margin-right":"5px"},attrs:{type:"warning",size:"mini","disable-transitions":!1}},[e._v("正常\r\n                ")]):e._e(),e._v(" "),!1===t.row.enabled?a("el-tag",{staticStyle:{"margin-right":"5px"},attrs:{type:"danger",size:"mini","disable-transitions":!1}},[e._v("禁用\r\n                ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"195"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!0===t.row.enabled,expression:"scope.row.enabled === true"}],staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{type:"danger",size:"mini"},on:{click:function(a){e.toEnabled(t.row)}}},[e._v("禁 用\r\n                ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!1===t.row.enabled,expression:"scope.row.enabled === false"}],staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{type:"primary",size:"mini"},on:{click:function(a){e.toEnabl(t.row)}}},[e._v("启 用\r\n                ")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination",staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),a("el-form",{ref:"addEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.hr,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"47%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("div",[a("el-form-item",{attrs:{label:"手机号码:",prop:"name"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{"prefix-icon":"el-icon-edit",placeholder:"请输入员工手机号码"},on:{blur:e.selectEmpByPhone},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话号码:",prop:"name"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{"prefix-icon":"el-icon-edit",placeholder:"请输入员工电话号码"},model:{value:e.telephone,callback:function(t){e.telephone=t},expression:"telephone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选定角色:",prop:"name"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择角色"},model:{value:e.selRoles,callback:function(t){e.selRoles=t},expression:"selRoles"}},e._l(e.allRoles,function(e){return a("el-option",{key:e.id,attrs:{label:e.nameZh,value:e.id}})}))],1)],1)]),e._v(" "),a("el-col",{staticStyle:{"border-left":"1px solid #00F"},attrs:{span:12}},[a("div")])],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-around","flex-wrap":"wrap","text-align":"left"}},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.addLoading,expression:"addLoading"}],staticStyle:{width:"350px","margin-bottom":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[this.item.name+""=="undefined"?a("span",[e._v("待选定人员...")]):e._e(),e._v(" "),""!==this.item.name?a("span",{staticStyle:{color:"red"}},[e._v(e._s(e.item.name))]):e._e()]),e._v(" "),a("div",[a("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center"}},[a("img",{staticStyle:{width:"70px",height:"70px","border-radius":"70px"},attrs:{src:this.userface}})]),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("div",[a("span",{staticClass:"user-info"},[e._v("用户名:"),a("span",[e._v(e._s(e.item.name))])])]),e._v(" "),a("div",[a("span",{staticClass:"user-info"},[e._v("手机号码:"+e._s(e.item.phone))])]),e._v(" "),a("div",[a("span",{staticClass:"user-info"},[e._v("电话号码:"+e._s(e.item.telephone))])]),e._v(" "),a("div",[a("span",{staticClass:"user-info"},[e._v("备注:"+e._s(e.item.remark))])])])])]),e._v(" "),a("span",[e._v("*特别提醒：员工手机号将作为登录账号，初始密码为：123456。待员工首次登录时需修改登录密码。")])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini",type:"primary",disabled:this.item.name+""=="undefined"||this.selRoles.length+""=="0"||this.addLoading},on:{click:e.toAddHr}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")])],1)],1)],1)])],1)},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("3xp9")},null,null);t.default=r.exports},fc7a:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("eLaH"),l=a("FvOz"),r=a("5xQo"),s=a("c98W"),n=a("/LNZ"),o={data:function(){return{defaultTab:"depMana"}},methods:{},components:{"menu-role":i.default,"dep-mana":l.default,"ec-mana":r.default,"jobtitle-mana":s.default,"pos-mana":n.default}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"10px"}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.defaultTab,callback:function(t){e.defaultTab=t},expression:"defaultTab"}},[a("el-tab-pane",{attrs:{label:"部门管理",name:"depMana"}},[a("dep-mana")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"职位管理",name:"positionMana"}},[a("pos-mana",{attrs:{state:"position"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"职称管理",name:"jobTitleMana"}},[a("pos-mana",{attrs:{state:"jobtitle"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"权限组",name:"menuRole"}},[a("menu-role")],1)],1)],1)},staticRenderFns:[]},u=a("Z0/y")(o,c,!1,null,null,null);t.default=u.exports},"hI+w":function(e,t){},hLgA:function(e,t){},"ik/5":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{username:"",name:"",uid:"",showTab:1,tableLoading:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[]}},methods:{handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this;this.getRequest("/material/record/listbypage?page="+this.currentPage+"&size="+this.pagesize+"&addUserId="+this.uid).then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.wuliaolist,e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.wuLiaoName.indexOf(e.select_word)>-1||t.orderName.indexOf(e.select_word)>-1)return t})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("备料管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("下单记录")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"30px"}},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"20px"}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,border:""}},[a("el-table-column",{attrs:{prop:"orderName",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wuLiaoName",label:"物料"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"备料进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status+""=="0"?a("el-tag",[e._v("备料中")]):e._e(),e._v(" "),t.row.status+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("待领取")]):e._e(),e._v(" "),t.row.status+""=="2"?a("el-tag",{attrs:{type:"warning"}},[e._v("完成")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"下单时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"haveTime",label:"完结时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.haveTime+""==""||t.row.haveTime+""=="null"?a("el-tag",[e._v("进行中")]):e._e(),e._v(" "),t.row.haveTime+""!=""&&t.row.haveTime+""!="null"?a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.haveTime))]):e._e()]}}])})],1)],1)])],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("Cz5g")},"data-v-786e03e7",null);t.default=r.exports},jiqK:function(e,t){},kf1N:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={props:{title:String},data:function(){return{dialogFormVisible:!1,checkLoading:!1,steps:[],username:"",name:"",uid:"",form:{isCheck:!0,isBusRemark:!1},rules:{stepName:[{required:!0,message:"请输入步骤名称",trigger:"blur"},{min:1,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.checkLoading=!0,a.form.addUserId=t.uid,a.form.addUserName=t.name,t.postRequest("/work/step/add",a.form).then(function(e){a.checkLoading=!1,e&&200==e.status&&0==e.data.code?(a.$message.success("添加成功"),a.dialogFormVisible=!1,a.loadAllSteps()):a.$message.error("添加失败")})})},addbuzhou:function(){this.dialogFormVisible=!0},loadAllSteps:function(){var e=this;this.getRequest("/work/step/list?").then(function(t){t&&200==t.status&&0==t.data.code?e.steps=t.data.data.steplist:console.log("获取列表数据失败")})},del:function(e){var t=this;this.$confirm("此操作将永久删除该步骤, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.todel(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},todel:function(e){var t=this;this.getRequest("/work/step/del?id="+e).then(function(e){e&&200==e.status&&0==e.data.code?(t.$message.success("删除成功"),t.loadAllSteps()):t.$message.error("删除失败")})},resetForm:function(e){this.$refs[e].resetFields()}},mounted:function(){this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name"),this.loadAllSteps()}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-share"}),e._v("车间管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("步骤管理")])],1)],1),e._v(" "),a("el-container",[a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("已有步骤")])]),e._v(" "),a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{on:{click:e.addbuzhou}},[a("el-card",{staticClass:"mould-card",staticStyle:{"min-height":"121px"}},[a("div",{staticStyle:{padding:"14px"}},[a("img",{staticClass:"image"}),e._v(" "),a("i",{staticClass:"el-icon-plus"},[e._v("新增步骤")])])])],1)]),e._v(" "),e._l(e.steps,function(t){return a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"mould-card",attrs:{"body-style":{padding:"0px"}}},[a("div",{staticStyle:{padding:"14px"}},[a("h4",[e._v(e._s(t.stepName))]),e._v(" "),a("h5",[e._v("添加人:"+e._s(t.addUserName))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.isCheck,expression:"step.isCheck === false"}]},[a("h6",[e._v("无需审核")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.isCheck,expression:"step.isCheck === true"}]},[a("h6",[e._v("需要审核")])]),e._v(" "),a("div",{staticClass:"bottom clearfix"},[a("p",{staticClass:"time"},[e._v("说明："+e._s(t.remark))]),e._v(" "),a("el-dropdown",{staticStyle:{float:"right",color:"#409EFF"}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-edit"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.del(t.id)}}},[e._v("删 除")])],1)],1)],1)],1)])])],1)})],2)],1)])],1)])],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.checkLoading,expression:"checkLoading"}],attrs:{title:"添加步骤","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogFormVisible,width:"50%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"步骤名称",prop:"stepName"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入步骤名称"},model:{value:e.form.stepName,callback:function(t){e.$set(e.form,"stepName",t)},expression:"form.stepName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"质量审查"}},[a("el-switch",{model:{value:e.form.isCheck,callback:function(t){e.$set(e.form,"isCheck",t)},expression:"form.isCheck"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商务监察"}},[a("el-switch",{model:{value:e.form.isBusRemark,callback:function(t){e.$set(e.form,"isBusRemark",t)},expression:"form.isBusRemark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"说明"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("提 交")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1)])],1)},staticRenderFns:[]},r=a("Z0/y")(i,l,!1,null,null,null);t.default=r.exports},ltpN:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{activeName:"first",username:"",name:"",uid:"",tableLoading:!1,currentPage0:1,totalnum0:0,pagesize0:10,currentPage1:1,totalnum1:0,pagesize1:10,currentPage2:1,totalnum2:0,pagesize2:10,tableData0:[],tableData1:[],tableData2:[]}},methods:{toinfo:function(e){this.$router.push("/bus/offer/info/"+e)},tongGuoShenHe:function(e){0==e.index?this.getCollectMouldList(0,this.currentPage0,this.pagesize0):1==e.index?this.getCollectMouldList(1,this.currentPage1,this.pagesize1):2==e.index&&this.getCollectMouldList(2,this.currentPage2,this.pagesize2)},tableRowClassName:function(e){e.row,e.rowIndex;return"warning-row"},tableRowClassName1:function(e){e.row,e.rowIndex;return"success-row"},tableRowClassName2:function(e){e.row,e.rowIndex;return"error-row"},handleSizeChange0:function(e){this.pagesize0=e,this.getCollectMouldList(0,this.currentPage0,this.pagesize0)},handleCurrentChange0:function(e){this.currentPage0=e,this.getCollectMouldList(0,this.currentPage0,this.pagesize0)},handleSizeChange1:function(e){this.pagesize1=e,this.getCollectMouldList(1,this.currentPage1,this.pagesize1)},handleCurrentChange1:function(e){this.currentPage1=e,this.getCollectMouldList(1,this.currentPage1,this.pagesize1)},handleSizeChange2:function(e){this.pagesize2=e,this.getCollectMouldList(2,this.currentPage2,this.pagesize2)},handleCurrentChange2:function(e){this.currentPage2=e,this.getCollectMouldList(2,this.currentPage2,this.pagesize2)},getCollectMouldList1:function(e,t,a){var i=this;this.getRequest("/audit/bus/listbypage?page="+t+"&size="+a+"&audit=1").then(function(e){e&&200==e.status&&0==e.data.code&&(alert("dsd"),i.tableData1=e.data.data.auditbusbaojialist,i.totalnum1=e.data.data.count)})},getCollectMouldList:function(e,t,a){var i=this;this.getRequest("/audit/bus/listbypage?page="+t+"&size="+a+"&audit="+e).then(function(t){t&&200==t.status&&0==t.data.code&&(0==e?(i.tableData0=t.data.data.auditbusbaojialist,i.totalnum0=t.data.data.count):1==e?(i.tableData1=t.data.data.auditbusbaojialist,i.totalnum1=t.data.data.count):2==e&&(i.tableData2=t.data.data.auditbusbaojialist,i.totalnum1=t.data.data.count))})}},mounted:function(){this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name"),this.getCollectMouldList(0,1,10)}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("商务报价审核")]),e._v(" "),a("el-breadcrumb-item",[e._v("审核记录")])],1)],1),e._v(" "),a("el-container",[a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"20px"}},[a("div",[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.tongGuoShenHe}},[a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-date"},[e._v("待审核")])]),e._v(" "),a("el-table",{attrs:{data:e.tableData0,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"客户单位",prop:"clientCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"车型",prop:"carType"}}),e._v(" "),a("el-table-column",{attrs:{label:"审核状态",prop:"aduit"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.audit+""=="0"?a("el-tag",{attrs:{type:"primary"}},[e._v("待审核")]):e._e(),e._v(" "),t.row.audit+""=="1"?a("el-tag",{attrs:{type:"info"}},[e._v("审核通过")]):e._e(),e._v(" "),t.row.audit+""=="2"?a("el-tag",{attrs:{type:"danger"}},[e._v("驳回")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"费用合计",prop:"total"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toinfo(t.row.id)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage0,"page-sizes":[10,30,80,100],"page-size":e.pagesize0,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum0},on:{"size-change":e.handleSizeChange0,"current-change":e.handleCurrentChange0}})],1)],1),e._v(" "),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-date"},[e._v("已通过")])]),e._v(" "),a("el-table",{attrs:{data:e.tableData1,"row-class-name":e.tableRowClassName1}},[a("el-table-column",{attrs:{label:"客户单位",prop:"clientCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"车型",prop:"carType"}}),e._v(" "),a("el-table-column",{attrs:{label:"审核状态",prop:"aduit"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.audit+""=="0"?a("el-tag",{attrs:{type:"primary"}},[e._v("待审核")]):e._e(),e._v(" "),t.row.audit+""=="1"?a("el-tag",{attrs:{type:"success"}},[e._v("审核通过")]):e._e(),e._v(" "),t.row.audit+""=="2"?a("el-tag",{attrs:{type:"danger"}},[e._v("驳回")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"费用合计",prop:"total"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toinfo(t.row.id)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage1,"page-sizes":[10,30,80,100],"page-size":e.pagesize1,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum1},on:{"size-change":e.handleSizeChange1,"current-change":e.handleCurrentChange1}})],1)],1),e._v(" "),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-date"},[e._v("未通过")])]),e._v(" "),a("el-table",{attrs:{data:e.tableData2,"row-class-name":e.tableRowClassName2}},[a("el-table-column",{attrs:{label:"客户单位",prop:"clientCompanyName"}}),e._v(" "),a("el-table-column",{attrs:{label:"车型",prop:"carType"}}),e._v(" "),a("el-table-column",{attrs:{label:"审核状态",prop:"aduit"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.audit+""=="0"?a("el-tag",{attrs:{type:"primary"}},[e._v("待审核")]):e._e(),e._v(" "),t.row.audit+""=="1"?a("el-tag",{attrs:{type:"info"}},[e._v("审核通过")]):e._e(),e._v(" "),t.row.audit+""=="2"?a("el-tag",{attrs:{type:"danger"}},[e._v("驳回")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"费用合计",prop:"total"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toinfo(t.row.id)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage2,"page-sizes":[10,30,80,100],"page-size":e.pagesize2,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum2},on:{"size-change":e.handleSizeChange2,"current-change":e.handleCurrentChange2}})],1)],1)],1)],1)])],1)],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("NsTY"),a("KePC")},"data-v-626abe18",null);t.default=r.exports},m98m:function(e,t){},mCzI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("OIbc"),l=a("+J3q"),r={components:{VueCoreImageUpload:i.default},props:{title:String},data:function(){return{upload:"",imageData:{userId:"",imgPakage:"order_pm"},imageUrls:[],ruleForm:{tax:"17",addUserId:"",addUserName:""},elform:{productNum:"0",area:"0",dongMo:!1,price:"0"},productData:[],innerVisible:!1,tableData:[],select_word:"",nowTab:1,rules:{productName:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:0,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],wenlidaima:[{required:!0,message:"请输入纹理代码",trigger:"blur"},{min:0,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],carType:[{required:!0,message:"请输入车型",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],clientCompanyName:[{required:!0,message:"请输入客户单位",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],contactPerson:[{required:!0,message:"请输入预报价单名称",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入联系人电话",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],paytype:[{required:!0,message:"请输入付款方式",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],deliverytime:[{required:!0,message:"请输入加工周期",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],remark:[{min:0,max:2048,message:"长度在 0 到 2048 个字符",trigger:"blur"}]}}},methods:{commit:function(){},toDel:function(e){console.log(e),alert(e)},toEidtor:function(e){},toAddProduct:function(){var e={yuBaoJiaId:"",productName:this.elform.productName,wenlidaima:this.elform.wenlidaima,productNum:this.elform.productNum,area:this.elform.area,dongMo:this.elform.dongMo,coefficient:this.elform.coefficient,price:this.elform.price,picUrls:this.imageUrls,immutable:!1,addUserId:this.uid,addUserName:this.name};this.productData.push(e),this.imageUrls=[],this.resetForm("elform"),this.innerVisible=!1},resetForm:function(e){this.$refs[e].resetFields()},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return a.$message.error("请检查输入信息的格式"),!1;t.nowTab=2})},imageuploaded:function(e){if("undefined"!==e.url.length&&e.url.length>0){for(var t=e.url,a=this.imageUrls,i=0;i<t.length;i++)a.push(t[i]);this.imageUrls=a}},delMouldImage:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.todelImage(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},todelImage:function(e){var t=this;"undefined"!=e&&""!=e.length?this.getRequest("/config/delfile/delImage?url="+e).then(function(a){if(a&&200==a.status&&0==a.data.code){t.$message.success("删除成功");for(var i=t.imageUrls,l=[],r=0;r<i.length;r++)e!=i[r]&&l.push(i[r]);t.imageUrls=l}else t.$message.error("删除照片失败")}):t.$message.error("删除图片不存在")},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传出现异常"})}},mounted:function(){this.$nextTick(function(){this.upload=l.a.upload}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("预报价单")]),e._v(" "),a("el-breadcrumb-item",[e._v("添加预报价单")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{"align-items":"center","margin-top":"40px"}},[a("el-steps",{attrs:{active:e.nowTab}},[a("el-step",{attrs:{title:"基本信息",icon:"el-icon-edit"}}),e._v(" "),a("el-step",{attrs:{title:"报价详情",icon:"el-icon-document"}})],1)],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.nowTab,expression:"nowTab==1"}]},[a("el-card",{staticStyle:{"margin-top":"30px"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"110px"}},[a("div",[a("el-form-item",{attrs:{label:"客户单位：",prop:"clientCompanyName"}},[a("el-input",{model:{value:e.ruleForm.clientCompanyName,callback:function(t){e.$set(e.ruleForm,"clientCompanyName",t)},expression:"ruleForm.clientCompanyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人：",prop:"contactPerson"}},[a("el-input",{model:{value:e.ruleForm.contactPerson,callback:function(t){e.$set(e.ruleForm,"contactPerson",t)},expression:"ruleForm.contactPerson"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话：",prop:"contactPhone"}},[a("el-input",{model:{value:e.ruleForm.contactPhone,callback:function(t){e.$set(e.ruleForm,"contactPhone",t)},expression:"ruleForm.contactPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车型：",prop:"carType"}},[a("el-input",{model:{value:e.ruleForm.carType,callback:function(t){e.$set(e.ruleForm,"carType",t)},expression:"ruleForm.carType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"税率：",prop:"tax"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.ruleForm.tax,callback:function(t){e.$set(e.ruleForm,"tax",t)},expression:"ruleForm.tax"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)]),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showTab=1}}},[e._v("返回列表")])],1),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("下一步")])],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.nowTab,expression:"nowTab==2"}]},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("产品列表")]),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"right"}},[a("el-button",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:function(t){e.innerVisible=!0}}},[e._v("添加")])],1)]),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.productData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"productName",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"image",staticStyle:{height:"30px",width:"30px"},attrs:{src:e.row.picUrls[0]}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"wenlidaima",label:"纹理代码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productNum",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"含税"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"area",label:"面积"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"不含系数价格"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.toEidtor(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.toDel(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[a("div",{staticClass:"card-bottom",staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.nowTab=1}}},[e._v("上一步")])],1),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.commit}},[e._v("提 交")])],1)])])],1),e._v(" "),a("div",[a("el-dialog",{attrs:{width:"60%",title:"产品详情",visible:e.innerVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{ref:"elform",staticStyle:{width:"100%"},attrs:{model:e.elform,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"产品名称：",prop:"productName"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入产品名称"},model:{value:e.elform.productName,callback:function(t){e.$set(e.elform,"productName",t)},expression:"elform.productName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"纹理代码：",prop:"wenlidaima"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入纹理代码"},model:{value:e.elform.wenlidaima,callback:function(t){e.$set(e.elform,"wenlidaima",t)},expression:"elform.wenlidaima"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品数量：",prop:"productNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:e.elform.productNum,callback:function(t){e.$set(e.elform,"productNum",t)},expression:"elform.productNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"面积：",prop:"area"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.elform.area,callback:function(t){e.$set(e.elform,"area",t)},expression:"elform.area"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"有无动模："}},[a("el-switch",{model:{value:e.elform.dongMo,callback:function(t){e.$set(e.elform,"dongMo",t)},expression:"elform.dongMo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系数：",prop:"coefficient"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入产品系数"},model:{value:e.elform.coefficient,callback:function(t){e.$set(e.elform,"coefficient",t)},expression:"elform.coefficient"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单价：",prop:"price"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.elform.price,callback:function(t){e.$set(e.elform,"price",t)},expression:"elform.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片："}},[a("div",[a("vue-core-image-upload",{class:["el-button","el-button--primary"],attrs:{crop:!1,inputOfFile:"imageFile",url:e.upload,extensions:"png,gif,jpeg,jpg","max-file-size":5242880,data:e.imageData,text:"上传图片",multiple:!0,"multiple-size":30,credentials:"true"},on:{imageuploaded:e.imageuploaded,errorhandle:e.handleError}})],1)])],1),e._v(" "),a("div",{staticStyle:{border:"1px dashed #d9d9d9",width:"100%","min-height":"358px"}},[a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},e._l(e.imageUrls,function(t){return a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"mould-card",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",staticStyle:{height:"320px"},attrs:{src:t}}),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.delMouldImage(t)}}},[a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}})])],1)])],1)}))],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.toAddProduct}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.innerVisible=!1}}},[e._v("取 消")])],1)],1)],1)])],1)],1)])},staticRenderFns:[]},n=a("Z0/y")(r,s,!1,null,null,null);t.default=n.exports},mNON:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    工资表查询\n  ")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},nSLl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("员工调薪")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},nXBi:function(e,t){},nZPv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{update_mould_name:"",update_disable:!1,username:"",uid:"",name:"",nowTab:1,select_mould_word:"",select_mould:"",selectedM:{num:0,time:"",value:"",label:""},moulds:[],currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[],tableLoading:!1,exfrom:{addUserId:"",mouldId:"",addUserName:"0",youSiWenNum:"0",wuSiWenNum:"0",remark:""},rules:{mouldName:[{required:!0,message:"请输入模具名称",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}]}}},methods:{toUpdate:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.exfrom.mouldId=t.selectedM.value,t.putRequest("/shou/cai/update",a.exfrom).then(function(e){if(e&&200==e.status&&0==e.data.code){e.data.data.id;t.tableLoading=!0,t.$message.success("修改成功"),t.nowTab=1,t.resetForm("exfrom"),t.selectedM={},t.getCollectMouldList()}else t.$message.error("修改失败")})})},goBack:function(){this.nowTab=1,this.update_disable=!1},toGetAllInfo:function(e){this.update_disable=!0,this.exfrom.mouldId=e.mouldId,this.exfrom.id=e.id,this.exfrom.youSiWenNum=e.youSiWenNum,this.exfrom.wuSiWenNum=e.wuSiWenNum,this.exfrom.remark=e.remark,e.mouldInfo.mouldNum+""==""?this.selectedM.num=0:this.selectedM.num=e.mouldInfo.mouldNum+"",this.selectedM.time=e.mouldInfo.createTime,this.selectedM.value=e.mouldInfo.id,this.update_mould_name=e.mouldInfo.mouldName,this.nowTab=2},toSelect:function(){var e=this;""==e.select_mould_word&&e.$message.error("请输入模具名称或添加人姓名"),this.getRequest("/shou/mo/select?mouldName="+e.select_mould_word+"&addUserName="+e.select_mould_word).then(function(t){if(t&&200==t.status&&0==t.data.code){e.$message.success("查找成功，请左侧点击选择");for(var a=t.data.data,i=[],l=0;l<a.length;l++){var r={label:"",value:"",time:"",num:""};r.label=a[l].mouldName,r.value=a[l].id,r.num=a[l].mouldNum,r.time=a[l].createTime,i.push(r)}e.moulds=i}else e.$message.success("信息不存在")})},loadAllProject:function(){var e=this;this.getRequest("/shou/mo/get/byday").then(function(t){if(t&&200==t.status&&0==t.data.code){for(var a=[],i=t.data.data,l=0;l<i.length;l++){var r={label:"",value:"",time:"",num:""};r.label=i[l].mouldName,r.value=i[l].id,r.num=i[l].mouldNum,r.time=i[l].createTime,a.push(r)}e.moulds=a}else console.log("获取列表数据失败")})},toAddMouldRecord:function(){this.nowTab=2,this.loadAllProject()},delMouldRecord:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.toDelPartInfo(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},resetForm:function(e){this.$refs[e].resetFields()},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.exfrom.addUserId=t.uid,a.exfrom.addUserName=t.name,a.exfrom.mouldId=t.selectedM.value,t.putRequest("/shou/cai/create",a.exfrom).then(function(e){if(e&&200==e.status&&0==e.data.code){e.data.data.id;t.tableLoading=!0,t.$message.success("添加成功"),t.nowTab=1,t.resetForm("exfrom"),t.selectedM={},t.getCollectMouldList()}else t.$message.success("添加失败")})})},handleChange:function(e){},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this;this.getRequest("/shou/cai/listbypage?page="+this.currentPage+"&size="+this.pagesize).then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.caiMoList,e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.addUserName.indexOf(e.select_word)>-1)return t})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.nowTab,expression:"nowTab === 1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("收模管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("拆模记录")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"20px"}},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"mr10",attrs:{type:"primary",icon:"plus"},on:{click:e.toAddMouldRecord}},[e._v("增添拆模记录")]),e._v(" "),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.data,stripe:""}},[a("el-table-column",{attrs:{align:"center",prop:"mouldName",label:"模具名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.mouldInfo.mouldName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"mouldNum",label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.mouldInfo.mouldNum))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"收模时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDateTime")(t.row.mouldInfo.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"addUserName",label:"拆模人"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toGetAllInfo(t.row)}}},[e._v("查看详情")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.nowTab,expression:"nowTab==2"}],staticStyle:{width:"100%",float:"right"}},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("收模管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("拆模记录")]),e._v(" "),a("el-breadcrumb-item",[e._v("拆模详情")])],1)],1),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("拆模基础信息")])]),e._v(" "),a("div",[a("div",{staticClass:"form-box"},[a("el-form",{ref:"exfrom",attrs:{model:e.exfrom,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.update_disable,expression:"!update_disable"}],attrs:{label:"模具名称：",required:""}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"30%"},attrs:{placeholder:"请输入内容(模具名称或收模人姓名)"},model:{value:e.select_mould_word,callback:function(t){e.select_mould_word=t},expression:"select_mould_word"}},[a("el-select",{staticStyle:{width:"130px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.selectedM,callback:function(t){e.selectedM=t},expression:"selectedM"}},e._l(e.moulds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e}})})),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.toSelect},slot:"append"})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模具收模信息："}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.update_disable,expression:"!update_disable"}],staticStyle:{border:"1px dashed #d9d9d9",width:"40%","min-height":"128px"}},[a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"模具数量："}},[a("el-input-number",{attrs:{placeholder:"请输入模具数量","controls-position":"right",min:0,disabled:!0},on:{change:e.handleChange},model:{value:e.selectedM.num,callback:function(t){e.$set(e.selectedM,"num",t)},expression:"selectedM.num"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"收模时间："}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{disabled:!0,format:"yyyy 年 MM 月 dd 日 HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.selectedM.time,callback:function(t){e.$set(e.selectedM,"time",t)},expression:"selectedM.time"}})],1)],1),e._v(" "),e.update_disable?a("div",{staticStyle:{border:"1px dashed #d9d9d9",width:"40%","min-height":"128px"}},[a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"模具名称："}},[a("span",[e._v(e._s(e.update_mould_name))])]),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"模具数量："}},[a("el-input-number",{attrs:{placeholder:"请输入模具数量","controls-position":"right",min:0,disabled:!0},on:{change:e.handleChange},model:{value:e.selectedM.num,callback:function(t){e.$set(e.selectedM,"num",t)},expression:"selectedM.num"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"收模时间："}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{disabled:!0,format:"yyyy 年 MM 月 dd 日 HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.selectedM.time,callback:function(t){e.$set(e.selectedM,"time",t)},expression:"selectedM.time"}})],1)],1):e._e()]),e._v(" "),a("el-form-item",{attrs:{label:"蚀纹镶块：",prop:"youSiWenNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},on:{change:e.handleChange},model:{value:e.exfrom.youSiWenNum,callback:function(t){e.$set(e.exfrom,"youSiWenNum",t)},expression:"exfrom.youSiWenNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"无蚀纹镶块：",prop:"wuSiWenNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},on:{change:e.handleChange},model:{value:e.exfrom.wuSiWenNum,callback:function(t){e.$set(e.exfrom,"wuSiWenNum",t)},expression:"exfrom.wuSiWenNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{staticStyle:{width:"28%"},attrs:{type:"textarea"},model:{value:e.exfrom.remark,callback:function(t){e.$set(e.exfrom,"remark",t)},expression:"exfrom.remark"}})],1)],1)],1)]),e._v(" "),a("div",{staticClass:"card-bottom"},[e.update_disable?e._e():a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("exfrom")}}},[e._v("确 定")]),e._v(" "),e.update_disable?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.toUpdate("exfrom")}}},[e._v("修 改")]):e._e(),e._v(" "),a("el-button",{on:{click:e.goBack}},[e._v("取 消")])],1)])],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("3HsB")},"data-v-234a04c2",null);t.default=r.exports},nfkO:function(e,t){},puTZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{orderTitle:"",itemOrderId:"",dialogFormVisible:!1,addtechloading:!1,nowTab:1,username:"",name:"",uid:"",tableLoading:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[],form:{tieHuaBuShu:"1"},rules:{piWenDaiMa:[{required:!0,message:"请输入皮纹代码",trigger:"blur"},{min:1,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],nanDuXiShu:[{required:!0,message:"请输入难度系数",trigger:"blur"}],gongYiCanShu:[{required:!0,message:"请输入加工参数",trigger:"blur"}]}}},methods:{toAdd:function(e){this.orderTitle="添加 [ "+e.orderName+" ] 的工艺卡",this.itemOrderId=e.id,this.dialogFormVisible=!0},handleChange:function(e){},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},submitForm:function(e){var t=this,a=this;a.addtechloading=!0,this.$refs[e].validate(function(e){if(!e)return a.$message.error("请检查输入信息的格式"),!1;a.form.orderId=a.itemOrderId,console.log(a.form),t.postRequest("/tech/stay/add/tech",a.form).then(function(e){a.addtechloading=!1,e&&200==e.status&&0==e.data.code?(t.$message.success("添加成功"),t.resetForm("form"),t.tableLoading=!0,t.dialogFormVisible=!1,t.getCollectMouldList()):t.$message.error("添加失败")})})},resetForm:function(e){this.$refs[e].resetFields()},getCollectMouldList:function(){var e=this;this.getRequest("/tech/stay/listbypage?page="+this.currentPage+"&size="+this.pagesize).then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.stayorderlist,e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.orderName.indexOf(e.select_word)>-1||t.addUserName.indexOf(e.select_word)>-1)return t})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.nowTab,expression:"nowTab === 1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("工艺管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("待提交记录")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"20px"}},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.data,stripe:""}},[a("el-table-column",{attrs:{label:"订单名称",prop:"orderName"}}),e._v(" "),a("el-table-column",{attrs:{label:"紧急程度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.urgency+""=="0"?a("el-tag",{attrs:{type:"info"}},[e._v("一般")]):e._e(),e._v(" "),t.row.urgency+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("紧急")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"负责人",prop:"addUserName"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.toAdd(t.row)}}},[e._v("编辑工艺卡")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.orderTitle,visible:e.dialogFormVisible,width:"50%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.addtechloading,expression:"addtechloading"}]},[a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"皮纹代码：",prop:"piWenDaiMa"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入纹理代码"},model:{value:e.form.piWenDaiMa,callback:function(t){e.$set(e.form,"piWenDaiMa",t)},expression:"form.piWenDaiMa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"难度系数：",prop:"nanDuXiShu"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入难度系数"},model:{value:e.form.nanDuXiShu,callback:function(t){e.$set(e.form,"nanDuXiShu",t)},expression:"form.nanDuXiShu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"贴花步数：",prop:"tieHuaBuShu"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},on:{change:e.handleChange},model:{value:e.form.tieHuaBuShu,callback:function(t){e.$set(e.form,"tieHuaBuShu",t)},expression:"form.tieHuaBuShu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工艺参数：",prop:"gongYiCanShu"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{type:"textarea",placeholder:"请输入工艺参数"},model:{value:e.form.gongYiCanShu,callback:function(t){e.$set(e.form,"gongYiCanShu",t)},expression:"form.gongYiCanShu"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"card-bottom"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("提 交")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重 置")])],1)])])],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("MdkF")},"data-v-2d11af00",null);t.default=r.exports},qnqA:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),l=a.n(i),r=a("OIbc"),s=a("+J3q"),n={components:{VueCoreImageUpload:r.default},data:function(){var e;return e={stepId:"",wen_jian_url:"",upload:"",wenjianData:{userId:"123",imgPakage:"yu_bao_jia"},username:"",name:"",uid:"",itemOrderId:"",dialogFormVisible:!1,select_word:"",form:{presentStepName:""},flowStepId:"",currentPage:1,totalnum:0,pagesize:10},l()(e,"select_word",""),l()(e,"tableData",[]),e},methods:{imageupwenjian:function(e){this.$message.success("上传成功");var t;"undefinded"!=(t=e.url)&&t.length>0&&(this.wen_jian_url=t[0])},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传出现异常"})},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},toShenHe:function(e){this.dialogFormVisible=!0,this.form.presentStepName=e.order.presentStepName,this.stepId=e.order.presentStepId,this.itemOrderId=e.order.id},shenhe:function(){var e=this;if("undefined"!=this.stepId&&""!=this.stepId){var t={presentStepId:this.stepId,orderId:this.itemOrderId,remark:this.form.remark,fuJianUrl:this.wen_jian_url,userId:this.uid,userName:this.name,auditResult:0};console.log(t),this.postRequest("/quality/audit",t).then(function(t){t&&200==t.status&&0==t.data.code?(e.dialogFormVisible=!1,e.getCollectMouldList(),e.$message.success("审核成功")):e.$message.success("审核失败")})}else this.$message.error("当前步骤信息有误")},getCollectMouldList:function(){var e=this,t=this;this.getRequest("/quality/process/listbypage?page="+this.currentPage+"&size="+this.pagesize+"&userId="+this.uid+"&status=0").then(function(a){t.tableLoading=!1,a&&200==a.status&&0==a.data.code?(console.log(a),e.tableData=a.data.data.qualityorderlist):console.log("获取数据失败")})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList(),this.upload=s.a.upload}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.wuLiaoName.indexOf(e.select_word)>-1||t.orderName.indexOf(e.select_word)>-1)return t})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("质量管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("下单记录")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"30px"}},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"20px"}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"",label:"产品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.order.orderName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"下单日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e._f("formatDateTime")(t.row.order.createTime)))]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("(工期7天)")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"完工预期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e._f("formatDateTime")(t.row.order.createTime)))]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("(剩余6天)")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"当前步骤"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.order.presentStepName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"presentSchedule",label:"订单进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(t.row.order.presentSchedule)+"%")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"urgency",label:"紧急程度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.order.urgency+""=="0"?a("el-tag",{attrs:{type:"info"}},[e._v("一般")]):e._e(),e._v(" "),t.row.order.urgency+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("紧急")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.toShenHe(t.row)}}},[e._v("审 核")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){}}},[e._v("详 情")])]}}])})],1)],1)])],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"步骤审核",visible:e.dialogFormVisible,width:"40%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{prop:"presentStepName",label:"当前步骤："}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.presentStepName,callback:function(t){e.$set(e.form,"presentStepName",t)},expression:"form.presentStepName"}},[e._v("44")])],1),e._v(" "),a("el-form-item",{attrs:{label:"审核备注："}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传文件："}},[a("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.wen_jian_url,expression:"wen_jian_url !== ''"}]},[a("p",{staticStyle:{color:"blue"}},[e._v("上传成功")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""===e.wen_jian_url,expression:"wen_jian_url === ''"}]},[a("vue-core-image-upload",{class:["el-button","el-button--primary"],attrs:{crop:!1,inputOfFile:"imageFile",url:e.upload,extensions:"png,ppt,doc,txt,jpg","max-file-size":5242880,data:e.wenjianData,text:"上传文件",multiple:!0,"multiple-size":30,credentials:"true"},on:{imageuploaded:e.imageupwenjian,errorhandle:e.handleError}})],1)])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.shenhe}},[e._v("通 过")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){}}},[e._v("驳 回")])],1)])],1)},staticRenderFns:[]};var c=a("Z0/y")(n,o,!1,function(e){a("ZBHA")},"data-v-6f66559c",null);t.default=c.exports},r3HF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    员工积分统计\n  ")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},tQt2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{"text-align":"left","padding-left":"0px","margin-top":"10px"}},[a("el-tag",{attrs:{size:"medium"}},[e._v("请选择部门:")]),e._v(" "),a("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.depId,callback:function(t){e.depId=t},expression:"depId"}},e._l(e.deps,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-main",[e._v("Main")])],1)],1)},staticRenderFns:[]},l=a("Z0/y")({data:function(){return{depId:1,deps:[]}},methods:{loadDeps:function(){var e=this;this.getRequest("/salary/table/deps").then(function(t){t&&200==t.status&&(e.deps=t.data)})}},mounted:function(){this.loadDeps()}},i,!1,null,null,null);t.default=l.exports},ubks:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    系统管理\n  ")])])}]},l=a("Z0/y")(null,i,!1,null,null,null);t.default=l.exports},vChM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("OIbc"),l=a("+J3q"),r={components:{VueCoreImageUpload:i.default},data:function(){return{ceshi:"1222",ceshi2:"ewew",upload:"",dialogFormVisible:!1,add_yaojian_loading:!1,imageData:{userId:"123",imgPakage:"yao_jian"},wen_jian_url:"",form:{fileUrl:"",orderId:"",remark:"",addUserId:"",addUserName:""},activeName:"first",username:"",name:"",uid:"",tableLoading:!1,currentPage0:1,totalnum0:0,pagesize0:10,currentPage1:1,totalnum1:0,pagesize1:10,currentPage2:1,totalnum2:0,pagesize2:10,tableData0:[],tableData1:[],tableData2:[]}},methods:{tongGuoShenHe:function(e){0==e.index?this.getCollectMouldList(!1,this.currentPage0,this.pagesize0):this.getAdded(this.currentPage1,this.pagesize1)},tableRowClassName:function(e){e.row,e.rowIndex;return"warning-row"},tableRowClassName1:function(e){e.row,e.rowIndex;return"success-row"},tableRowClassName2:function(e){e.row,e.rowIndex;return"error-row"},handleSizeChange0:function(e){this.pagesize0=e,this.getCollectMouldList(0,this.currentPage0,this.pagesize0)},handleCurrentChange0:function(e){this.currentPage0=e,this.getCollectMouldList(0,this.currentPage0,this.pagesize0)},handleSizeChange1:function(e){this.pagesize1=e,this.getAdded(this.currentPage1,this.pagesize1)},handleCurrentChange1:function(e){this.currentPage1=e,this.getAdded(this.currentPage1,this.pagesize1)},toAdd:function(e){this.dialogFormVisible=!0,this.form.orderId=e.id},addYaoJian:function(){var e=this;"undefined"!=e.wen_jian_url&&""!=e.wen_jian_url?(e.add_yaojian_loading=!0,e.form.addUserId=this.uid,e.form.addUserName=this.name,e.form.fileUrl=this.wen_jian_url,this.postRequest("/yao/list/add",e.form).then(function(t){e.add_yaojian_loading=!1,t&&200==t.status&&0==t.data.code?(e.$message.success("添加成功"),e.wen_jian_url="",e.form.remark="",e.dialogFormVisible=!1,e.getCollectMouldList(!1,e.currentPage0,e.pagesize0)):e.$message.error("添加失败")})):e.$message.error("请先上传文件")},getCollectMouldList:function(e,t,a){var i=this;this.getRequest("/yao/list/listbypage?page="+t+"&size="+a+"&yaoJian="+e).then(function(t){t&&200==t.status&&0==t.data.code&&(e?e&&(i.tableData1=t.data.data.yaolist,i.totalnum1=t.data.data.count):(i.tableData0=t.data.data.yaolist,i.totalnum0=t.data.data.count))})},getAdded:function(e,t){var a=this;this.getRequest("/yao/list/added?page="+e+"&size="+t).then(function(e){e&&200==e.status&&0==e.data.code&&(console.log(e),a.tableData1=e.data.data.yaolist,a.totalnum1=e.data.data.count)})},imageuploaded:function(e){this.$message.success("上传成功");var t;"undefinded"!=(t=e.url)&&t.length>0&&(this.wen_jian_url=t[0])},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传出现异常"})}},mounted:function(){this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name"),this.upload=l.a.upload,this.getCollectMouldList(!1,1,10)}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("药检管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("药检记录")])],1)],1),e._v(" "),a("el-container",[a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"20px"}},[a("div",[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.tongGuoShenHe}},[a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-date"},[e._v("待提交")])]),e._v(" "),a("el-table",{attrs:{data:e.tableData0,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"订单名称",prop:"orderName"}}),e._v(" "),a("el-table-column",{attrs:{label:"负责人",prop:"addUserName"}}),e._v(" "),a("el-table-column",{attrs:{label:"紧急程度",prop:"aduit"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.urgency+""=="0"?a("el-tag",{attrs:{type:"info"}},[e._v("一般")]):e._e(),e._v(" "),t.row.urgency+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("紧急")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.toAdd(t.row)}}},[e._v("提交药检报告")])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage0,"page-sizes":[10,30,80,100],"page-size":e.pagesize0,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum0},on:{"size-change":e.handleSizeChange0,"current-change":e.handleCurrentChange0}})],1)],1),e._v(" "),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-date"},[e._v("已提交")])]),e._v(" "),a("el-table",{attrs:{data:e.tableData1,"row-class-name":e.tableRowClassName1}},[a("el-table-column",{attrs:{label:"订单名称",prop:"orderName"}}),e._v(" "),a("el-table-column",{attrs:{label:"负责人",prop:"addUserName"}}),e._v(" "),a("el-table-column",{attrs:{label:"紧急程度",prop:"aduit"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.urgency+""=="0"?a("el-tag",{attrs:{type:"info"}},[e._v("一般")]):e._e(),e._v(" "),t.row.urgency+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("紧急")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{color:"blue"},attrs:{href:t.row.fileUrl,download:""}},[e._v("下载文件")])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage1,"page-sizes":[10,30,80,100],"page-size":e.pagesize1,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum1},on:{"size-change":e.handleSizeChange1,"current-change":e.handleCurrentChange1}})],1)],1)],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.add_yaojian_loading,expression:"add_yaojian_loading"}],attrs:{title:"药检信息",visible:e.dialogFormVisible,width:"50%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"上传文件："}},[a("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.wen_jian_url,expression:"wen_jian_url !== ''"}]},[a("p",{staticStyle:{color:"blue"}},[e._v("上传成功")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""===e.wen_jian_url,expression:"wen_jian_url === ''"}]},[a("vue-core-image-upload",{class:["el-button","el-button--primary"],attrs:{crop:!1,inputOfFile:"imageFile",url:e.upload,extensions:"png,ppt,doc,txt","max-file-size":5242880,data:e.imageData,text:"上传文件",multiple:!0,"multiple-size":30,credentials:"true"},on:{imageuploaded:e.imageuploaded,errorhandle:e.handleError}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addYaoJian()}}},[e._v("提 交")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)])],1)],1)],1)])},staticRenderFns:[]};var n=a("Z0/y")(r,s,!1,function(e){a("YwbF"),a("Syks")},"data-v-d84b8842",null);t.default=n.exports},vRqD:function(e,t){},vxwm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),l=a.n(i),r=a("OIbc"),s=a("+J3q"),n={components:{VueCoreImageUpload:r.default},props:{title:String},data:function(){return{wen_jian_url:"",upload:"",fujianForm:{tax:16,noTaxTotal:"0"},udapteBoolean:!1,activeName:"first",itemIndex:"",wenjianData:{userId:"123",imgPakage:"yu_bao_jia"},itemRow:{},imageData:{userId:"",imgPakage:"order_pm"},table_loading:!1,imageUrls:[],ruleForm:{tax:"16",addUserId:"",addUserName:""},elform:{productNum:"0",area:"0",dongMo:!1,price:"0",coefficient:""},productData:[],restaurants3:[],innerVisible:!1,tableData:[],select_word:"",nowTab:1,rules:{productName:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:0,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],projectId:[{required:!0,message:"请选择项目",trigger:"blur"}],wenlidaima:[{required:!0,message:"请输入纹理代码",trigger:"blur"},{min:0,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],carType:[{required:!0,message:"请输入车型",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],clientCompanyName:[{required:!0,message:"请输入客户单位",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],contactPerson:[{required:!0,message:"请输入预报价单名称",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入联系人电话",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],paytype:[{required:!0,message:"请输入付款方式",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],deliverytime:[{required:!0,message:"请输入加工周期",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],remark:[{min:0,max:2048,message:"长度在 0 到 2048 个字符",trigger:"blur"}]}}},methods:{tiJiao:function(){var e=this,t=this;if(""==this.wen_jian_url||this.wen_jian_url.length<=0)this.$message.error("请上传附件");else{var a=t.fujianForm;a.addUserId=this.uid,a.addUserName=this.name,a.total=this.totalPrice,a.submitType=1,a.fuJianUrl=this.wen_jian_url,this.postRequest("/offer/per/add",a).then(function(a){a&&200==a.status&&0==a.data.code?(t.$message.success("添加成功"),e.$router.push("/offer/per/list")):t.$message.error("添加基础信息失败")})}},imageupwenjian:function(e){this.$message.success("上传成功");var t;"undefinded"!=(t=e.url)&&t.length>0&&(this.wen_jian_url=t[0])},toAadd:function(){this.innerVisible=!0,this.udapteBoolean=!1,this.resetForm("elform")},chanel:function(){this.innerVisible=!1,this.udapteBoolean=!1},commit:function(){var e=this.productData;"undefined"==e||e.length<=0?this.$message.error("请添加产品详情"):this.addYuBaoJia()},addYuBaoJia:function(){var e=this,t=this,a=t.ruleForm;a.addUserId=this.uid,a.addUserName=this.name,a.submitType=0,this.postRequest("/offer/per/add",a).then(function(a){if(a&&200==a.status&&0==a.data.code){var i=a.data.data.id;i>0?e.addProduct(i):t.$message.error("添加基础信息失败")}else t.$message.error("添加基础信息失败")})},addProduct:function(e){var t=this;this.table_loading=!0;for(var a=this,i=a.productData,r="",s=0;s<i.length;s++){var n=i[s];n.addUserId=this.uid,n.addUserName=this.name,n.yuBaoJiaId=e,n.picUrls=this.toPinjieUrl(n.picUrls),r=r+l()(n)+"|"}var o={yuBaoJiaId:e,yuProducts:r};this.postRequest("/offer/per/add/product",o).then(function(e){t.table_loading=!1,e&&200==e.status&&0==e.data.code?(a.$message.success("添加成功"),t.$router.push("/offer/per/list")):a.$message.error("添加失败")})},deleteRow:function(e,t){t.splice(e,1)},toPinjieUrl:function(e){var t="";if("undefined"==e||e.length<=0)return t;for(var a=0;a<e.length;a++)(a=e.length-1)?t+=e[a]:t=t+e[a]+",";return t},toEidtor:function(e,t){this.udapteBoolean=!0;var a;a=t,this.itemRow=a[e],this.elform=this.itemRow,this.itemIndex=e,this.innerVisible=!0},toUpdateProduct:function(){for(var e=this.elform.price*this.elform.productNum*(this.ruleForm.tax/100+1),t={yuBaoJiaId:"",productName:this.elform.productName,wenlidaima:this.elform.wenlidaima,productNum:this.elform.productNum,area:this.elform.area,dongMo:this.elform.dongMo,coefficient:this.elform.coefficient,price:this.elform.price,picUrls:this.imageUrls,tax:this.ruleForm.tax,taxPrice:this.elform.price*this.elform.productNum,total:e,immutable:!1,addUserId:this.uid,addUserName:this.name},a=[],i=0;i<this.productData.length;i++)i==this.itemIndex?a.push(t):a.push(this.productData[i]);this.$nextTick(function(){this.productData=a}),this.imageUrls=[],this.resetForm("elform"),this.innerVisible=!1},toAddProduct:function(){var e=this.elform.price*this.elform.productNum*(this.ruleForm.tax/100+1),t={yuBaoJiaId:"",productName:this.elform.productName,wenlidaima:this.elform.wenlidaima,productNum:this.elform.productNum,area:this.elform.area,dongMo:this.elform.dongMo,coefficient:this.elform.coefficient,price:this.elform.price,picUrls:this.imageUrls,tax:this.ruleForm.tax,noTaxPrice:this.elform.price*this.elform.productNum,total:e,immutable:!1,addUserId:this.uid,addUserName:this.name};this.productData.push(t),this.imageUrls=[],this.resetForm("elform"),this.innerVisible=!1},resetForm:function(e){this.$refs[e].resetFields()},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return a.$message.error("请检查输入信息的格式"),!1;t.nowTab=2})},imageuploaded:function(e){if("undefined"!==e.url.length&&e.url.length>0){for(var t=e.url,a=this.imageUrls,i=0;i<t.length;i++)a.push(t[i]);this.imageUrls=a}},delMouldImage:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.todelImage(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},todelImage:function(e){var t=this;"undefined"!=e&&""!=e.length?this.getRequest("/config/delfile/delImage?url="+e).then(function(a){if(a&&200==a.status&&0==a.data.code){t.$message.success("删除成功");for(var i=t.imageUrls,l=[],r=0;r<i.length;r++)e!=i[r]&&l.push(i[r]);t.imageUrls=l}else t.$message.error("删除照片失败")}):t.$message.error("删除图片不存在")},loadAllProject:function(){var e=this;this.getRequest("/offer/per/list/project?addUserId="+this.uid).then(function(t){if(t&&200==t.status&&0==t.data.code){var a=[],i=t.data.data.projectlist;if("undefined"!=i&&i.length>0){for(var l=0;l<i.length;l++){var r={label:"",value:""};r.label=i[l].projectName,r.value=i[l].id,a.push(r)}e.restaurants3=a}}else console.log("获取列表数据失败")})},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传出现异常"})}},mounted:function(){this.$nextTick(function(){this.imageData.userId=this.uid=localStorage.getItem("cp_uid"),this.upload=s.a.upload}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name"),this.loadAllProject()},computed:{totalPrice:function(){var e;return e=this.fujianForm.noTaxTotal*(100+this.fujianForm.tax)/100,this.fujianForm.total=e,e}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("预报价单")]),e._v(" "),a("el-breadcrumb-item",[e._v("添加预报价单")])],1)],1),e._v(" "),a("el-container",[a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"30px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.nowTab,expression:"nowTab==1"}]},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"简单录入",name:"first"}},[a("div",{staticStyle:{"margin-top":"20px"}},[a("el-steps",{attrs:{active:e.nowTab}},[a("el-step",{attrs:{title:"基本信息",icon:"el-icon-edit"}}),e._v(" "),a("el-step",{attrs:{title:"报价详情",icon:"el-icon-document"}})],1)],1),e._v(" "),a("el-card",{staticStyle:{"margin-top":"30px"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"110px"}},[a("div",[a("el-form-item",{attrs:{label:"所属项目：",prop:"projectId",required:""}},[a("el-select",{attrs:{placeholder:"请选择所属项目"},model:{value:e.ruleForm.projectId,callback:function(t){e.$set(e.ruleForm,"projectId",t)},expression:"ruleForm.projectId"}},e._l(e.restaurants3,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"客户单位：",prop:"clientCompanyName"}},[a("el-input",{model:{value:e.ruleForm.clientCompanyName,callback:function(t){e.$set(e.ruleForm,"clientCompanyName",t)},expression:"ruleForm.clientCompanyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人：",prop:"contactPerson"}},[a("el-input",{model:{value:e.ruleForm.contactPerson,callback:function(t){e.$set(e.ruleForm,"contactPerson",t)},expression:"ruleForm.contactPerson"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话：",prop:"contactPhone"}},[a("el-input",{model:{value:e.ruleForm.contactPhone,callback:function(t){e.$set(e.ruleForm,"contactPhone",t)},expression:"ruleForm.contactPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车型：",prop:"carType"}},[a("el-input",{model:{value:e.ruleForm.carType,callback:function(t){e.$set(e.ruleForm,"carType",t)},expression:"ruleForm.carType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"税率：",prop:"tax"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.ruleForm.tax,callback:function(t){e.$set(e.ruleForm,"tax",t)},expression:"ruleForm.tax"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)]),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("下一步")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"附件上传",name:"second"}},[a("el-card",{staticStyle:{"margin-top":"30px"}},[a("el-form",{ref:"fujianForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.fujianForm,rules:e.rules,"label-width":"110px"}},[a("div",[a("el-form-item",{attrs:{label:"所属项目：",prop:"projectId",required:""}},[a("el-select",{attrs:{placeholder:"请选择所属项目"},model:{value:e.fujianForm.projectId,callback:function(t){e.$set(e.fujianForm,"projectId",t)},expression:"fujianForm.projectId"}},e._l(e.restaurants3,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"客户单位：",prop:"clientCompanyName"}},[a("el-input",{model:{value:e.fujianForm.clientCompanyName,callback:function(t){e.$set(e.fujianForm,"clientCompanyName",t)},expression:"fujianForm.clientCompanyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人：",prop:"contactPerson"}},[a("el-input",{model:{value:e.fujianForm.contactPerson,callback:function(t){e.$set(e.fujianForm,"contactPerson",t)},expression:"fujianForm.contactPerson"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话：",prop:"contactPhone"}},[a("el-input",{model:{value:e.fujianForm.contactPhone,callback:function(t){e.$set(e.fujianForm,"contactPhone",t)},expression:"fujianForm.contactPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车型：",prop:"carType"}},[a("el-input",{model:{value:e.fujianForm.carType,callback:function(t){e.$set(e.fujianForm,"carType",t)},expression:"fujianForm.carType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"不含税总价：",prop:"noTaxTotal",required:""}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.fujianForm.noTaxTotal,callback:function(t){e.$set(e.fujianForm,"noTaxTotal",t)},expression:"fujianForm.noTaxTotal"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"税率：",prop:"tax"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.fujianForm.tax,callback:function(t){e.$set(e.fujianForm,"tax",t)},expression:"fujianForm.tax"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"含税总价：",prop:"tax",required:""}},[a("span",[a("el-tag",{attrs:{type:"warning"}},[e._v(" "+e._s(e.totalPrice)+" 元")])],1)]),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.fujianForm.remark,callback:function(t){e.$set(e.fujianForm,"remark",t)},expression:"fujianForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传文件："}},[a("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.wen_jian_url,expression:"wen_jian_url !== ''"}]},[a("p",{staticStyle:{color:"blue"}},[e._v("上传成功")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""===e.wen_jian_url,expression:"wen_jian_url === ''"}]},[a("vue-core-image-upload",{class:["el-button","el-button--primary"],attrs:{crop:!1,inputOfFile:"imageFile",url:e.upload,extensions:"png,ppt,doc,txt","max-file-size":5242880,data:e.wenjianData,text:"上传文件",multiple:!0,"multiple-size":30,credentials:"true"},on:{imageuploaded:e.imageupwenjian,errorhandle:e.handleError}})],1)])],1)]),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.tiJiao("ruleForm")}}},[e._v("提 交")])],1)],1)],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.nowTab,expression:"nowTab==2"}]},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.table_loading,expression:"table_loading"}],staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("产品列表")]),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"right"}},[a("el-button",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.toAadd}},[e._v("添加")])],1)]),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.productData,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"productName",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"image",staticStyle:{height:"30px",width:"30px"},attrs:{src:e.row.picUrls[0]}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"wenlidaima",label:"纹理代码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productNum",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"noTaxPrice",label:"不含税总计"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total",label:"含税总计"}}),e._v(" "),a("el-table-column",{attrs:{prop:"area",label:"面积"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),e.toEidtor(t.$index,e.productData)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),e.deleteRow(t.$index,e.productData)}}},[e._v("\r\n         移除\r\n       ")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[a("div",{staticClass:"card-bottom",staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.nowTab=1}}},[e._v("上一步")])],1),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.commit}},[e._v("提 交")])],1)])])],1),e._v(" "),a("div",[a("el-dialog",{attrs:{width:"60%",title:"产品详情",visible:e.innerVisible,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{ref:"elform",staticStyle:{width:"100%"},attrs:{model:e.elform,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"产品名称：",prop:"productName"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入产品名称"},model:{value:e.elform.productName,callback:function(t){e.$set(e.elform,"productName",t)},expression:"elform.productName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"纹理代码：",prop:"wenlidaima"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入纹理代码"},model:{value:e.elform.wenlidaima,callback:function(t){e.$set(e.elform,"wenlidaima",t)},expression:"elform.wenlidaima"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品数量：",prop:"productNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:e.elform.productNum,callback:function(t){e.$set(e.elform,"productNum",t)},expression:"elform.productNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"面积：",prop:"area"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.elform.area,callback:function(t){e.$set(e.elform,"area",t)},expression:"elform.area"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"有无动模："}},[a("el-switch",{model:{value:e.elform.dongMo,callback:function(t){e.$set(e.elform,"dongMo",t)},expression:"elform.dongMo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系数：",prop:"coefficient"}},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入产品系数"},model:{value:e.elform.coefficient,callback:function(t){e.$set(e.elform,"coefficient",t)},expression:"elform.coefficient"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单价：",prop:"price"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.elform.price,callback:function(t){e.$set(e.elform,"price",t)},expression:"elform.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片："}},[a("div",[a("vue-core-image-upload",{class:["el-button","el-button--primary"],attrs:{crop:!1,inputOfFile:"imageFile",url:e.upload,extensions:"png,gif,jpeg,jpg","max-file-size":5242880,data:e.imageData,text:"上传图片",multiple:!0,"multiple-size":30,credentials:"true"},on:{imageuploaded:e.imageuploaded,errorhandle:e.handleError}})],1)])],1),e._v(" "),a("div",{staticStyle:{border:"1px dashed #d9d9d9",width:"100%","min-height":"358px"}},[a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},e._l(e.imageUrls,function(t){return a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"mould-card",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",staticStyle:{height:"320px"},attrs:{src:t}}),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.delMouldImage(t)}}},[a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}})])],1)])],1)}))],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.udapteBoolean,expression:"!udapteBoolean"}],attrs:{type:"primary"},on:{click:e.toAddProduct}},[e._v("确 定")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.udapteBoolean,expression:"udapteBoolean"}],attrs:{type:"primary"},on:{click:e.toUpdateProduct}},[e._v("更 新")]),e._v(" "),a("el-button",{on:{click:e.chanel}},[e._v("取 消")])],1)],1)],1)])],1)],1)])},staticRenderFns:[]},c=a("Z0/y")(n,o,!1,null,null,null);t.default=c.exports},xYIy:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={components:{BuChongGongYi:a("IcNb").default},data:function(){return{orderTitle:"",techCard:{},itemOrderId:"",dialogFormVisible:!1,addtechloading:!1,nowTab:1,username:"",name:"",uid:"",tableLoading:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[],form:{tieHuaBuShu:"1"},rules:{piWenDaiMa:[{required:!0,message:"请输入皮纹代码",trigger:"blur"},{min:1,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],nanDuXiShu:[{required:!0,message:"请输入难度系数",trigger:"blur"}],gongYiCanShu:[{required:!0,message:"请输入加工参数",trigger:"blur"}]}}},methods:{showChild:function(e){this.nowTab=1},toAdd:function(e){this.techCard=e,console.log(this.techCard),this.nowTab=2},handleChange:function(e){},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},submitForm:function(e){var t=this,a=this;a.addtechloading=!0,this.$refs[e].validate(function(e){if(!e)return a.$message.error("请检查输入信息的格式"),!1;a.form.orderId=a.itemOrderId,t.postRequest("/tech/stay/add/tech",a.form).then(function(e){a.addtechloading=!1,e&&200==e.status&&0==e.data.code?(t.$message.success("添加成功"),t.resetForm("form"),t.tableLoading=!0,t.dialogFormVisible=!1,t.getCollectMouldList()):t.$message.error("添加失败")})})},resetForm:function(e){this.$refs[e].resetFields()},getCollectMouldList:function(){var e=this;this.getRequest("/tech/added/listbypage?page="+this.currentPage+"&size="+this.pagesize).then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.stayorderlist,e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.orderName.indexOf(e.select_word)>-1||t.addUserName.indexOf(e.select_word)>-1)return t})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.nowTab,expression:"nowTab === 1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("工艺管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("已提交记录")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"20px"}},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.data,stripe:""}},[a("el-table-column",{attrs:{label:"订单名称",prop:"orderName"}}),e._v(" "),a("el-table-column",{attrs:{label:"紧急程度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.urgency+""=="0"?a("el-tag",{attrs:{type:"info"}},[e._v("一般")]):e._e(),e._v(" "),t.row.urgency+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("紧急")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"负责人",prop:"addUserName"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toAdd(t.row)}}},[e._v("查看详情")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.nowTab,expression:"nowTab==2"}]},[a("BuChongGongYi",{attrs:{techCards:e.techCard},on:{listenToChild:e.showChild}})],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("H6zO")},"data-v-3078bce3",null);t.default=r.exports},ykdn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{orderList:[],itemProject:{yuBaoJia:{audit:""},businessBaoJia:{audit:""}},nowTab:1,username:"",name:"",uid:"",tableLoading:!1,addloading:!1,dialogFormVisible:!1,projectfrom:{projectName:"",cilentCompanyName:"",remark:"",addUserId:"",addUserName:""},currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[],rules:{projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],cilentCompanyName:[{required:!0,message:"请输入客户单位",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}]}}},methods:{goBack:function(){this.nowTab=1},xiangQing:function(e){this.nowTab=2,this.itemProject=e,this.orderList=e.orders},toadd:function(){this.dialogFormVisible=!0,this.addloading=!1},addProject:function(e){var t=this;this.addloading=!0;var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.projectfrom.addUserId=a.uid,a.projectfrom.addUserName=a.name,t.postRequest("/project/list/add/project",a.projectfrom).then(function(e){if(e&&200==e.status&&0==e.data.code){e.data.data.id;t.dialogFormVisible=!1,t.$message.success("添加成功"),t.tableLoading=!0,t.getCollectMouldList()}else t.$message.error("添加失败")})})},resetForm:function(e){this.$refs[e].resetFields()},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this;this.getRequest("/project/list/listbypage?page="+this.currentPage+"&size="+this.pagesize).then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(console.log(t),e.tableData=t.data.data.projectlist,e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.projectName.indexOf(e.select_word)>-1||t.cilentCompanyName.indexOf(e.select_word)>-1)return t})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.nowTab,expression:"nowTab === 1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("项目管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("我的项目")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"20px"}},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"mr10",attrs:{type:"primary",icon:"plus"},on:{click:function(t){e.toadd()}}},[e._v("创建项目")]),e._v(" "),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.data,stripe:""}},[a("el-table-column",{attrs:{prop:"projectName",label:"项目名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNums",label:"订单数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.orderNums+""=="undefined"||t.row.orderNums+""==""?a("el-tag",{attrs:{type:"info"}},[e._v("0")]):e._e(),e._v(" "),t.row.orderNums+""!=""?a("el-tag",{attrs:{type:"info"}},[e._v(e._s(t.row.orderNums))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"cilentCompanyName",label:"客户单位"}}),e._v(" "),a("el-table-column",{attrs:{label:"预报价状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.yuBaoJia.audit+""=="undefined"?a("el-tag",{attrs:{type:"info"}},[e._v("无")]):e._e(),e._v(" "),t.row.yuBaoJia.audit+""=="0"?a("el-tag",[e._v("审核中")]):e._e(),e._v(" "),t.row.yuBaoJia.audit+""=="2"?a("el-tag",{attrs:{type:"danger"}},[e._v("驳回")]):e._e(),e._v(" "),t.row.yuBaoJia.audit+""=="1"?a("el-tag",{attrs:{type:"success"}},[e._v("通过")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"shangWuStatus",label:"商务报价状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.businessBaoJia.audit+""=="undefined"?a("el-tag",{attrs:{type:"info"}},[e._v("无")]):e._e(),e._v(" "),t.row.businessBaoJia.audit+""=="0"?a("el-tag",[e._v("审核中")]):e._e(),e._v(" "),t.row.businessBaoJia.audit+""=="2"?a("el-tag",{attrs:{type:"danger"}},[e._v("驳回")]):e._e(),e._v(" "),t.row.businessBaoJia.audit+""=="1"?a("el-tag",{attrs:{type:"success"}},[e._v("通过")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[a("i",{staticClass:"el-icon-time"}),e._v(e._s(t.row.createTime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.xiangQing(t.row)}}},[e._v("查看详情")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2===e.nowTab,expression:"nowTab === 2"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("项目管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("我的项目")]),e._v(" "),a("el-breadcrumb-item",[e._v("项目详情")])],1)],1),e._v(" "),a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","margin-top":"20px"}},[a("div",{staticClass:"handle-box",staticStyle:{float:"right"}},[a("el-button",{staticClass:"mr10",attrs:{type:"primary",icon:"plus"},on:{click:function(t){e.goBack()}}},[e._v("返回列表")])],1)]),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"line-height":"5px"}},[a("el-tag",{attrs:{type:"danger"}},[e._v("基础信息")])],1)]),e._v(" "),a("div",{staticClass:"text item"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-tag",{attrs:{type:"info"}},[e._v("项目名")])],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("span",{staticClass:"msg-span"},[e._v(e._s(e.itemProject.projectName))])])])],1)],1),e._v(" "),a("div",{staticClass:"text item"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-tag",{attrs:{type:"info"}},[e._v("客户单位")])],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("span",{staticClass:"msg-span"},[e._v(e._s(e.itemProject.cilentCompanyName)+" ")])])])],1)],1),e._v(" "),a("div",{staticClass:"text item"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-tag",{attrs:{type:"info"}},[e._v("预报价状态")])],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[e.itemProject.yuBaoJia.audit+""=="undefined"?a("span",{attrs:{type:"info"}},[e._v("无")]):e._e(),e._v(" "),e.itemProject.yuBaoJia.audit+""=="0"?a("span",[e._v("审核中")]):e._e(),e._v(" "),e.itemProject.yuBaoJia.audit+""=="2"?a("span",{attrs:{type:"danger"}},[e._v("驳回")]):e._e(),e._v(" "),e.itemProject.yuBaoJia.audit+""=="1"?a("span",{attrs:{type:"success"}},[e._v("通过")]):e._e()])])],1)],1),e._v(" "),a("div",{staticClass:"text item"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-tag",{attrs:{type:"info"}},[e._v("商务报价状态")])],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[e.itemProject.businessBaoJia.audit+""=="undefined"?a("span",{attrs:{type:"info"}},[e._v("无")]):e._e(),e._v(" "),e.itemProject.businessBaoJia.audit+""=="0"?a("span",[e._v("审核中")]):e._e(),e._v(" "),e.itemProject.businessBaoJia.audit+""=="2"?a("span",{attrs:{type:"danger"}},[e._v("驳回")]):e._e(),e._v(" "),e.itemProject.businessBaoJia.audit+""=="1"?a("span",{attrs:{type:"success"}},[e._v("通过")]):e._e()])])],1)],1),e._v(" "),a("div",{staticClass:"text item"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-tag",{attrs:{type:"info"}},[e._v("订单数量")])],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("span",{staticClass:"msg-span"},[e._v(e._s(e.itemProject.orderNums))])])])],1)],1),e._v(" "),a("div",{staticClass:"text item"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-tag",{attrs:{type:"info"}},[e._v("项目状态")])],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("span",{staticClass:"msg-span"},[e._v("进行中")])])])],1)],1),e._v(" "),a("div",{staticClass:"text item"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-tag",{attrs:{type:"info"}},[e._v("创建时间")])],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("span",{staticClass:"msg-span"},[e._v(e._s(e.itemProject.createTime))])])])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"3"===e.itemProject.status,expression:"itemProject.status === '3'"}],staticClass:"text item"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-tag",{attrs:{type:"info"}},[e._v("完结时间")])],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("span",{staticClass:"msg-span"},[e._v(e._s(e.itemProject.endtime))])])])],1)],1)]),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"30px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"line-height":"5px"}},[a("el-tag",{attrs:{type:"danger"}},[e._v("订单列表")])],1)]),e._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderList}},[a("el-table-column",{attrs:{prop:"orderName",label:"产品名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"客户单位",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e.itemProject.cilentCompanyName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"进度",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",[e._v("药检")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status+""==""?a("el-tag",{attrs:{type:"info"}},[e._v("加工中")]):e._e(),e._v(" "),t.row.status+""=="1"?a("el-tag",{attrs:{type:"danger"}},[e._v("完成")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){}}},[e._v("查看详情")])]}}])})],1)],1)])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"项目信息",visible:e.dialogFormVisible,width:"40%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"projectfrom",attrs:{model:e.projectfrom,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"项目名称：",prop:"projectName"}},[a("el-input",{attrs:{placeholder:"请输入项目名称"},model:{value:e.projectfrom.projectName,callback:function(t){e.$set(e.projectfrom,"projectName",t)},expression:"projectfrom.projectName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户单位：",prop:"cilentCompanyName"}},[a("el-input",{attrs:{placeholder:"请输入客户单位"},model:{value:e.projectfrom.cilentCompanyName,callback:function(t){e.$set(e.projectfrom,"cilentCompanyName",t)},expression:"projectfrom.cilentCompanyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.projectfrom.remark,callback:function(t){e.$set(e.projectfrom,"remark",t)},expression:"projectfrom.remark"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",disabled:this.addloading},on:{click:function(t){e.addProject("projectfrom")}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var r=a("Z0/y")(i,l,!1,function(e){a("nfkO")},"data-v-218cb353",null);t.default=r.exports},zBZS:function(e,t){},zRBn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,l=a("a3Yh"),r=a.n(l),s=a("3cXf"),n=a.n(s),o=a("OIbc"),c=a("+J3q"),u={data:function(){return{contr_loading:!1,base_loading:!1,exform:{addUserId:"",addUserName:"",orderId:"",qiKong:"无",queKou:"无",lieFeng:"无",hanBa:"无",dianHuoHua:"无",youShiSi:"无",heMoBian:"0",fenXingBian:"0",tongGZ:!1,zuiHouShiMoJian:"0",ckd:"0",guangJian:"0"},filterText:"",tree_loading:!1,item_order_id:"2",defaultProps:{children:"children",label:"label"},select_part:[],upload:"",data3:[],nowTab:1,username:"",name:"",uid:"",imageUrls:[],restaurants1:[],restaurants2:[],restaurants3:[],restaurants4:[],imageData:{userId:"",imgPakage:"order_pm"},ruleForm:{managerName:"",orderName:"",addUserId:"",addUserName:"",projectId:"",hasRemark:!1,picUrls:"",urgency:"0",remark:"",realityArea:"0",machiningType:""},restaurants:[],rules:{orderName:[{required:!0,message:"请输入订单名称",trigger:"blur"},{min:1,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],machiningType:[{required:!0,message:"请选择工艺类型",trigger:"blur"}],managerId:[{required:!0,message:"请选择车间负责人",trigger:"blur"}],realityArea:[{required:!0,message:"请输入加工面积",trigger:"blur"}],projectId:[{required:!0,message:"请选择所属项目",trigger:"blur"}],urgency:[{required:!0,message:"请选择订单紧急成度",trigger:"blur"}]}}},components:{VueCoreImageUpload:o.default},watch:{filterText:function(e){this.$refs.tree2.filter(e)}},methods:(i={toCommit:function(){this.contr_loading=!0,this.toAddBaseInfo()},toControl:function(){"undefined"===this.select_part||!this.select_part.length>0?this.$message.info("请选择有效的模具"):this.nowTab=3},addcontroInfo:function(){var e=this,t=this;t.exform.orderId=t.item_order_id,t.exform.addUserId=t.uid,t.exform.addUserName=t.name,this.postRequest("/order/list/add/control",t.exform).then(function(a){e.contr_loading=!1,a&&200==a.status&&0==a.data.code?(t.$message.success("订单添加成功"),t.$store.state.stomp.send("/ws/nf",{},""),e.$router.push("/order/list")):t.$message.error(data.msg)})},initSysMsgs:function(){var e=this;this.getRequest("/chat/sysmsgs").then(function(t){e.sysmsgs=t.data;var a=!1;e.sysmsgs.forEach(function(e){0==e.state&&(a=!0)}),e.$store.commit("toggleNFDot",a)})},splitUrl:function(e){var t=e.picUrls,a=[];return"undefined"!=t&&""!=t&&(a=t.split("|")),a},addSelected:function(e){var t=this.select_part;if(0===t.length)e.collectPartinfoEntity.picurl instanceof Array?t.push(e):(e.collectPartinfoEntity.picurl=this.splitUrl(e.collectPartinfoEntity),t.push(e));else{for(var a=!0,i=0;i<t.length;i++)if(t[i].id===e.id){a=!1;break}a&&(e.collectPartinfoEntity.picurl instanceof Array?t.push(e):(e.collectPartinfoEntity.picurl=this.splitUrl(e.collectPartinfoEntity),t.push(e)))}},delSelected:function(e){for(var t=this.select_part,a=[],i=0;i<t.length;i++)t[i].id!==e.id&&a.push(t[i]);this.select_part=a},toChangeCheck:function(e,t){var a=e.disabled;t&&!a?"undefined"!==e.collectPartinfoEntity&&this.addSelected(e):t||a||"undefined"!==e.collectPartinfoEntity&&this.delSelected(e)},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},toChangeSet:function(){var e=this;if("undefined"===e.select_part||!e.select_part.length>0)e.$message.info("请选择有效的模具");else{for(var t={partIds:[]},a=0;a<e.select_part.length;a++)t.partIds.push(e.select_part[a].collectPartinfoEntity.id);if("undefined"===t.partIds||!t.partIds.length>0)e.$message.info("请选择有效的模具");else{var i={data:n()(t),userId:"123",userToken:"",md5:"",source:""};c.a.updateSetOrderMould(i).then(function(t){"0"==t.code?(e.$message.success("修改成功"),e.getMouldTree(),e.select_part=[],e.is_set=!1):e.$message.error(t.msg)})}}},toSetMouldPart:function(){for(var e=this,t=this,a={orderId:t.item_order_id,uid:this.uid,mouldIds:""},i="",l=0;l<t.select_part.length;l++)l==t.select_part.length-1?i+=t.select_part[l].collectPartinfoEntity.id:i=i+t.select_part[l].collectPartinfoEntity.id+",";a.mouldIds=i,this.postRequest("/order/list/set/mould",a).then(function(a){a&&200==a.status&&0==a.data.code?e.addcontroInfo():t.$message.error("模具设置失败")})},getMouldTree:function(){var e=this,t=this;this.getRequest("/order/list/mould/tree").then(function(a){e.tree_loading=!1,a&&200==a.status&&0==a.data.code&&(t.data3=a.data.data.tree)})},resetForm:function(e){this.$refs[e].resetFields()},resetForm1:function(e){this.exform={addUserId:"",addUserName:"",orderId:"",qiKong:"无",queKou:"无",lieFeng:"无",hanBa:"无",dianHuoHua:"无",youShiSi:"无",heMoBian:"0",fenXingBian:"0",tongGZ:!1,zuiHouShiMoJian:"0",ckd:"0",guangJian:"0"}},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return a.$message.error("请检查输入信息的格式"),!1;t.nowTab=2})},toAddBaseInfo:function(){for(var e=this,t=this,a="",i=t.ruleForm.managerId,l=0;l<t.restaurants4.length;l++)i===t.restaurants4[l].value&&(t.ruleForm.managerName=t.restaurants4[l].label);var r=t.ruleForm;if(0!=t.imageUrls.length)for(var s=0;s<t.imageUrls.length;s++)s==t.imageUrls.length-1?a+=t.imageUrls[s]:a=t.imageUrls[s]+"|"+a;r.picUrls=a,r.addUserId=this.uid,r.addUserName=this.name,this.postRequest("/order/list/add/order",r).then(function(a){if(a&&200==a.status&&0==a.data.code){t.resetForm("ruleForm"),t.imageUrls=[];var i=a.data.data.id;t.item_order_id=i,i>0?e.toSetMouldPart():t.$message.error("基础信息创建失败")}else t.$message.error("基础信息创建失败")})},handleSelect:function(e){console.log(e)},querySearch:function(e,t){var a=this.restaurants;t(e?a.filter(this.createFilter(e)):a)},querySearch1:function(e,t){var a=this.restaurants1;t(e?restaurants1.filter(this.createFilter(e)):a)},querySearch2:function(e,t){var a=this.restaurants2;t(e?restaurants2.filter(this.createFilter(e)):a)},querySearch5:function(e,t){var a=this.restaurants5;t(e?restaurants5.filter(this.createFilter(e)):a)},querySearch6:function(e,t){var a=this.restaurants6;t(e?restaurants6.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},delMouldImage:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.todelImage(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},todelImage:function(e){var t=this;"undefined"!=e&&""!=e.length?this.getRequest("/config/delfile/delImage?url="+e).then(function(a){if(a&&200==a.status&&0==a.data.code){t.$message.success("删除成功");for(var i=t.imageUrls,l=[],r=0;r<i.length;r++)e!=i[r]&&l.push(i[r]);t.imageUrls=l}else t.$message.error("删除照片失败")}):t.$message.error("删除图片不存在")},imageuploaded:function(e){if("undefined"!==e.url.length&&e.url.length>0){for(var t=e.url,a=this.imageUrls,i=0;i<t.length;i++)a.push(t[i]);this.imageUrls=a}},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传出现异常"})},loadAllProject:function(){var e=this;this.getRequest("/project/list/byuid?uid="+this.uid).then(function(t){if(t&&200==t.status&&0==t.data.code){var a=[],i=t.data.data.projectlist;if("undefined"!=i&&i.length>0){for(var l=0;l<i.length;l++){var r={label:"",value:""};r.label=i[l].projectName,r.value=i[l].id,a.push(r)}e.restaurants3=a}}else console.log("获取列表数据失败")})},loadAllManger:function(){var e=this;this.getRequest("/order/list/mangers?role=ROLE_chejian").then(function(t){if(t&&200==t.status&&0==t.data.code){var a=[],i=t.data.data;if("undefined"!=i&&i.length>0){for(var l=0;l<i.length;l++){var r={label:"",value:""};r.label=i[l].name,r.value=i[l].id,a.push(r)}e.restaurants4=a}}else console.log("获取车间负责人失败")})}},r()(i,"handleError",function(){this.$notify.error({title:"上传失败",message:"图片上传出现异常"})}),r()(i,"loadAll5",function(){return[{value:"区域件"},{value:"纹理件"}]}),r()(i,"loadAll6",function(){return[{value:"按样板"},{value:"按皮纹件"},{value:"按匹配件"}]}),r()(i,"loadAll",function(){return[{value:"传统"},{value:"电火花"},{value:"喷砂"},{value:"激光"},{value:"其他"}]}),r()(i,"loadAll1",function(){return[{value:"无"},{value:"按客户划线多做"},{value:"按客户划线少做"},{value:"喷砂多做"},{value:"喷砂少做"},{value:"激光多做"},{value:"激光少做"},{value:"其他"}]}),r()(i,"loadAll2",function(){return[{value:"无"},{value:"按客户划线多做"},{value:"按客户划线少做"},{value:"喷砂多做"},{value:"喷砂少做"},{value:"激光多做"},{value:"激光少做"},{value:"其他"},{value:"全做"}]}),r()(i,"getCollectMouldList",function(){var e=this;this.getRequest("/order/list/listbypage?page="+this.currentPage+"&size="+this.pagesize+"&addUserId="+this.uid).then(function(t){e.tableLoading=!1,t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.orderlist,e.totalnum=t.data.data.count)})}),i),mounted:function(){this.$nextTick(function(){this.imageData.userId=localStorage.getItem("cp_uid"),this.upload=c.a.upload}),this.restaurants=this.loadAll(),this.restaurants1=this.loadAll1(),this.restaurants2=this.loadAll2(),this.restaurants5=this.loadAll5(),this.restaurants6=this.loadAll6(),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name"),this.restaurants=this.loadAll(),this.loadAllProject(),this.loadAllManger(),this.tree_loading=!0,this.getMouldTree()}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("订单管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("创建订单")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{"align-items":"center","margin-top":"40px"}},[a("el-steps",{attrs:{active:e.nowTab}},[a("el-step",{attrs:{title:"基本信息",icon:"el-icon-edit"}}),e._v(" "),a("el-step",{attrs:{title:"选择模具",icon:"el-icon-picture"}}),e._v(" "),a("el-step",{attrs:{title:"下控制单",icon:"el-icon-document"}})],1)],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.nowTab,expression:"nowTab === 1"},{name:"loading",rawName:"v-loading",value:e.base_loading,expression:"base_loading"}]},[a("el-card",{staticStyle:{"margin-top":"30px"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"订单名称：",prop:"orderName"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{placeholder:"请输入订单名称"},model:{value:e.ruleForm.orderName,callback:function(t){e.$set(e.ruleForm,"orderName",t)},expression:"ruleForm.orderName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属项目：",prop:"projectId"}},[a("el-select",{attrs:{placeholder:"请选择所属项目"},model:{value:e.ruleForm.projectId,callback:function(t){e.$set(e.ruleForm,"projectId",t)},expression:"ruleForm.projectId"}},e._l(e.restaurants3,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"车间负责人：",prop:"managerId"}},[a("el-select",{attrs:{placeholder:"请选择所属项目"},model:{value:e.ruleForm.managerId,callback:function(t){e.$set(e.ruleForm,"managerId",t)},expression:"ruleForm.managerId"}},e._l(e.restaurants4,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片："}},[a("div",[a("vue-core-image-upload",{class:["el-button","el-button--primary"],attrs:{crop:!1,inputOfFile:"imageFile",url:e.upload,extensions:"png,gif,jpeg,jpg","max-file-size":5242880,data:e.imageData,text:"上传图片",multiple:!0,"multiple-size":30,credentials:"true"},on:{imageuploaded:e.imageuploaded,errorhandle:e.handleError}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticStyle:{width:"100%",height:"1px"}})]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"紧急程度：",prop:"urgency"}},[a("el-select",{attrs:{placeholder:"请选择紧急程度"},model:{value:e.ruleForm.urgency,callback:function(t){e.$set(e.ruleForm,"urgency",t)},expression:"ruleForm.urgency"}},[a("el-option",{attrs:{label:"一般",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"紧急",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"加工类型：",prop:"machiningType"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入加工类型"},on:{select:e.handleSelect},model:{value:e.ruleForm.machiningType,callback:function(t){e.$set(e.ruleForm,"machiningType",t)},expression:"ruleForm.machiningType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"加工面积：",prop:"realityArea"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.ruleForm.realityArea,callback:function(t){e.$set(e.ruleForm,"realityArea",t)},expression:"ruleForm.realityArea"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否有备忘：",prop:"hasRemark"}},[a("el-switch",{attrs:{"active-text":"有","inactive-text":"无"},model:{value:e.ruleForm.hasRemark,callback:function(t){e.$set(e.ruleForm,"hasRemark",t)},expression:"ruleForm.hasRemark"}})],1)],1)],1)],1)]),e._v(" "),a("div",{staticStyle:{border:"1px dashed #d9d9d9",width:"100%","min-height":"358px"}},[a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},e._l(e.imageUrls,function(t){return a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"mould-card",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",staticStyle:{height:"420px"},attrs:{src:t}}),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.delMouldImage(t)}}},[a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}})])],1)])],1)}))],1),e._v(" "),a("div",{staticClass:"card-bottom"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("下一步")])],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2===e.nowTab,expression:"nowTab === 2"}]},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("选择模具")])]),e._v(" "),a("div",[a("el-row",{attrs:{gutter:30}},[a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.tree_loading,expression:"tree_loading"}],attrs:{span:4}},[a("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("el-tree",{ref:"tree2",staticClass:"filter-tree",staticStyle:{"border-right":"1px solid #e6e6e6","min-height":"260px"},attrs:{data:e.data3,props:e.defaultProps,"default-expand-all":"","filter-node-method":e.filterNode,"show-checkbox":"","node-key":"id"},on:{"check-change":e.toChangeCheck}})],1),e._v(" "),a("el-col",{attrs:{span:20}},[a("div",{staticStyle:{"min-height":"15px",width:"100%"}},[a("el-row",{attrs:{gutter:30}},e._l(e.select_part,function(t){return a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"mould-card",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",staticStyle:{height:"260px"},attrs:{src:t.collectPartinfoEntity.picurl[0]}}),e._v(" "),a("div",{staticStyle:{padding:"14px"}},[a("h4",[e._v(e._s(t.collectPartinfoEntity.mouldName))]),e._v(" "),a("span",[e._v("备注："+e._s(t.collectPartinfoEntity.remark))]),e._v(" "),a("div",{staticClass:"bottom clearfix"},[a("time",{staticClass:"time"},[e._v(e._s(t.collectPartinfoEntity.createTime))])])])])],1)}))],1)])],1)],1),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.nowTab=1}}},[e._v("上一步")])],1),e._v(" "),a("div",{staticClass:"card-bottom"},[a("el-button",{attrs:{type:"primary"},on:{click:e.toControl}},[e._v("下一步")])],1)])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3===e.nowTab,expression:"nowTab===3"}],staticStyle:{"margin-top":"40px"}},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.contr_loading,expression:"contr_loading"}],staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("控制单")])]),e._v(" "),a("div",[a("el-form",{ref:"exform",staticClass:"demo-ruleForm",attrs:{model:e.exform,"label-width":"180px"}},[a("div",[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"气孔："}},[a("el-select",{attrs:{placeholder:"请选择气孔"},model:{value:e.exform.qiKong,callback:function(t){e.$set(e.exform,"qiKong",t)},expression:"exform.qiKong"}},[a("el-option",{attrs:{label:"无",value:"无"}}),e._v(" "),a("el-option",{attrs:{label:"补",value:"补"}}),e._v(" "),a("el-option",{attrs:{label:"不补",value:"不补"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"缺口："}},[a("el-select",{attrs:{placeholder:"请选择缺口"},model:{value:e.exform.queKou,callback:function(t){e.$set(e.exform,"queKou",t)},expression:"exform.queKou"}},[a("el-option",{attrs:{label:"无",value:"无"}}),e._v(" "),a("el-option",{attrs:{label:"补",value:"补"}}),e._v(" "),a("el-option",{attrs:{label:"不补",value:"不补"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"裂缝："}},[a("el-select",{attrs:{placeholder:"请选裂缝"},model:{value:e.exform.lieFeng,callback:function(t){e.$set(e.exform,"lieFeng",t)},expression:"exform.lieFeng"}},[a("el-option",{attrs:{label:"无",value:"无"}}),e._v(" "),a("el-option",{attrs:{label:"补",value:"补"}}),e._v(" "),a("el-option",{attrs:{label:"不补",value:"不补"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"焊疤："}},[a("el-select",{attrs:{placeholder:"请选择处理方式"},model:{value:e.exform.hanBa,callback:function(t){e.$set(e.exform,"hanBa",t)},expression:"exform.hanBa"}},[a("el-option",{attrs:{label:"无",value:"无"}}),e._v(" "),a("el-option",{attrs:{label:"优化",value:"优化"}}),e._v(" "),a("el-option",{attrs:{label:"不处理",value:"不处理"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"电火花："}},[a("el-select",{attrs:{placeholder:"请选择处理方式"},model:{value:e.exform.dianHuoHua,callback:function(t){e.$set(e.exform,"dianHuoHua",t)},expression:"exform.dianHuoHua"}},[a("el-option",{attrs:{label:"无",value:"无"}}),e._v(" "),a("el-option",{attrs:{label:"抛光",value:"抛光"}}),e._v(" "),a("el-option",{attrs:{label:"不抛光",value:"不抛光"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"油石丝："}},[a("el-select",{attrs:{placeholder:"请选择处理方式"},model:{value:e.exform.youShiSi,callback:function(t){e.$set(e.exform,"youShiSi",t)},expression:"exform.youShiSi"}},[a("el-option",{attrs:{label:"无",value:"无"}}),e._v(" "),a("el-option",{attrs:{label:"抛光",value:"抛光"}}),e._v(" "),a("el-option",{attrs:{label:"不抛光",value:"不抛光"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.exform.remark,callback:function(t){e.$set(e.exform,"remark",t)},expression:"exform.remark"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"区域："}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch5,placeholder:"请输入"},on:{select:e.handleSelect},model:{value:e.exform.quYu,callback:function(t){e.$set(e.exform,"quYu",t)},expression:"exform.quYu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"深度："}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch6,placeholder:"请输入"},on:{select:e.handleSelect},model:{value:e.exform.shenDu,callback:function(t){e.$set(e.exform,"shenDu",t)},expression:"exform.shenDu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"同光泽处理区域："}},[a("el-switch",{attrs:{"active-text":"有","inactive-text":"无"},model:{value:e.exform.tongGZ,callback:function(t){e.$set(e.exform,"tongGZ",t)},expression:"exform.tongGZ"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最后试模件："}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.exform.zuiHouShiMoJian,callback:function(t){e.$set(e.exform,"zuiHouShiMoJian",t)},expression:"exform.zuiHouShiMoJian"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"CKD件："}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.exform.ckd,callback:function(t){e.$set(e.exform,"ckd",t)},expression:"exform.ckd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"光件（非最后试模件）："}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.exform.guangJian,callback:function(t){e.$set(e.exform,"guangJian",t)},expression:"exform.guangJian"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"分型线光边："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.exform.fenXingBian,callback:function(t){e.$set(e.exform,"fenXingBian",t)},expression:"exform.fenXingBian"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"合模线光边："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.exform.heMoBian,callback:function(t){e.$set(e.exform,"heMoBian",t)},expression:"exform.heMoBian"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"碰穿边："}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch1,placeholder:"请输入"},on:{select:e.handleSelect},model:{value:e.exform.pengChuanBian,callback:function(t){e.$set(e.exform,"pengChuanBian",t)},expression:"exform.pengChuanBian"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"碰穿孔："}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch2,placeholder:"请输入"},on:{select:e.handleSelect},model:{value:e.exform.pengChuanKong,callback:function(t){e.$set(e.exform,"pengChuanKong",t)},expression:"exform.pengChuanKong"}})],1)],1)],1)],1)])],1),e._v(" "),a("div",{staticClass:"card-bottom",staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.nowTab=2}}},[e._v("上一步")])],1),e._v(" "),a("div",{staticClass:"card-bottom"},[a("el-button",{attrs:{type:"primary"},on:{click:e.toCommit}},[e._v("提 交")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm1("exform")}}},[e._v("重 置")])],1)])],1)])],1)],1)])},staticRenderFns:[]};var m=a("Z0/y")(u,d,!1,function(e){a("7y56")},"data-v-0189574a",null);t.default=m.exports},zdJg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),l=a.n(i),r={data:function(){var e;return e={username:"",name:"",uid:"",dialogFormVisible:!1,select_word:"",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},currentPage:1,totalnum:0,pagesize:10},l()(e,"select_word",""),l()(e,"tableData",[{ordername:"订单1",chanpinname:"测试1",dqbz:"工序A",jidu:"10%",changename:"张三",jinji:"一般",date:"2016-05-02"},{ordername:"订单1",chanpinname:"测试1",dqbz:"工序A",jidu:"10%",changename:"张三",jinji:"一般",date:"2016-05-02"},{ordername:"订单1",chanpinname:"测试1",dqbz:"工序A",jidu:"10%",changename:"张三",jinji:"一般",date:"2016-05-02"},{ordername:"订单1",chanpinname:"测试1",dqbz:"工序A",jidu:"10%",changename:"张三",jinji:"一般",date:"2016-05-02"}]),e},methods:{handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this;this.getRequest("/quality/process/listbypage?page="+this.currentPage+"&size="+this.pagesize+"&userId="+this.uid+"&status=0").then(function(t){e.tableLoading=!1,t&&200==t.status&&t.data.code})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name"),this.getCollectMouldList()},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.wuLiaoName.indexOf(e.select_word)>-1||t.orderName.indexOf(e.select_word)>-1)return t})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("质量管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("完结的订单")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"30px"}},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px","margin-top":"20px"}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"chanpinname",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{label:"下单日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.date))]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("(工期7天)")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"完工预期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.date))]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("(剩余6天)")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"dqbz",label:"当前步骤"}}),e._v(" "),a("el-table-column",{attrs:{label:"订单进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(t.row.presentSchedule)+"%")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"jinji",label:"紧急程度"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.toXiangqing}},[e._v("查看详情")])]}}])})],1)],1)])],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"步骤审核",visible:e.dialogFormVisible,width:"40%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"当前步骤："}},[a("el-input")],1),e._v(" "),a("el-form-item",{attrs:{label:"加工负责人："}},[a("el-input")],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间："}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.date1,callback:function(t){e.$set(e.form,"date1",t)},expression:"form.date1"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-time-picker",{staticStyle:{width:"100%"},attrs:{type:"fixed-time",placeholder:"选择时间"},model:{value:e.form.date2,callback:function(t){e.$set(e.form,"date2",t)},expression:"form.date2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传照片："}},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"/api/posts/",multiple:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])])])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("通 过")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.open2}},[e._v("驳 回")])],1)])],1)},staticRenderFns:[]};var n=a("Z0/y")(r,s,!1,function(e){a("zBZS")},"data-v-8fcbb8b4",null);t.default=n.exports}});
//# sourceMappingURL=0.2fd80d743d2b4ddf4683.js.map