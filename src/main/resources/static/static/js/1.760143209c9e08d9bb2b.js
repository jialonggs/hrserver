webpackJsonp([1],{"0mtm":function(e,t){},"4H5E":function(e,t){},"5RpZ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("RiTG"),o=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var n=a("FP4z");var s=function(e){a("4H5E")},l=a("Z0/y")(o.a,n.a,!1,s,"data-v-d8d80ba4",null);t.default=l.exports},Ciec:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Z0/y")(null,null,!1,null,null,null);t.default=i.exports},EfFM:function(e,t,a){var i;i=function(){return function(e){function t(i){if(a[i])return a[i].exports;var o=a[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=22)}({22:function(e,t,a){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0===XMLHttpRequest.prototype.sendAsBinary&&(XMLHttpRequest.prototype.sendAsBinary=function(e){var t=Array.prototype.map.call(e,function(e){return 255&e.charCodeAt(0)});this.send(new Uint8Array(t).buffer)}),e.exports=function(e,t,a,o,r,n,s){var l=new XMLHttpRequest,u=n||function(){console.error("AJAX ERROR!")},c="vuecodeimageupload",d=!1;"blob"===e&&(d=e,e="GET"),console.log(o),e=e.toUpperCase(),l.onload=function(){var t=l.response;try{t=JSON.parse(l.responseText)}catch(e){401===l.status&&(t=u("access_denied",l.statusText))}var a=function(e){for(var t={},a=/([a-z\-]+):\s?(.*);?/gi,i=void 0;i=a.exec(e);)t[i[1]]=i[2];return t}(l.getAllResponseHeaders());a.statusCode=l.status,r(t||("GET"===e?u("empty_response","Could not get resource"):{}),a)},l.onerror=function(){var e=l.responseText;try{e=JSON.parse(l.responseText)}catch(e){console.error(e)}r(e||u("access_denied","Could not get resource"))};var m=void 0;if("GET"===e||"DELETE"===e)o=null;else if(s){var p=o,h=o.base64Code.replace("data:"+o.type+";base64,","");o=["--"+c,'Content-Disposition: form-data; name="'+o.filed+'"; filename="'+o.filename+'"',"Content-Type: "+o.type,"",window.atob(h),""].join("\r\n");var f=Object.keys(p);if(f.length>4){var g=!0,v=!1,b=void 0;try{for(var A,y=f[Symbol.iterator]();!(g=(A=y.next()).done);g=!0){var C=A.value;-1==["filed","filename","type","base64Code"].indexOf(C)&&(o+=["--"+c,'Content-Disposition: form-data; name="'+C+'";',"",""].join("\r\n"),o+=["object"===i(p[C])?JSON.stringify(p[C]):p[C],""].join("\r\n"))}}catch(n){v=!0,b=n}finally{try{!g&&y.return&&y.return()}finally{if(v)throw b}}}o+="--"+c+"--"}if(l.open(e,t,!0),d&&("responseType"in l?l.responseType=d:l.overrideMimeType("text/plain; charset=x-user-defined")),a){for(m in a)l.setRequestHeader(m,a[m]);s&&l.setRequestHeader("Content-Type","multipart/form-data; boundary="+c)}return s?l.sendAsBinary(o):(l.withCredentials=!0,l.send(o),l)}}})},e.exports=i()},F6Rv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("P6Ff");var i={components:{VueCoreImageUpload:a("OIbc").default},data:function(){return{pkGuid:"",shouMoId:"",mouldPartLoading:!1,updateId:"",partsInfos:[],nowTab:1,mojuCard:!1,moJuDisable:!1,form:{mouldNum:1,addUserId:"",addUserName:"",shouMoId:"",picUrls:""},upload:"http://39.107.78.95:8082/config/upload/image",imageData:{userId:"123",imgPakage:"sfm_shou"},imageUrls:[],tableLoading:!1,changeDisable:!0,toAddDisable:!1,currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[],username:"",uid:"",batch:"",upadteDisabled:!1,tiem_disablse:!1,part_disable:!1,chomgzi_dis:!1,update_disablse:!1,base_disablse:!1,doc_collect_id:"",dialogFormVisible:!1,itemForm:{},ruleForm:{createTime:"",addUserName:"",addUserId:"",woodenCaseNum:"0",palletNum:"0",diaoHuanNum:"0",clientCompanyName:"",freightType:"",carNum:"",jianBao:!1,driverPhone:""},rules:{clientCompanyName:[{min:1,max:64,message:"长度在 1 到 64 个字符",trigger:"blur"}],freightType:[{required:!0,message:"请至少选择一种运输方式",trigger:"blur"}],carNum:[{min:8,max:24,message:"长度在 8 到 24 个字符",trigger:"blur"}],driverPhone:[{min:11,max:11,message:"请检查手机号码格式",trigger:"blur"}],remark:[{min:0,max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],mouldName:[{required:!0,message:"请输入模具名称",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}]}}},methods:{delMouldRecord:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.toDelPartInfo(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},toDelPartInfo:function(e){var t=this,a=this;"undefined"!=e&&""!=e?this.getRequest("/shou/mo/del/mould?mouldId="+e).then(function(e){e&&200==e.status&&0==e.data.code?(t.toGetColletPartInfo(),a.$message.success("删除成功")):a.$message.error("删除失败")}):a.$message.error("删除出错")},toGetColletPartInfo:function(){var e=this;this.mouldPartLoading=!0;var t=this;if("undefined"==t.pkGuid||""==t.pkGuid)return this.mouldPartLoading=!1,void t.$message.error("获取模具列表失败");this.getRequest("/shou/mo/list/mouldinfo?shouMoId="+t.pkGuid).then(function(a){(e.mouldPartLoading=!1,a&&200==a.status&&0==a.data.code)?(e.partsInfos=[],a.data.data.forEach(function(e,a,i){var o=e.picUrls,r=[];"undefined"!=o&&""!=o&&(r=o.split("|"),e.picUrls=r),t.partsInfos.push(e)})):console.log("获取失败")})},to_update_partinfo:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return console.log("提交数据格式有误"),!1;var i=a.form;if(0!=a.imageUrls.length){for(var o="",r=0;r<a.imageUrls.length;r++)r==a.imageUrls.length-1?o+=a.imageUrls[r]:o=a.imageUrls[r]+"|"+o;i.picUrls=o,i.shouMoId=t.shouMoId,i.id=t.updateId,t.postRequest("/shou/mo/update/mouldinfo",i).then(function(e){e&&200==e.status&&0==e.data.code?(a.$message.success("更新成功"),a.resetForm("form"),a.imageUrls=[],t.nowTab=3,t.toGetColletPartInfo()):a.$message.error("更新失败")})}else a.$message.error("请上传必要图片")})},mouldInfos:function(e){this.nowTab=4,this.form=e,this.imageUrls=e.picUrls,this.part_disable=!0,this.shouMoId=e.shouMoId,this.updateId=e.id},toMojuLieBiao:function(){this.nowTab=3},toLieBiao:function(){this.nowTab=1},mojuInfo:function(e){this.nowTab=3,this.pkGuid=e.id;var t=[];if("undefined"!=(t=e.mouldInfos)&&t.length>0){var a=[];t.forEach(function(e,t,i){var o=e.picUrls,r=[];"undefined"!=o&&""!=o&&(r=o.split("|"),e.picUrls=r),a.push(e)}),this.partsInfos=a}},addMouldInfos:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return console.log("提交数据格式有误"),!1;var i=a.form;if(0!=a.imageUrls.length){for(var o="",r=0;r<a.imageUrls.length;r++)r==a.imageUrls.length-1?o+=a.imageUrls[r]:o=a.imageUrls[r]+"|"+o;i.picUrls=o,i.addUserId=t.uid,i.addUserName=t.name,i.shouMoId=a.pkGuid,t.postRequest("/shou/mo/create/mouldinfo",i).then(function(e){e&&200==e.status&&0==e.data.code?(a.$message.success("添加成功"),a.resetForm("form"),a.imageUrls=[],a.nowTab=1,a.getCollectMouldList()):a.$message.error("添加失败")})}else a.$message.error("请上传必要图片")})},imageuploaded:function(e){if("undefined"!==e.url.length&&e.url.length>0){for(var t=e.url,a=this.imageUrls,i=0;i<t.length;i++)a.push(t[i]);this.imageUrls=a}},handleError:function(){this.$notify.error({title:"上传失败",message:"图片上传出现异常"})},todelImage:function(e){var t=this;"undefined"!=e&&""!=e.length?(console.log(e),this.getRequest("/config/delfile/delImage?url="+e).then(function(a){if(a&&200==a.status&&0==a.data.code){t.$message.success("删除成功");for(var i=t.imageUrls,o=[],r=0;r<i.length;r++)e!=i[r]&&o.push(i[r]);t.imageUrls=o}else t.$message.error("删除照片失败")})):t.$message.error("删除图片不存在")},delMouldImage:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.todelImage(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},goBack:function(){this.nowTab=1,this.toAddDisable=!1,this.update_disablse=!1,this.tiem_disablse=!1},toAddMouldRecord:function(){this.nowTab=2,this.toAddDisable=!this.toAddDisable,this.tiem_disablse=!1,this.ruleForm={createTime:"",addUserName:"",addUserId:"",woodenCaseNum:"0",palletNum:"0",diaoHuanNum:"0",clientCompanyName:"",freightType:"",carNum:"",jianBao:!1,driverPhone:""},this.batch=""},chaKan:function(e){this.nowTab=2,this.tiem_disablse=!0,this.update_disablse=!0,this.ruleForm=e,this.batch=e.batch},updateCollectionInfo:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;"undefined"!=a.ruleForm.id&&a.ruleForm.id+""!=""?t.putRequest("/shou/mo/update/baseinfo",a.ruleForm).then(function(e){e&&200==e.status&&0==e.data.code?(a.$message.success("修改成功"),a.goBack(),a.getCollectMouldList()):a.$message.error("修改失败")}):a.$message.error("修改失败")})},resetForm:function(e){this.$refs[e].resetFields(),"ruleForm"==e&&(this.ruleForm.createTime="",this.batch="")},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return a.$message.error("请检查填写格式"),!1;a.ruleForm.addUserId=t.uid,a.ruleForm.addUserName=t.name,a.ruleForm.batch=t.batch,t.postRequest("/shou/mo/add/baseinfo",a.ruleForm).then(function(e){if(e&&200==e.status&&0==e.data.code){var i=e.data.data.id;-1==i?_this.$message.error("添加失败"):(a.doc_collect_id=i,a.nowTab=1,t.resetForm("ruleForm"),t.tableLoading=!0,a.getCollectMouldList(),a.$message.success("添加成功"))}})})},toChange:function(){this.toInitBatch()},toInitBatch:function(){var e=this,t=e.ruleForm.createTime;""!=t&&"undefined"!=t?this.getRequest("/shou/mo/max/batch?dateTime="+t).then(function(t){if(t&&200==t.status&&0==t.data.code){var a=t.data.data+1;e.$nextTick(function(){this.batch="第"+a+"批次"})}else e.ruleForm.batch=""}):e.$message.error("请先设置收模时间")},toChangeDisable:function(){this.nowTab=4},toUpdate:function(){this.update_disablse=!0},handleChange:function(e){},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this,t=this;this.getRequest("/shou/mo/listbypage?page="+this.currentPage+"&size="+this.pagesize).then(function(a){e.tableLoading=!1,a&&200==a.status&&0==a.data.code&&(t.tableData=a.data.data.shoumolist,t.totalnum=a.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{data:function(){var e=this;return e.tableData.filter(function(t){if(t.clientCompanyName.indexOf(e.select_word)>-1||t.addUserName.indexOf(e.select_word)>-1)return t})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.nowTab,expression:"nowTab === 1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("收模管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("收模列表")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"20px"}},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"mr10",attrs:{type:"primary",icon:"plus"},on:{click:e.toAddMouldRecord}},[e._v("增添收模记录")]),e._v(" "),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.data,stripe:""}},[a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"batch",align:"center",label:"批次"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clientCompanyName",align:"center",label:"客户单位"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"模具总数"},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.mouldInfos+""!="null"&&t.row.mouldInfos+""!="undefined"?[e._v(e._s(t.row.mouldInfos.length))]:void 0}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"addUserName",align:"center",label:"添加人"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.chaKan(t.row)}}},[e._v("基础详情")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){e.mojuInfo(t.row)}}},[e._v("模具信息")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.nowTab,expression:"nowTab==3"}]},[a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("收模管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("模具信息")])],1)],1),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("模具信息")])]),e._v(" "),a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{on:{click:e.toChangeDisable}},[a("el-card",{staticClass:"mould-card",staticStyle:{"min-height":"460px"}},[a("div",{staticStyle:{padding:"14px"}},[a("img",{staticClass:"image"}),e._v(" "),a("i",{staticClass:"el-icon-plus"},[e._v("添加模具记录")])])])],1)]),e._v(" "),e._l(e.partsInfos,function(t){return a("el-col",{attrs:{span:6}},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.mouldPartLoading,expression:"mouldPartLoading"}],staticClass:"mould-card",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:t.picUrls[0]}}),e._v(" "),a("div",{staticStyle:{padding:"14px"}},[a("h4",[e._v(e._s(t.mouldName))]),e._v(" "),a("span",[e._v("备注："+e._s(t.remark))]),e._v(" "),a("div",{staticClass:"bottom clearfix"},[a("time",{staticClass:"time"}),e._v(" "),a("el-dropdown",{staticStyle:{float:"right",color:"#409EFF"}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-edit"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.mouldInfos(t)}}},[e._v("详情")])],1),e._v(" "),a("el-dropdown-item",[a("el-button",{attrs:{type:"text",disabled:e.upadteDisabled},on:{click:function(a){e.delMouldRecord(t.id)}}},[e._v("删除")])],1)],1)],1)],1)])])],1)})],2)],1),e._v(" "),a("div",{staticClass:"card-bottom"},[a("el-button",{staticStyle:{float:"left !important"},attrs:{type:"primary"},on:{click:e.toLieBiao}},[e._v("返回")])],1)])],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:4==e.nowTab,expression:"nowTab == 4"}]},[a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("收模管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("增添收模")]),e._v(" "),a("el-breadcrumb-item",[e._v("模具详情")])],1)],1),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基础信息")])]),e._v(" "),a("div",{staticClass:"form-box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",rules:e.rules}},[a("el-form-item",{attrs:{label:"模具名称：",prop:"mouldName"}},[a("el-input",{staticStyle:{width:"28%"},attrs:{placeholder:"请输入模具名称"},model:{value:e.form.mouldName,callback:function(t){e.$set(e.form,"mouldName",t)},expression:"form.mouldName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模具数量：",prop:"mouldNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},on:{change:e.handleChange},model:{value:e.form.mouldNum,callback:function(t){e.$set(e.form,"mouldNum",t)},expression:"form.mouldNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{staticStyle:{width:"28%"},attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片："}},[a("div",[a("vue-core-image-upload",{class:["el-button","el-button--primary"],attrs:{crop:!1,inputOfFile:"imageFile",url:e.upload,extensions:"png,gif,jpeg,jpg","max-file-size":5242880,data:e.imageData,text:"上传图片",multiple:!0,"multiple-size":30,credentials:"true"},on:{imageuploaded:e.imageuploaded,errorhandle:e.handleError}})],1)])],1)],1),e._v(" "),a("div",{staticStyle:{border:"1px dashed #d9d9d9",width:"100%","min-height":"358px"}},[a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},e._l(e.imageUrls,function(t){return a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"mould-card",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",staticStyle:{height:"420px"},attrs:{src:t}}),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.delMouldImage(t)}}},[a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}})])],1)])],1)}))],1),e._v(" "),a("div",{staticClass:"card-bottom"},[a("el-button",{staticStyle:{float:"left !important"},attrs:{type:"primary"},on:{click:e.toMojuLieBiao}},[e._v("返回")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!1===e.part_disable,expression:"part_disable === false"}],attrs:{type:"primary"},on:{click:function(t){e.addMouldInfos("form")}}},[e._v("提交")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!0===e.part_disable,expression:"part_disable === true"}],attrs:{type:"primary"},on:{click:function(t){e.to_update_partinfo("form")}}},[e._v("更新")])],1)])],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.nowTab,expression:"nowTab==2"}],staticStyle:{width:"100%",float:"right"}},[a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("收模管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("收模详情")])],1)],1),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("收模基础信息")])]),e._v(" "),a("div",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"批次：",prop:"batch"}},[a("el-input",{staticStyle:{width:"28%"},attrs:{placeholder:"设置时间后会自动判断批次",disabled:!0},model:{value:e.batch,callback:function(t){e.batch=t},expression:"batch"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收模时间：",prop:"createTime",required:""}},[a("el-date-picker",{staticStyle:{width:"28%"},attrs:{disabled:e.tiem_disablse,format:"yyyy 年 MM 月 dd 日 HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},on:{change:e.toChange},model:{value:e.ruleForm.createTime,callback:function(t){e.$set(e.ruleForm,"createTime",t)},expression:"ruleForm.createTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户单位：",prop:"clientCompanyName"}},[a("el-input",{staticStyle:{width:"28%"},attrs:{placeholder:"请输入客户单位名称",disabled:e.base_disablse},model:{value:e.ruleForm.clientCompanyName,callback:function(t){e.$set(e.ruleForm,"clientCompanyName",t)},expression:"ruleForm.clientCompanyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"运输方式：",prop:"freightType"}},[a("el-radio-group",{attrs:{disabled:e.base_disablse},model:{value:e.ruleForm.freightType,callback:function(t){e.$set(e.ruleForm,"freightType",t)},expression:"ruleForm.freightType"}},[a("el-radio",{attrs:{label:"快递"}}),e._v(" "),a("el-radio",{attrs:{label:"货运"}}),e._v(" "),a("el-radio",{attrs:{label:"专车"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"车牌号：",prop:"carNum"}},[a("el-input",{staticStyle:{width:"28%"},attrs:{placeholder:"请输入车牌号",disabled:e.base_disablse},model:{value:e.ruleForm.carNum,callback:function(t){e.$set(e.ruleForm,"carNum",t)},expression:"ruleForm.carNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"驾驶员手机号：",prop:"driverPhone"}},[a("el-input",{staticStyle:{width:"28%"},attrs:{placeholder:"请输入手机号",disabled:e.base_disablse},model:{value:e.ruleForm.driverPhone,callback:function(t){e.$set(e.ruleForm,"driverPhone",t)},expression:"ruleForm.driverPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"包装方式："}},[a("div",{staticStyle:{border:"1px dashed #d9d9d9",width:"40%","min-height":"128px"}},[a("el-form-item",{attrs:{label:"简包：",prop:"jianBao"}},[a("el-switch",{attrs:{disabled:e.base_disablse,"active-text":"是","inactive-text":"否"},model:{value:e.ruleForm.jianBao,callback:function(t){e.$set(e.ruleForm,"jianBao",t)},expression:"ruleForm.jianBao"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"木箱：",prop:"woodenCaseNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,disabled:e.base_disablse},on:{change:e.handleChange},model:{value:e.ruleForm.woodenCaseNum,callback:function(t){e.$set(e.ruleForm,"woodenCaseNum",t)},expression:"ruleForm.woodenCaseNum"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"托盘：",prop:"palletNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,disabled:e.base_disablse},on:{change:e.handleChange},model:{value:e.ruleForm.palletNum,callback:function(t){e.$set(e.ruleForm,"palletNum",t)},expression:"ruleForm.palletNum"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"吊环：",prop:"diaoHuanNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,disabled:e.base_disablse},on:{change:e.handleChange},model:{value:e.ruleForm.diaoHuanNum,callback:function(t){e.$set(e.ruleForm,"diaoHuanNum",t)},expression:"ruleForm.diaoHuanNum"}})],1)],1)])],1)],1),e._v(" "),a("div",[a("div",{staticClass:"card-bottom"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返 回 ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!0===e.toAddDisable,expression:"toAddDisable === true"}],staticStyle:{float:"right"},on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重 置")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!0===e.toAddDisable,expression:"toAddDisable === true"}],staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保 存")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!0===e.update_disablse,expression:"update_disablse === true "}],staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.updateCollectionInfo("ruleForm")}}},[e._v("提 交")])],1)])])],1)])])},staticRenderFns:[]};var r=a("Z0/y")(i,o,!1,function(e){a("o76f")},"data-v-2a8ab942",null);t.default=r.exports},FP4z:function(e,t,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"g-resize-bar"},[a("div",{staticClass:"g-resize-highlight",style:{width:e.left+"%"}}),e._v(" "),a("button",{staticClass:"circle-btn",style:{left:e.left+"%"},on:{touchstart:function(t){if(t.target!==t.currentTarget)return null;e.drag(t)},mousedown:function(t){if(t.target!==t.currentTarget)return null;e.drag(t)}}})])},staticRenderFns:[]};t.a=i},HKrc:function(e,t,a){var i;i=function(){return function(e){function t(i){if(a[i])return a[i].exports;var o=a[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=20)}({20:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_getImageType:function(e){var t="image/jpeg",a=e.match(/(image\/[\w]+)\.*/)[0];return void 0!==a&&(t=a),t},compress:function(e,t,a){var i=new FileReader,o=this;i.onload=function(i){var r=new Image;r.src=i.target.result,r.onload=function(){var i=o._getImageType(e.type),n=o._getCanvas(r.naturalWidth,r.naturalHeight),s=(n.getContext("2d").drawImage(r,0,0),n.toDataURL(i,t/100));a(s)}},i.readAsDataURL(e)},crop:function(e,t,a){var i=function(e){return"number"==typeof e};if(i(t.toCropImgX)&&i(t.toCropImgY)&&t.toCropImgW>0&&t.toCropImgH>0){var o=t.toCropImgW,r=t.toCropImgH;t.maxWidth&&t.maxWidth<o&&(o=t.maxWidth,r=t.toCropImgH*o/t.toCropImgW),t.maxHeight&&t.maxHeight<r&&(r=t.maxHeight);var n=this._getCanvas(o,r),s=(n.getContext("2d").drawImage(e,t.toCropImgX,t.toCropImgY,t.toCropImgW,t.toCropImgH,0,0,o,r),this._getImageType(e.src));a(n.toDataURL(s,t.compress/100))}},resize:function(e,t,a){var i=function(e){return"number"==typeof e};if(i(t.toCropImgX)&&i(t.toCropImgY)&&t.toCropImgW>0&&t.toCropImgH>0){var o=t.toCropImgW*t.imgChangeRatio,r=t.toCropImgH*t.imgChangeRatio,n=this._getCanvas(o,r),s=(n.getContext("2d").drawImage(e,0,0,t.toCropImgW,t.toCropImgH,0,0,o,r),this._getImageType(e.src));a(n.toDataURL(s,t.compress/100))}},_loadImage:function(e,t){var a=new Image;a.src=e,a.onload=function(){t(a)},a.onerror=function(){console.log("Error: image error!")}},_getCanvas:function(e,t){var a=document.createElement("canvas");return a.width=e,a.height=t,a}}}})},e.exports=i()},MEC9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=c(a("EfFM")),r=c(a("MMIV")),n=c(a("HKrc")),s=c(a("h82l")),l=c(a("jIYh")),u=c(a("5RpZ"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Crop:l.default,ResizeBar:u.default},props:s.default,data:function(){return{files:[],hasImage:!1,options:this.props,uploading:!1,formID:(1e4*Math.random()+"").split(".")[0],image:{src:r.default,width:24,height:24,minProgress:.05}}},computed:{name:function(){return this.multiple?this.inputOfFile+"[]":this.inputOfFile}},methods:{__dispatch:function(e,t){this.$emit&&this.$emit(e,t)},__find:function(e){return document.querySelector("#vciu-modal-"+this.formID).querySelector(e)},change:function(e){var t,a=this,i=document.querySelector("#g-core-upload-input-"+this.formID).value.replace(/C:\\fakepath\\/i,""),o=i.substring(i.lastIndexOf(".")+1),r=this.extensions.split(",");if(r.length>1&&!new RegExp("^["+r.join("|")+"]+$","i").test(o))return this.__dispatch("errorhandle","TYPE ERROR");if(e.target.files[0].size>this.maxFileSize)return t=parseInt(this.maxFileSize/1024/1024)>0?(this.maxFileSize/1024/1024).toFixed(2)+"MB":parseInt(this.maxFileSize/1024)>0?(this.maxFileSize/1024).toFixed(2)+"kB":options.maxFileSize.toFixed(2)+"Byte",console.warn("FILE IS TOO LARGER MAX FILE IS "+t),this.__dispatch("errorhandle","FILE IS TOO LARGER MAX FILE IS "+t);this.files=e.target.files,this.crop||this.resize?this.__showImage():(this.__dispatch("imagechanged",this.files[0]),this.compress?n.default.compress(this.files[0],100-this.compress,function(e){a.tryAjaxUpload("",!0,e)}):this.tryAjaxUpload())},__showImage:function(){this.hasImage=!0,this.__readFiles()},__readFiles:function(){var e=new FileReader,t=this;e.onload=function(e){var a=e.target.result;t.__initImage(a)},e.readAsDataURL(this.files[0])},__initImage:function(e){var t=new Image,a=this;t.src=e;var i=this.$refs.cropBox,o=this.$refs.resizeBar;t.onload=function(){a.image.minProgress=a.minWidth/t.naturalWidth,a.imgChangeRatio=i.setImage(e,t.naturalWidth,t.naturalHeight),o&&o.setRatio(a.imgChangeRatio)}},resizeImage:function(e){this.$refs.cropBox.resizeImage(e)},doCrop:function(e){this.__setData("crop");var t=this.$refs.cropBox,a=this.__setUpload(e.target);if("local"===this.crop){var i=t.getCropImage();return this.data.comprose=100-this.compress,n.default.crop(i,this.data,function(e){a(e)})}a()},doResize:function(e){this.__setData("reszie");var t=this.$refs.cropBox,a=this.__setUpload(e.target);if("local"===this.resize){var i=t.getCropImage();return this.data.comprose=100-this.compress,n.default.resize(i,this.data,function(e){a(e)})}a()},__setData:function(e){"object"!==i(this.data)&&(this.data={}),this.data.request=e;var t=this.$refs.cropBox.getCropData(),a=!0,o=!1,r=void 0;try{for(var n,s=Object.keys(t)[Symbol.iterator]();!(a=(n=s.next()).done);a=!0){var l=n.value;this.data[l]=t[l]}}catch(e){o=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw r}}this.maxWidth&&(this.data.maxWidth=this.maxWidth),this.maxHeight&&(this.data.maxHeight=this.maxHeight),this.minWidth&&(this.data.minWidth=this.minWidth)},__setUpload:function(e){var t=this;e.value=e.value+"...",e.disabled=!0;return function(a){t.tryAjaxUpload(function(){e.value=e.value.replace("...",""),e.disabled=!1},!!a,a)}},cancel:function(){this.hasImage=!1,this.files="",document.querySelector("#g-core-upload-input-"+this.formID).value=""},tryAjaxUpload:function(e,t,a){var r=this;this.__dispatch("imageuploading",this.files[0]);if(!this.isXhr)return this.crop&&(this.hasImage=!1),"function"==typeof e&&e();var n=void 0;if(t)n={type:this.files[0].type,filename:this.files[0].name,filed:this.inputOfFile,base64Code:a},"object"===i(this.data)&&(n=Object.assign(this.data,n));else{n=new FormData;for(var s=0;s<this.files.length;s++)n.append(this.name,this.files[s]);if("object"===i(this.data))for(var l in this.data)void 0!==this.data[l]&&n.append(l,this.data[l])}(0,o.default)("POST",this.url,this.headers,n,function(t){"function"==typeof e&&e(),r.uploading=!1,r.cancel(),r.__dispatch("imageuploaded",t)},function(e){r.__dispatch("errorhandle",e)},t)}}}},MMIV:function(e,t,a){var i;i=function(){return function(e){function t(i){if(a[i])return a[i].exports;var o=a[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}({13:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data:image/gif;base64,R0lGODlhGAAYAPQAAP///3FxcePj4/v7++3t7dLS0vHx8b+/v+Dg4MfHx+jo6M7Oztvb2/f397Kysru7u9fX16qqqgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA=="}})},e.exports=i()},OIbc:function(e,t,a){"use strict";var i=a("MEC9"),o=a.n(i),r=a("XCl7");var n=function(e){a("Usw/")},s=a("Z0/y")(o.a,r.a,!1,n,null,null);t.default=s.exports},RiTG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(a("SnrY")),o=r(a("vd+i"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={props:{minProgress:{type:[Number,String],default:0}},data:function(){return{progress:100,left:100}},methods:{setRatio:function(e){this.progress=100,this.left=100},drag:function(e){e.preventDefault();var t=e.target;this.el=t;var a=this.$el.parentElement,r=this,n=i.default.isMobile,s=document.querySelector(".g-resize-bar").offsetWidth,l={x:(n?e.touches[0].clientX:e.clientX)-t.offsetLeft-t.parentElement.offsetLeft,y:(n?e.touches[0].clientY:e.clientY)-t.offsetTop-t.parentElement.offsetTop,posX:n?e.touches[0].clientX:e.clientX,posy:n?e.touches[0].clientY:e.clientY,maxLeft:s,maxTop:parseInt(a.style.height)-parseInt(t.style.height)},u=function(e){var t=(0,o.default)(e,r.el,l);if(t){if(t.left/s<r.minProgress)return;r.progress=t.left/s,r.left=t.left/s*100,r.$emit("resize",r.progress)}},c=function e(t){if(r.el=null,n)return document.removeEventListener("touchmove",u,!1),void document.removeEventListener("touchend",e,!1);document.removeEventListener("mousemove",u,!1),document.removeEventListener("mouseup",e,!1)};if(n)return document.addEventListener("touchmove",u,!1),void document.addEventListener("touchend",c,!1);document.addEventListener("mousemove",u,!1),document.addEventListener("mouseup",c,!1)}}}},SnrY:function(e,t,a){var i;i=function(){return function(e){function t(i){if(a[i])return a[i].exports;var o=a[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,a){"use strict";e.exports={isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),setCssText:function(e){var t=[];for(var a in e){var i=e[a];"number"==typeof i&&(i+="px"),t.push(a+": "+i+";")}return t.join("")}}}])},e.exports=i()},"Usw/":function(e,t){},VIqH:function(e,t,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"g-crop-image-principal"},[a("div",{staticClass:"image-wrap",style:{width:e.width+"px",height:e.height+"px"}},[a("img",{ref:"crop-image",style:{width:"100%",height:"100%"},attrs:{src:e.src}})]),e._v(" "),e.hideCrop?e._e():a("div",{staticClass:"image-mask"},[a("div",{staticClass:"mask top",style:{top:0,height:e.cropCSS.top+"px",left:0,width:"100%"}}),e._v(" "),a("div",{staticClass:"mask bottom",style:{bottom:0,top:e.cropCSS.top+e.cropCSS.height+"px",left:0,width:"100%"}}),e._v(" "),a("div",{staticClass:"mask left",style:{top:e.cropCSS.top+"px",height:e.cropCSS.height+"px",left:0,width:e.cropCSS.left+"px"}}),e._v(" "),a("div",{staticClass:"mask right",style:{top:e.cropCSS.top+"px",height:e.cropCSS.height+"px",left:e.cropCSS.left+e.cropCSS.width+"px",right:0}})]),e._v(" "),e.hideCrop?e._e():a("div",{staticClass:"crop-box",style:{top:e.cropCSS.top+"px",left:e.cropCSS.left+"px",height:e.cropCSS.height+"px",width:e.cropCSS.width+"px"},on:{touchstart:function(t){if(t.target!==t.currentTarget)return null;e.drag(t)},mousedown:function(t){if(t.target!==t.currentTarget)return null;e.drag(t)}}},[a("div",{staticClass:"reference-line v"}),e._v(" "),a("div",{staticClass:"reference-line h"}),e._v(" "),a("a",{staticClass:"g-resize",on:{touchstart:function(t){if(t.target!==t.currentTarget)return null;e.resize(t)},mousedown:function(t){if(t.target!==t.currentTarget)return null;e.resize(t)}}})])])},staticRenderFns:[]};t.a=i},XCl7:function(e,t,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"g-core-image-upload-btn"},[e._t("default",[e._v(e._s(e.text))]),e._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:!e.hasImage,expression:"!hasImage"}],staticClass:"g-core-image-upload-form",staticStyle:{display:"block",cursor:"pointer",position:"absolute",left:"0px",top:"0px",width:"1242px",height:"61px",opacity:"0",margin:"0px",padding:"0px",overflow:"hidden"},attrs:{method:"post",enctype:"multipart/form-data",action:"/api2/common_user/cropHeadUrl"}},[a("input",{staticStyle:{width:"100%",height:"100%"},attrs:{disabled:e.uploading,id:"g-core-upload-input-"+e.formID,name:e.name,multiple:e.multiple,type:"file",accept:e.inputAccept},on:{change:e.change}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasImage,expression:"hasImage"}],staticClass:"g-core-image-corp-container",attrs:{id:"vciu-modal-"+e.formID}},[a("div",{staticClass:"image-aside"},[a("div",{staticClass:"g-crop-image-box"},[a("crop",{ref:"cropBox",attrs:{"form-id":e.formID,"hide-crop":e.resize,ratio:e.cropRatio}})],1)]),e._v(" "),a("div",{staticClass:"info-aside"},[e.resize?a("resize-bar",{ref:"resizeBar",attrs:{"min-progress":e.image.minProgress},on:{resize:e.resizeImage}}):e._e(),e._v(" "),e.crop?a("p",{staticClass:"btn-groups"},[a("button",{staticClass:"btn btn-upload",attrs:{type:"button"},on:{click:e.doCrop}},[e._v(e._s(e.cropBtn.ok))]),e._v(" "),a("button",{staticClass:"btn btn-cancel",attrs:{type:"button"},on:{click:e.cancel}},[e._v(e._s(e.cropBtn.cancel))])]):e._e(),e._v(" "),e.resize?a("p",{staticClass:"btn-groups"},[a("button",{staticClass:"btn btn-upload",attrs:{type:"button"},on:{click:e.doResize}},[e._v(e._s(e.ResizeBtn.ok))]),e._v(" "),a("button",{staticClass:"btn btn-cancel",attrs:{type:"button"},on:{click:e.cancel}},[e._v(e._s(e.ResizeBtn.cancel))])]):e._e()],1)])],2)},staticRenderFns:[]};t.a=i},h82l:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={url:{type:String},text:{type:String,default:"Upload Image"},extensions:{type:String,default:"png.jpg,jpeg,gif,svg,webp"},inputOfFile:{type:String,default:"files"},crop:{type:[String,Boolean],default:""},cropBtn:{type:Object,default:function(){return{ok:"Ok",cancel:"Cancel"}}},cropRatio:{type:String,default:"1:1"},resize:{type:[String,Boolean],default:!1},ResizeBtn:{type:Object,default:function(){return{ok:"Ok",cancel:"Cancel"}}},maxFileSize:{type:Number,default:104857600},maxWidth:{type:Number},maxHeight:{type:Number},inputAccept:{type:String,default:"image/jpg,image/jpeg,image/png"},isXhr:{type:Boolean,default:!0},headers:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!1},multipleSize:{type:Number,default:0},minWidth:{type:Number,default:50},compress:{type:[Number,String],default:0}}},hspT:function(e,t){},jIYh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("pz4Q"),o=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var n=a("VIqH");var s=function(e){a("0mtm")},l=a("Z0/y")(o.a,n.a,!1,s,"data-v-29107175",null);t.default=l.exports},nZPv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{username:"",uid:"",name:"",nowTab:1,select_mould_word:"",select_mould:"",selectedM:{num:"0",time:"",value:"",label:""},moulds:[],currentPage:1,totalnum:0,pagesize:10,select_word:"",tableData:[],tableLoading:!1,exfrom:{addUserId:"",mouldId:"",addUserName:"0",youSiWenNum:"0",wuSiWenNum:"0",remark:""},rules:{mouldName:[{required:!0,message:"请输入模具名称",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}]}}},methods:{toSelect:function(){var e=this;""==e.select_mould_word&&e.$message.error("请输入模具名称或添加人姓名"),this.getRequest("/shou/mo/select?mouldName="+e.select_mould_word+"&addUserName="+e.select_mould_word).then(function(t){if(t&&200==t.status&&0==t.data.code){e.$message.success("查找成功，请左侧点击选择");for(var a=t.data.data,i=[],o=0;o<a.length;o++){var r={label:"",value:"",time:"",num:""};r.label=a[o].mouldName,r.value=a[o].id,r.num=a[o].mouldNum,r.time=a[o].createTime,i.push(r)}e.moulds=i}else e.$message.success("信息不存在")})},loadAllProject:function(){var e=this;this.getRequest("/shou/mo/get/byday").then(function(t){if(t&&200==t.status&&0==t.data.code){for(var a=[],i=t.data.data,o=0;o<i.length;o++){var r={label:"",value:"",time:"",num:""};r.label=i[o].mouldName,r.value=i[o].id,r.num=i[o].mouldNum,r.time=i[o].createTime,a.push(r)}e.moulds=a}else console.log("获取列表数据失败")})},toAddMouldRecord:function(){this.nowTab=2,this.loadAllProject()},delMouldRecord:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.toDelPartInfo(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},resetForm:function(e){this.$refs[e].resetFields()},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.exfrom.addUserId=t.uid,a.exfrom.addUserName=t.name,a.exfrom.mouldId=t.selectedM.value,t.putRequest("/shou/cai/create",a.exfrom).then(function(e){if(e&&200==e.status&&0==e.data.code){e.data.data.id;t.tableLoading=!0,t.$message.success("添加成功"),t.nowTab=1,t.resetForm("exfrom"),t.getCollectMouldList(),t.selectedM=""}else t.$message.success("添加失败")})})},handleChange:function(e){},handleSizeChange:function(e){this.pagesize=e,this.getCollectMouldList()},handleCurrentChange:function(e){this.currentPage=e,this.getCollectMouldList()},getCollectMouldList:function(){var e=this;this.getRequest("/shou/cai/listbypage?page="+this.currentPage+"&size="+this.pagesize).then(function(t){e.tableLoading=!1,console.log(t),t&&200==t.status&&0==t.data.code&&(e.tableData=t.data.data.caiMoList,console.log(e.tableData),e.totalnum=t.data.data.count)})}},mounted:function(){this.$nextTick(function(){this.tableLoading=!0,this.getCollectMouldList()}),this.username=localStorage.getItem("cp_username"),this.uid=localStorage.getItem("cp_uid"),this.name=localStorage.getItem("cp_name")},computed:{}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.nowTab,expression:"nowTab === 1"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("收模管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("拆模记录")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","margin-top":"20px"}},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"mr10",attrs:{type:"primary",icon:"plus"},on:{click:e.toAddMouldRecord}},[e._v("增添拆模记录")]),e._v(" "),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词",icon:"search"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}})],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{align:"center",prop:"mouldName",label:"模具名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.mouldInfo.mouldName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"mouldNum",label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.mouldInfo.mouldNum))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"收模时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatDateTime")(t.row.mouldInfo.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"addUserName",label:"拆模人"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.toGetAllInfo(t.row)}}},[e._v("查看详情")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,30,80,100],"page-size":e.pagesize,layout:"total,sizes, prev, pager, next, jumper",total:e.totalnum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.nowTab,expression:"nowTab==2"}],staticStyle:{width:"100%",float:"right"}},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v("收模管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("拆模记录")]),e._v(" "),a("el-breadcrumb-item",[e._v("拆模详情")])],1)],1),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("拆模基础信息")])]),e._v(" "),a("div",[a("div",{staticClass:"form-box"},[a("el-form",{ref:"exfrom",attrs:{model:e.exfrom,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"模具名称：",required:""}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"30%"},attrs:{placeholder:"请输入内容(模具名称或收模人姓名)"},model:{value:e.select_mould_word,callback:function(t){e.select_mould_word=t},expression:"select_mould_word"}},[a("el-select",{staticStyle:{width:"130px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.selectedM,callback:function(t){e.selectedM=t},expression:"selectedM"}},e._l(e.moulds,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e}})})),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.toSelect},slot:"append"})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模具收模信息："}},[a("div",{staticStyle:{border:"1px dashed #d9d9d9",width:"40%","min-height":"128px"}},[a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"模具数量："}},[a("el-input-number",{attrs:{placeholder:"请输入模具数量","controls-position":"right",min:0,disabled:!0},on:{change:e.handleChange},model:{value:e.selectedM.num,callback:function(t){e.$set(e.selectedM,"num",t)},expression:"selectedM.num"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:"收模时间："}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{disabled:!0,format:"yyyy 年 MM 月 dd 日 HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.selectedM.time,callback:function(t){e.$set(e.selectedM,"time",t)},expression:"selectedM.time"}})],1)],1)]),e._v(" "),a("el-form-item",{attrs:{label:"蚀纹镶块：",prop:"youSiWenNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},on:{change:e.handleChange},model:{value:e.exfrom.youSiWenNum,callback:function(t){e.$set(e.exfrom,"youSiWenNum",t)},expression:"exfrom.youSiWenNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"无蚀纹镶块：",prop:"wuSiWenNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},on:{change:e.handleChange},model:{value:e.exfrom.wuSiWenNum,callback:function(t){e.$set(e.exfrom,"wuSiWenNum",t)},expression:"exfrom.wuSiWenNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{staticStyle:{width:"28%"},attrs:{type:"textarea"},model:{value:e.exfrom.remark,callback:function(t){e.$set(e.exfrom,"remark",t)},expression:"exfrom.remark"}})],1)],1)],1)]),e._v(" "),a("div",{staticClass:"card-bottom"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("exfrom")}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)])],1)])},staticRenderFns:[]};var r=a("Z0/y")(i,o,!1,function(e){a("hspT")},"data-v-15798a80",null);t.default=r.exports},nhGo:function(e,t,a){var i;i=function(){return function(e){function t(i){if(a[i])return a[i].exports;var o=a[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=21)}({0:function(e,t,a){"use strict";e.exports={isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),setCssText:function(e){var t=[];for(var a in e){var i=e[a];"number"==typeof i&&(i+="px"),t.push(a+": "+i+";")}return t.join("")}}},21:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,r,n){if(t){var s=document.body.offsetHeight,l=1/n,u=parseInt(window.getComputedStyle(a).width),c=parseInt(window.getComputedStyle(a).height),d=document.querySelector(".info-aside"),m=(o-u)/2,p=parseInt(window.getComputedStyle(d).height),h=(s-c-p)/2,f=i?e.changedTouches[0].clientX:e.clientX,g=i?e.changedTouches[0].clientY:e.clientY,v=parseInt(t.offsetWidth),b=parseInt(t.offsetHeight),A={};return n>=1&&f<=m+u?(v>=u&&(A.width=u),A.width=r.w+f-r.x,A.height=v*l,u>c?v>c&&(A.height=c,A.width=c*n):u<c?v>u&&(A.width=u,A.height=u*l):v>=u&&(A.width=u,A.height=u*l)):n<1&&g<h+c+p?(A.height=r.h+g-r.y,A.width=parseInt(t.style.height)*n,u>c?b>c&&(A.height=c,A.width=c*n):v>u&&(A.width=u,A.height=u*l)):"auto"==n&&g<=h+c+p&&f<=h+u?(A.height=r.h+g-r.y,A.width=r.w+f-r.x):f<=m+u&&(A.width=r.w+f-r.x,A.height=t.style.width,u>c?b>c&&(A.height=c,A.width=c):u<c?v>u&&(A.width=u,A.height=u):v>u&&(A.width=t.style.height=u)),A}};var i=function(e){return e&&e.__esModule?e:{default:e}}(a(0)).default.isMobile,o=document.body.offsetWidth}})},e.exports=i()},o76f:function(e,t){},pz4Q:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(a("vd+i")),o=s(a("nhGo")),r=s(a("MMIV")),n=s(a("SnrY"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={props:{formId:{type:String,default:""},ratio:{type:String,default:"1:1"},minWidth:{type:Number,default:50},minHeight:{type:Number,default:50},hideCrop:{type:[String,Boolean],default:!1}},data:function(){return{src:r.default,width:24,height:24,cropCSS:{}}},methods:{setImage:function(e,t,a){return this.src=e,this.ratio.indexOf(":")>0?(this.ratioW=this.ratio.split(":")[0],this.ratioH=this.ratio.split(":")[1],this.ratioVal=this.ratioW/this.ratioH):(this.ratioW=1,this.ratioH=1,this.ratioVal=this.ratio),this.setLayout(t,a),this.setCropBox(),this.natrualWidth=t,this.natrualHeight=a,this.imgChangeRatio},resizeImage:function(e){var t=this.natrualWidth*this.imgChangeRatio*e,a=this.natrualHeight*this.imgChangeRatio*e;t<=this.minWidth||a<this.minHeight||(this._setStyle(t,a,t/a),this.setCropBox())},setLayout:function(e,t){var a=window.innerHeight-80,i=window.innerWidth-60,o=e,r=t,n=0,s=o/r;s>i/a?(o=i,r=i/s,n=(a-i/s)/2):(o=a*s,r=a,n=(i-a*s)/2),this.marginLeft=n,this.marginTop=0,this.imgChangeRatio=o/e,this._setStyle(o,r,s,!0)},_setStyle:function(e,t,a,i){var o=this.$el;i||(this.marginLeft=this.marginLeft+(this.width-e)/2,this.marginTop=this.marginTop+(this.height-t)/2),o.style.cssText="width:"+e+"px;height:"+t+"px;margin-left:"+this.marginLeft+"px;margin-top:"+this.marginTop+"px",this.width=e,this.height=t},setCropBox:function(){if(!this.hideCrop){var e=this.__find(".crop-box"),t=(this.$el,this.width),a=this.height,i=this.ratioW,o=this.ratioH,r=t/100*75,s={width:r,height:r/i*o};if(s.left=(t-r)/2,s.top=(a-s.height)/2,e.style.cssText=n.default.setCssText(s),s.height>a){var l=a/100*75;s.height=l,s.width=s.height*i/o,s.left=(t-s.width)/2,s.top=(a-s.height)/2,e.style.cssText=n.default.setCssText(s)}this.cropCSS=s}},getCropData:function(){return this.hideCrop?{imgChangeRatio:this.imgChangeRatio,toCropImgX:0,toCropImgY:0,toCropImgW:this.natrualWidth,toCropImgH:this.natrualHeight}:{toCropImgX:this.cropCSS.left/this.imgChangeRatio,toCropImgY:this.cropCSS.top/this.imgChangeRatio,toCropImgW:this.cropCSS.width/this.imgChangeRatio,toCropImgH:this.cropCSS.height/this.imgChangeRatio}},getCropImage:function(){return this.$refs["crop-image"]},__find:function(e){return document.querySelector("#vciu-modal-"+this.formId).querySelector(e)},resize:function(e){e.stopPropagation();var t=e.target.parentElement,a=this.__find(".g-crop-image-principal");this._$container&&(this._$container=container);var i=this,r={x:n.default.isMobile?e.touches[0].clientX:e.clientX,y:n.default.isMobile?e.touches[0].clientY:e.clientY,w:parseInt(window.getComputedStyle(t).width,10),h:parseInt(window.getComputedStyle(t).height,10)};this.el=t,this.container=a;var s=function(e){var t=(0,o.default)(e,i.el,a,r,i.ratioVal);t&&(i.cropCSS.width=t.width,i.cropCSS.height=t.height)},l=function e(t){this.el=null,n.default.isMobile&&(document.removeEventListener("touchmove",s,!1),document.removeEventListener("touchend",e,!1)),document.removeEventListener("mousemove",s,!1),document.removeEventListener("mouseup",e,!1)};n.default.isMobile&&(document.addEventListener("touchmove",s,!1),document.addEventListener("touchend",l,!1)),document.addEventListener("mousemove",s,!1),document.addEventListener("mouseup",l,!1)},drag:function(e){e.preventDefault();var t=e.target;this.el=t;var a=this.$el,o=document.getElementsByClassName("image-aside")[0],r=this,s=n.default.isMobile,l={x:(s?e.touches[0].clientX:e.clientX)-t.offsetLeft-t.parentElement.offsetLeft-o.offsetLeft,y:(s?e.touches[0].clientY:e.clientY)-t.offsetTop-t.parentElement.offsetTop-o.offsetTop,posX:s?e.touches[0].clientX:e.clientX,posy:s?e.touches[0].clientY:e.clientY,maxLeft:parseInt(a.style.width)-parseInt(t.style.width),maxTop:parseInt(a.style.height)-parseInt(t.style.height)},u=function(e){var t=(0,i.default)(e,r.el,l);t&&(r.cropCSS.left=t.left,r.cropCSS.top=t.top)},c=function e(t){if(r.el=null,s)return document.removeEventListener("touchmove",u,!1),void document.removeEventListener("touchend",e,!1);document.removeEventListener("mousemove",u,!1),document.removeEventListener("mouseup",e,!1)};if(s)return document.addEventListener("touchmove",u,!1),void document.addEventListener("touchend",c,!1);document.addEventListener("mousemove",u,!1),document.addEventListener("mouseup",c,!1)}}}},qa5Q:function(e,t,a){var i={"./ChaiMoList.vue":"Ciec","./ShouCaiList.vue":"nZPv","./ShouList.vue":"F6Rv"};function o(e){return a(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}o.keys=function(){return Object.keys(i)},o.resolve=r,e.exports=o,o.id="qa5Q"},"vd+i":function(e,t,a){var i;i=function(){return function(e){function t(i){if(a[i])return a[i].exports;var o=a[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}({0:function(e,t,a){"use strict";e.exports={isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),setCssText:function(e){var t=[];for(var a in e){var i=e[a];"number"==typeof i&&(i+="px"),t.push(a+": "+i+";")}return t.join("")}}},12:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){if(t){var o=i?e.changedTouches[0].clientX:e.clientX,r=i?e.changedTouches[0].clientY:e.clientY,n=o-t.parentElement.offsetLeft-a.x,s=r-t.parentElement.offsetTop-document.getElementsByClassName("image-aside")[0].offsetTop-a.y;return n<=0&&(n=0),n>=a.maxLeft&&(n=a.maxLeft),s<=0&&(s=0),s>=a.maxTop&&(s=a.maxTop),{left:n,top:s}}};var i=function(e){return e&&e.__esModule?e:{default:e}}(a(0)).default.isMobile}})},e.exports=i()}});
//# sourceMappingURL=1.760143209c9e08d9bb2b.js.map