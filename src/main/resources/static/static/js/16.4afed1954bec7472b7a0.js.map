{"version":3,"sources":["webpack:///./src/components/Work ^\\.\\/.*\\.vue$","webpack:///src/components/Work/WorkStep.vue","webpack:///./src/components/Work/WorkStep.vue?189f","webpack:///./src/components/Work/WorkStep.vue","webpack:///src/components/Work/WorkFlow.vue","webpack:///./src/components/Work/WorkFlow.vue?e867","webpack:///./src/components/Work/WorkFlow.vue"],"names":["map","./WorkFlow.vue","./WorkStep.vue","webpackContext","req","__webpack_require__","webpackContextResolve","id","Error","keys","Object","resolve","module","exports","WorkStep","String","_this","this","uid","name","loadAllSteps","steplist","_this2","then","resetFields","Work_WorkStep","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator","_v","staticStyle","padding-left","padding-top","margin-top","slot","gutter","span","on","click","addbuzhou","min-height","padding","_l","step","body-style","_s","stepName","addUserName","directives","rawName","value","isCheck","expression","remark","float","color","type","$event","del","title","show-close","close-on-click-modal","close-on-press-escape","visible","dialogFormVisible","width","update:visible","ref","model","form","rules","label-width","label","prop","placeholder","callback","$$v","$set","submitForm","staticRenderFns","Component","normalizeComponent","__webpack_exports__","WorkFlow","_ref","defineProperty_default","elem","item","flowlist","buzhounum","active","liuchengname","moren","_this3","i","stepid","stepname","flowId","flow","paramsString","loadAllFlows","Work_WorkFlow","zidingyi","flowName","align-center","description","margin-left","controls-position","min","change","handleChange","finish-status","n","itemstep","key","disabled","next","up","height","border-bottom","box-sizing","margin-bottom","toAdd"],"mappings":"wCAAA,IAAAA,GACAC,iBAAA,OACAC,iBAAA,QAEA,SAAAC,EAAAC,GACA,OAAAC,EAAAC,EAAAF,IAEA,SAAAE,EAAAF,GACA,IAAAG,EAAAP,EAAAI,GACA,KAAAG,EAAA,GACA,UAAAC,MAAA,uBAAAJ,EAAA,MACA,OAAAG,EAEAJ,EAAAM,KAAA,WACA,OAAAC,OAAAD,KAAAT,IAEAG,EAAAQ,QAAAL,EACAM,EAAAC,QAAAV,EACAA,EAAAI,GAAA,6FCmEA,IAAAO,gBAIAC,kDAGA,gBACA,oBAEA,QACA,OACA,kBAEA,eAGA,+BAGA,UACA,kBAEA,aAEA,MACA,YACA,0BAKA,4CAIA,IAAAC,EAAAC,OACAA,qDAiBA,kBAdA,qBACAC,yBACAC,6EAEA,uDAEA,6BACA,IACAC,iCAEA,0DASA,iCAGAH,+GAGAI,qBAEA,+BAIA,IAAAC,EAAAL,gEAEA,sBACA,UACA,YAHAM,KAAA,mBAKAhB,uCAGA,eAEA,qCAIAU,mHAGA,UACAG,iCAEA,+CAMAI,sEAIA,6CACA,yCACA,gBACAJ,iBC3LAK,GADiBC,OAFjB,WAA0B,IAAAC,EAAAV,KAAaW,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAqCE,YAAA,WAAqBF,EAAA,iBAAsBG,OAAOC,UAAA,OAAiBJ,EAAA,sBAAAA,EAAA,KAAmCE,YAAA,kBAA4BL,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,sBAAAH,EAAAQ,GAAA,kBAAAR,EAAAQ,GAAA,KAAAL,EAAA,gBAAAA,EAAA,WAA8HM,aAAaC,eAAA,MAAAC,cAAA,SAA0CR,EAAA,OAAAA,EAAA,WAA0BE,YAAA,WAAAI,aAAoCG,aAAA,UAAqBT,EAAA,OAAYE,YAAA,WAAAC,OAA8BO,KAAA,UAAgBA,KAAA,WAAeV,EAAA,QAAAH,EAAAQ,GAAA,YAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAAAA,EAAA,UAAmEG,OAAOQ,OAAA,MAAaX,EAAA,UAAeG,OAAOS,KAAA,KAAUZ,EAAA,OAAYa,IAAIC,MAAAjB,EAAAkB,aAAuBf,EAAA,WAAgBE,YAAA,aAAAI,aAAsCU,aAAA,WAAsBhB,EAAA,OAAYM,aAAaW,QAAA,UAAkBjB,EAAA,OAAYE,YAAA,UAAoBL,EAAAQ,GAAA,KAAAL,EAAA,KAAsBE,YAAA,iBAA2BL,EAAAQ,GAAA,oBAAAR,EAAAQ,GAAA,KAAAR,EAAAqB,GAAArB,EAAA,eAAAsB,GAA2E,OAAAnB,EAAA,UAAoBG,OAAOS,KAAA,KAAUZ,EAAA,WAAgBE,YAAA,aAAAC,OAAgCiB,cAAcH,QAAA,UAAmBjB,EAAA,OAAYM,aAAaW,QAAA,UAAkBjB,EAAA,MAAAH,EAAAQ,GAAAR,EAAAwB,GAAAF,EAAAG,aAAAzB,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAA,OAAAR,EAAAwB,GAAAF,EAAAI,gBAAA1B,EAAAQ,GAAA,KAAAL,EAAA,OAAgIwB,aAAanC,KAAA,OAAAoC,QAAA,SAAAC,OAAA,IAAAP,EAAAQ,QAAAC,WAAA,6BAAkG5B,EAAA,MAAAH,EAAAQ,GAAA,YAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAAoDwB,aAAanC,KAAA,OAAAoC,QAAA,SAAAC,OAAA,IAAAP,EAAAQ,QAAAC,WAAA,4BAAgG5B,EAAA,MAAAH,EAAAQ,GAAA,YAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAAoDE,YAAA,oBAA8BF,EAAA,KAAUE,YAAA,SAAmBL,EAAAQ,GAAA,MAAAR,EAAAwB,GAAAF,EAAAU,WAAAhC,EAAAQ,GAAA,KAAAL,EAAA,eAAoEM,aAAawB,MAAA,QAAAC,MAAA,aAAmC/B,EAAA,QAAaE,YAAA,qBAA+BF,EAAA,KAAUE,YAAA,mBAA2BL,EAAAQ,GAAA,KAAAL,EAAA,oBAAuCG,OAAOO,KAAA,YAAkBA,KAAA,aAAiBV,EAAA,oBAAAA,EAAA,aAAyCG,OAAO6B,KAAA,QAAcnB,IAAKC,MAAA,SAAAmB,GAAyBpC,EAAAqC,IAAAf,EAAA1C,QAAmBoB,EAAAQ,GAAA,oCAA0C,uBAAAR,EAAAQ,GAAA,KAAAL,EAAA,aAAsDwB,aAAanC,KAAA,UAAAoC,QAAA,YAAAC,MAAA7B,EAAA,aAAA+B,WAAA,iBAAsFzB,OAASgC,MAAA,OAAAC,cAAA,EAAAC,wBAAA,EAAAC,yBAAA,EAAAC,QAAA1C,EAAA2C,kBAAAC,MAAA,OAA2I5B,IAAK6B,iBAAA,SAAAT,GAAkCpC,EAAA2C,kBAAAP,MAA+BjC,EAAA,OAAYE,YAAA,aAAuBF,EAAA,WAAgB2C,IAAA,OAAAxC,OAAkByC,MAAA/C,EAAAgD,KAAAC,MAAAjD,EAAAiD,MAAAC,cAAA,UAAyD/C,EAAA,gBAAqBG,OAAO6C,MAAA,OAAAC,KAAA,cAAkCjD,EAAA,YAAiBM,aAAamC,MAAA,OAActC,OAAQ+C,YAAA,WAAwBN,OAAQlB,MAAA7B,EAAAgD,KAAA,SAAAM,SAAA,SAAAC,GAAmDvD,EAAAwD,KAAAxD,EAAAgD,KAAA,WAAAO,IAAoCxB,WAAA,oBAA6B,GAAA/B,EAAAQ,GAAA,KAAAL,EAAA,gBAAqCG,OAAO6C,MAAA,UAAgBhD,EAAA,aAAkB4C,OAAOlB,MAAA7B,EAAAgD,KAAA,QAAAM,SAAA,SAAAC,GAAkDvD,EAAAwD,KAAAxD,EAAAgD,KAAA,UAAAO,IAAmCxB,WAAA,mBAA4B,GAAA/B,EAAAQ,GAAA,KAAAL,EAAA,gBAAqCG,OAAO6C,MAAA,UAAgBhD,EAAA,aAAkB4C,OAAOlB,MAAA7B,EAAAgD,KAAA,YAAAM,SAAA,SAAAC,GAAsDvD,EAAAwD,KAAAxD,EAAAgD,KAAA,cAAAO,IAAuCxB,WAAA,uBAAgC,GAAA/B,EAAAQ,GAAA,KAAAL,EAAA,gBAAqCG,OAAO6C,MAAA,QAAchD,EAAA,YAAiBM,aAAamC,MAAA,OAActC,OAAQ6B,KAAA,YAAkBY,OAAQlB,MAAA7B,EAAAgD,KAAA,OAAAM,SAAA,SAAAC,GAAiDvD,EAAAwD,KAAAxD,EAAAgD,KAAA,SAAAO,IAAkCxB,WAAA,kBAA2B,OAAA/B,EAAAQ,GAAA,KAAAL,EAAA,OAAgCE,YAAA,gBAAAC,OAAmCO,KAAA,UAAgBA,KAAA,WAAeV,EAAA,aAAkBM,aAAawB,MAAA,SAAgB3B,OAAQ6B,KAAA,WAAiBnB,IAAKC,MAAA,SAAAmB,GAAyBpC,EAAAyD,WAAA,YAAyBzD,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,KAAAL,EAAA,aAA8Ca,IAAIC,MAAA,SAAAmB,GAAyBpC,EAAA2C,mBAAA,MAAgC3C,EAAAQ,GAAA,wBAEjxHkD,oBCYjBC,EAdAjF,EAAA,OAcAkF,CACAzE,EACAW,GATA,EAEA,KAEA,KAEA,MAUA+D,EAAA,QAAAF,EAAA,0ICyDAG,gBAIA1E,wBACA,IAAA2E,EACA,OAAAA,gCAEA,gBACA,WACA,QACA,OACA,kBAEA,eAEA,aACA,WACA,oBACAC,IAAAD,EAAA,YACAC,IAAAD,EAAA,mBACAC,IAAAD,EAAA,WACA,IAAAC,IAAAD,EAAA,SACA,GAAAC,IAAAD,EAAA,aACA,IAAAC,IAAAD,EAAA,eACA,IAAAC,IAAAD,EAAA,8BAGA,UACA,kBAEA,aAEA,MACA,YACA,0BAKA,WAdAA,mFAmBA,0BAGA,IAAA1E,EAAAC,OACAA,qDAiBA,kBAdA,qBACAC,yBACAC,6EAEA,uDAEA,6BACA,IACAC,iCAEA,0DASA,iCAGAH,8FAEA,uBACAI,iCAEA,cAEA,SAEA,iBACA+B,sBACA7C,UACAqF,kBAEAC,mBAEA,6CAKA5E,sHAGA6E,qBAEA,+BAIA,IAAAxE,EAAAL,gEAEA,sBACA,UACA,YAHAM,KAAA,mBAKAhB,uCAGA,eAEA,qCAIAU,mHAGA,UACAG,iCAEA,+CAMAI,gFAIAuE,2DACAjB,qDACAtB,yDAEAsB,qDACAtB,qDAKA,sDACA,kCACA,OACA,YACAwC,iDACA,wBACA,4BAKA/E,mFASA,oBAEAgF,qBACAC,gBACAH,yBACA7E,qBAEAC,4EAEA,kEAEAZ,qBAEA,gCAhBA,oCAJA,yCAwBA,IAAA4F,EAAAlF,OACAA,kDAIA,YACA,+BACA,kBACAmF,eAEAC,sBACAnF,qBACAC,iBACA,aACAmF,gBAEAC,WACAC,GACA,iBAIAC,+EAEA,uDAEA,6BACA,IACAC,mHAWA,uBAEAN,SAEA,oBACAnD,4DAMA,6CACA,yCACA,gBACA7B,oBACAsF,iBCzTAC,GADiBjF,OAFjB,WAA0B,IAAAC,EAAAV,KAAaW,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAAAA,EAAA,OAAqCE,YAAA,WAAqBF,EAAA,iBAAsBG,OAAOC,UAAA,OAAiBJ,EAAA,sBAAAA,EAAA,KAAmCE,YAAA,kBAA4BL,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,sBAAAH,EAAAQ,GAAA,kBAAAR,EAAAQ,GAAA,KAAAL,EAAA,gBAAgHM,aAAaG,aAAA,UAAqBT,EAAA,WAAgBM,aAAaC,eAAA,MAAAC,cAAA,SAA0CR,EAAA,OAAAA,EAAA,OAAAA,EAAA,aAAsCG,OAAO6B,KAAA,WAAiBnB,IAAKC,MAAA,SAAAmB,GAAyBpC,EAAA2C,mBAAA,MAA8BxC,EAAA,KAAUE,YAAA,qBAA+BL,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,aAA+Ca,IAAIC,MAAAjB,EAAAiF,YAAsB9E,EAAA,KAAUE,YAAA,iBAA2BL,EAAAQ,GAAA,eAAAR,EAAAQ,GAAA,KAAAR,EAAAqB,GAAArB,EAAA,gBAAAkE,GAAuE,OAAA/D,EAAA,WAAqBE,YAAA,WAAAI,aAAoCG,aAAA,UAAqBT,EAAA,eAAAA,EAAA,QAA+BE,YAAA,qBAA+BF,EAAA,KAAUE,YAAA,sBAA8BL,EAAAQ,GAAA,KAAAL,EAAA,oBAAuCG,OAAOO,KAAA,YAAkBA,KAAA,aAAiBV,EAAA,oBAAAH,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAL,EAAA,oBAAAH,EAAAQ,GAAA,gBAAAR,EAAAQ,GAAA,KAAAL,EAAA,QAAAH,EAAAQ,GAAAR,EAAAwB,GAAA0C,EAAAgB,aAAAlF,EAAAQ,GAAA,KAAAL,EAAA,YAAoLG,OAAO6E,eAAA,KAAmBnF,EAAAqB,GAAA6C,EAAA,mBAAA5C,GAAwC,OAAAnB,EAAA,WAAqBG,OAAOgC,MAAAhB,EAAAG,SAAA2D,YAAA9D,EAAAU,cAAmD,MAAO,aAAAhC,EAAAQ,GAAA,KAAAL,EAAA,aAA4CwB,aAAanC,KAAA,UAAAoC,QAAA,YAAAC,MAAA7B,EAAA,aAAA+B,WAAA,iBAAsFzB,OAASgC,MAAA,QAAAC,cAAA,EAAAC,wBAAA,EAAAC,yBAAA,EAAAC,QAAA1C,EAAA2C,kBAAAC,MAAA,OAA2I5B,IAAK6B,iBAAA,SAAAT,GAAkCpC,EAAA2C,kBAAAP,MAA+BjC,EAAA,OAAYE,YAAA,aAAuBF,EAAA,WAAgBE,YAAA,WAAAI,aAAoCG,aAAA,UAAqBT,EAAA,OAAYE,YAAA,WAAAC,OAA8BO,KAAA,UAAgBA,KAAA,WAAeV,EAAA,QAAAH,EAAAQ,GAAA,SAAAL,EAAA,YAA4CM,aAAamC,MAAA,OAAcG,OAAQlB,MAAA7B,EAAA,aAAAsD,SAAA,SAAAC,GAAkDvD,EAAAsE,aAAAf,GAAqBxB,WAAA,mBAA4B,GAAA/B,EAAAQ,GAAA,KAAAL,EAAA,QAA6BM,aAAa4E,cAAA,UAAsBrF,EAAAQ,GAAA,UAAAL,EAAA,mBAAyCG,OAAOgF,oBAAA,QAAAC,IAAA,GAAoCvE,IAAKwE,OAAAxF,EAAAyF,cAA0B1C,OAAQlB,MAAA7B,EAAA,UAAAsD,SAAA,SAAAC,GAA+CvD,EAAAoE,UAAAb,GAAkBxB,WAAA,gBAAyB,KAAA/B,EAAAQ,GAAA,KAAAL,EAAA,OAA8BwB,aAAanC,KAAA,OAAAoC,QAAA,SAAAC,MAAA,IAAA7B,EAAAoE,UAAArC,WAAA,sBAAwF5B,EAAA,YAAiBG,OAAO+D,OAAArE,EAAAqE,OAAAqB,gBAAA,YAA+C1F,EAAAqB,GAAArB,EAAA,eAAA2F,GAAgC,OAAAxF,EAAA,WAAqBG,OAAOgC,MAAAqD,EAAAhB,gBAAsB,GAAA3E,EAAAQ,GAAA,KAAAL,EAAA,OAA6BwB,aAAanC,KAAA,OAAAoC,QAAA,SAAAC,MAAA,IAAA7B,EAAAoE,UAAArC,WAAA,oBAAsFtB,aAAeG,aAAA,UAAqBT,EAAA,WAAgBG,OAAO4C,cAAA,UAAsB/C,EAAA,gBAAqBG,OAAO6C,MAAA,UAAgBhD,EAAA,aAAkBG,OAAO+C,YAAA,SAAsBN,OAAQlB,MAAA7B,EAAA,SAAAsD,SAAA,SAAAC,GAA8CvD,EAAA4F,SAAArC,GAAiBxB,WAAA,aAAwB/B,EAAAqB,GAAArB,EAAA,sBAAAkE,GAA0C,OAAA/D,EAAA,aAAuB0F,IAAA3B,EAAArC,MAAAvB,OAAsB6C,MAAAe,EAAAf,MAAAtB,MAAAqC,SAAmC,GAAAlE,EAAAQ,GAAA,KAAAL,EAAA,gBAAAA,EAAA,aAAsDG,OAAOwF,SAAAxG,KAAA+E,SAAArE,EAAAoE,WAAA,KAAA9E,KAAAsG,SAAAzD,KAAA,WAAgFnB,IAAKC,MAAAjB,EAAA+F,QAAkB/F,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,KAAAL,EAAA,aAA8CG,OAAOwF,SAAA,IAAAxG,KAAA+E,OAAAlC,KAAA,WAA8CnB,IAAKC,MAAAjB,EAAAgG,MAAgBhG,EAAAQ,GAAA,qBAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAAoDwB,aAAanC,KAAA,OAAAoC,QAAA,SAAAC,MAAA,IAAA7B,EAAAoE,UAAArC,WAAA,oBAAsFtB,aAAewF,OAAA,MAAArD,MAAA,OAAAsD,gBAAA,oBAAAC,aAAA,aAAAC,gBAAA,UAAoHpG,EAAAQ,GAAA,KAAAL,EAAA,OAAwBwB,aAAanC,KAAA,OAAAoC,QAAA,SAAAC,MAAA,IAAA7B,EAAAoE,UAAArC,WAAA,oBAAsFtB,aAAeG,aAAA,UAAqBT,EAAA,WAAgBG,OAAO4C,cAAA,WAAuB/C,EAAA,gBAAqBG,OAAO6C,MAAA,YAAkBhD,EAAA,aAAkB4C,OAAOlB,MAAA7B,EAAA,MAAAsD,SAAA,SAAAC,GAA2CvD,EAAAuE,MAAAhB,GAAcxB,WAAA,YAAqB,OAAA/B,EAAAQ,GAAA,KAAAL,EAAA,OAAAA,EAAA,aAAgDG,OAAO6B,KAAA,WAAiBnB,IAAKC,MAAAjB,EAAAqG,SAAmBrG,EAAAQ,GAAA,WAAAR,EAAAQ,GAAA,KAAAL,EAAA,aAAgDG,OAAO6B,KAAA,IAAUnB,IAAKC,MAAA,SAAAmB,GAAyBpC,EAAA2C,mBAAA,MAA8B3C,EAAAQ,GAAA,6BAE5uIkD,oBCYjBC,EAdAjF,EAAA,OAcAkF,CACAE,EACAkB,GATA,EAEA,KAEA,KAEA,MAUAnB,EAAA,QAAAF,EAAA","file":"static/js/16.4afed1954bec7472b7a0.js","sourcesContent":["var map = {\n\t\"./WorkFlow.vue\": \"wS0L\",\n\t\"./WorkStep.vue\": \"vw+t\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"bvfC\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Work ^\\.\\/.*\\.vue$\n// module id = bvfC\n// module chunks = 16","<template>\r\n<div>\r\n  <div>\r\n    <div class=\"crumbs\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item><i class=\"el-icon-share\"></i>车间管理</el-breadcrumb-item>\r\n        <el-breadcrumb-item>步骤管理</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <el-container>\r\n      <el-main style=\"padding-left: 0px;padding-top: 0px\">\r\n        <!-- 添加订单基础信息 -->\r\n        <div>\r\n          <el-card class=\"box-card\" style=\"margin-top:25px;\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <span>已有步骤</span>\r\n            </div>\r\n            <div>\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"6\">\r\n                  <div @click=\"addbuzhou\">\r\n                    <el-card style=\"min-height:121px;\" class=\"mould-card\">\r\n                      <div style=\"padding: 14px;\">\r\n                        <img class=\"image\">\r\n                        <i class=\"el-icon-plus\">新增步骤</i>\r\n                      </div>\r\n                    </el-card>\r\n                  </div>\r\n                </el-col>\r\n                <el-col :span=\"6\" v-for=\" step in steps\">\r\n                  <el-card :body-style=\"{ padding: '0px' }\" class=\"mould-card\">\r\n                    <div style=\"padding: 14px;\">\r\n                      <h4>{{step.stepName}}</h4>\r\n                      <h5>添加人:{{step.addUserName}}</h5>\r\n                      <div v-show=\"step.isCheck === false\">\r\n                        <h6>无需审核</h6></div>\r\n                      <div v-show=\"step.isCheck === true\">\r\n                        <h6>需要审核</h6></div>\r\n                      <div class=\"bottom clearfix\">\r\n                        <p class=\"time\">说明：{{step.remark}}</p>\r\n                        <el-dropdown style=\"float: right;color: #409EFF;\">\r\n                          <span class=\"el-dropdown-link\"><i class=\"el-icon-edit\"></i>\r\n                                            </span>\r\n                          <el-dropdown-menu slot=\"dropdown\">\r\n                            <el-dropdown-item>\r\n                              <el-button type=\"text\" @click=\"del(step.id)\">删 除</el-button>\r\n                            </el-dropdown-item>\r\n                          </el-dropdown-menu>\r\n                        </el-dropdown>\r\n                      </div>\r\n                    </div>\r\n                  </el-card>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n          </el-card>\r\n        </div>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n  <el-dialog title=\"添加步骤\" v-loading=\"checkLoading\" :show-close=\"false\" :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :visible.sync=\"dialogFormVisible\" width='50%'>\r\n    <div class=\"form-box\">\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"步骤名称\" prop=\"stepName\">\r\n          <el-input v-model=\"form.stepName\" placeholder=\"请输入步骤名称\" style=\"width:30%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"质量审查\">\r\n          <el-switch v-model=\"form.isCheck\"></el-switch>\r\n        </el-form-item>\r\n        <el-form-item label=\"商务监察\">\r\n          <el-switch v-model=\"form.isBusRemark\"></el-switch>\r\n        </el-form-item>\r\n        <el-form-item label=\"说明\">\r\n          <el-input type=\"textarea\" v-model=\"form.remark\" style=\"width:50%\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button style=\"float:right\" type=\"primary\" @click=\"submitForm('form')\">提 交</el-button>\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n      </div>\r\n    </div>\r\n  </el-dialog>\r\n</div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: String\r\n  },\r\n  data() {\r\n    return {\r\n      dialogFormVisible: false,\r\n      checkLoading: false,\r\n      steps: [],\r\n      username: '',\r\n      name: '',\r\n      uid: '',\r\n      form: {\r\n        isCheck: true,\r\n        isBusRemark: false\r\n      },\r\n\r\n      rules: {\r\n        stepName: [{\r\n            required: true,\r\n            message: '请输入步骤名称',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            min: 1,\r\n            max: 255,\r\n            message: '长度在 0 到 255 个字符',\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    // 添加步骤\r\n    submitForm(formName) {\r\n      let self = this\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          self.checkLoading = true;\r\n          self.form.addUserId = this.uid;\r\n          self.form.addUserName = this.name;\r\n          this.postRequest(\"/work/step/add\", self.form).then(resp => {\r\n            self.checkLoading = false;\r\n            if (resp && resp.status == 200 && resp.data.code == 0) {\r\n              self.$message.success(\"添加成功\");\r\n              self.dialogFormVisible = false;\r\n              self.loadAllSteps();\r\n            } else {\r\n              self.$message.error('添加失败');\r\n            }\r\n          })\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    addbuzhou() {\r\n      this.dialogFormVisible = true;\r\n    },\r\n    loadAllSteps() {\r\n      let self = this\r\n      this.getRequest(\"/work/step/list?\").then(resp => {\r\n        if (resp && resp.status == 200 && resp.data.code == 0) {\r\n          self.steps = resp.data.data.steplist\r\n        } else {\r\n          console.log(\"获取列表数据失败\");\r\n        }\r\n      });\r\n    },\r\n    del(id) {\r\n      this.$confirm('此操作将永久删除该步骤, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.todel(id);\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n    },\r\n    todel(id) {\r\n      let self = this\r\n      this.getRequest(\"/work/step/del?id=\" + id).then(resp => {\r\n        if (resp && resp.status == 200 && resp.data.code == 0) {\r\n          self.$message.success(\"删除成功\")\r\n          self.loadAllSteps();\r\n        } else {\r\n          self.$message.error(\"删除失败\")\r\n        }\r\n      });\r\n    },\r\n    // 重置\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    }\r\n  },\r\n  mounted: function() {\r\n    this.username = localStorage.getItem('cp_username');\r\n    this.uid = localStorage.getItem('cp_uid');\r\n    this.name = localStorage.getItem('cp_name');\r\n    this.loadAllSteps();\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Work/WorkStep.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-share\"}),_vm._v(\"车间管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"步骤管理\")])],1)],1),_vm._v(\" \"),_c('el-container',[_c('el-main',{staticStyle:{\"padding-left\":\"0px\",\"padding-top\":\"0px\"}},[_c('div',[_c('el-card',{staticClass:\"box-card\",staticStyle:{\"margin-top\":\"25px\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"已有步骤\")])]),_vm._v(\" \"),_c('div',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('div',{on:{\"click\":_vm.addbuzhou}},[_c('el-card',{staticClass:\"mould-card\",staticStyle:{\"min-height\":\"121px\"}},[_c('div',{staticStyle:{\"padding\":\"14px\"}},[_c('img',{staticClass:\"image\"}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-plus\"},[_vm._v(\"新增步骤\")])])])],1)]),_vm._v(\" \"),_vm._l((_vm.steps),function(step){return _c('el-col',{attrs:{\"span\":6}},[_c('el-card',{staticClass:\"mould-card\",attrs:{\"body-style\":{ padding: '0px' }}},[_c('div',{staticStyle:{\"padding\":\"14px\"}},[_c('h4',[_vm._v(_vm._s(step.stepName))]),_vm._v(\" \"),_c('h5',[_vm._v(\"添加人:\"+_vm._s(step.addUserName))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(step.isCheck === false),expression:\"step.isCheck === false\"}]},[_c('h6',[_vm._v(\"无需审核\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(step.isCheck === true),expression:\"step.isCheck === true\"}]},[_c('h6',[_vm._v(\"需要审核\")])]),_vm._v(\" \"),_c('div',{staticClass:\"bottom clearfix\"},[_c('p',{staticClass:\"time\"},[_vm._v(\"说明：\"+_vm._s(step.remark))]),_vm._v(\" \"),_c('el-dropdown',{staticStyle:{\"float\":\"right\",\"color\":\"#409EFF\"}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('i',{staticClass:\"el-icon-edit\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.del(step.id)}}},[_vm._v(\"删 除\")])],1)],1)],1)],1)])])],1)})],2)],1)])],1)])],1)],1),_vm._v(\" \"),_c('el-dialog',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.checkLoading),expression:\"checkLoading\"}],attrs:{\"title\":\"添加步骤\",\"show-close\":false,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"visible\":_vm.dialogFormVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',{staticClass:\"form-box\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"步骤名称\",\"prop\":\"stepName\"}},[_c('el-input',{staticStyle:{\"width\":\"30%\"},attrs:{\"placeholder\":\"请输入步骤名称\"},model:{value:(_vm.form.stepName),callback:function ($$v) {_vm.$set(_vm.form, \"stepName\", $$v)},expression:\"form.stepName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"质量审查\"}},[_c('el-switch',{model:{value:(_vm.form.isCheck),callback:function ($$v) {_vm.$set(_vm.form, \"isCheck\", $$v)},expression:\"form.isCheck\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商务监察\"}},[_c('el-switch',{model:{value:(_vm.form.isBusRemark),callback:function ($$v) {_vm.$set(_vm.form, \"isBusRemark\", $$v)},expression:\"form.isBusRemark\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"说明\"}},[_c('el-input',{staticStyle:{\"width\":\"50%\"},attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.remark),callback:function ($$v) {_vm.$set(_vm.form, \"remark\", $$v)},expression:\"form.remark\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('form')}}},[_vm._v(\"提 交\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")])],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-61391044\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/Work/WorkStep.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./WorkStep.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./WorkStep.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61391044\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./WorkStep.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Work/WorkStep.vue\n// module id = null\n// module chunks = ","<template>\r\n<div>\r\n  <div>\r\n    <div class=\"crumbs\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item><i class=\"el-icon-share\"></i>工序管理</el-breadcrumb-item>\r\n        <el-breadcrumb-item>流程管理</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <el-container style=\"margin-top:30px;\">\r\n      <el-main style=\"padding-left: 0px;padding-top: 0px\">\r\n        <!-- 添加订单基础信息 -->\r\n        <div>\r\n          <div>\r\n            <el-button type=\"primary\" @click=\"dialogFormVisible=false\"><i class=\"el-icon-document\"></i>默认流程</el-button>\r\n            <el-button @click=\"zidingyi\"><i class=\"el-icon-edit\"></i>自定义流程</el-button>\r\n          </div>\r\n          <!-- <span>默认流程</span> -->\r\n          <el-card v-for=\"item in morens\" class=\"box-card\" style=\"margin-top:15px;\">\r\n            <el-dropdown>\r\n              <span class=\"el-dropdown-link\"><i class=\"el-icon-setting\"></i></span>\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item>详情</el-dropdown-item>\r\n                <el-dropdown-item>删除</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n            <span>{{item.flowName}}</span>\r\n            <el-steps align-center>\r\n              <el-step v-for=\"step in item.stepslist\" :title=\"step.stepName\" :description=\"step.remark\"></el-step>\r\n            </el-steps>\r\n          </el-card>\r\n        </div>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n  <el-dialog title=\"自定义流程\" v-loading=\"checkLoading\" :show-close=\"true\" :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :visible.sync=\"dialogFormVisible\" width='70%'>\r\n    <div class=\"form-box\">\r\n      <el-card class=\"box-card\" style=\"margin-top:25px;\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n              <span>流程名称：<el-input style=\"width:20%\" v-model=\"liuchengname\"></el-input></span>\r\n              <span style=\"margin-left:20px;\">设置步骤数：<el-input-number v-model=\"buzhounum\" controls-position=\"right\" @change=\"handleChange\" :min=\"1\"></el-input-number></span>\r\n          </div>\r\n          <div v-show=\"buzhounum !== 1\">\r\n              <el-steps :active=\"active\" finish-status=\"success\">\r\n                  <el-step v-for=\"n in steps\" :title=\"n.stepname\"></el-step>\r\n              </el-steps>\r\n          </div>\r\n          <div style=\"margin-top:25px;\" v-show=\"buzhounum !== 1\">\r\n              <el-form   label-width=\"80px\">\r\n                  <el-form-item label=\"设定步骤\">\r\n                    <el-select  v-model=\"itemstep\" placeholder=\"请选择步骤\">\r\n                        <el-option v-for=\"item in restaurants3\" :key=\"item.value\" :label=\"item.label\" :value=\"item\"></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item>\r\n                      <el-button :disabled=\"this.active === buzhounum || this.itemstep===''\"type=\"primary\" @click=\"next\">下一步</el-button>\r\n                      <el-button :disabled=\"this.active === 0\" type=\"primary\" @click=\"up\">上一步</el-button>\r\n                  </el-form-item>\r\n              </el-form>\r\n          </div>\r\n          <div v-show=\"buzhounum !== 1\" style=\"height:1px;width:100%;border-bottom: 1px solid #e6ebf5;\r\n          box-sizing: border-box;margin-bottom:15px;\">\r\n          </div>\r\n          <div style=\"margin-top:25px;\" v-show=\"buzhounum !== 1\">\r\n              <el-form  label-width=\"120px\" >\r\n                <el-form-item label=\"设为默认流程\">\r\n                  <el-switch v-model=\"moren\"></el-switch>\r\n                </el-form-item>\r\n              </el-form>\r\n              <div>\r\n                  <el-button type=\"primary\" @click=\"toAdd\">保存此流程</el-button>\r\n                  <el-button type=\"\" @click=\"dialogFormVisible=false\">取消</el-button>\r\n              </div>\r\n          </div>\r\n      </el-card>\r\n    </div>\r\n  </el-dialog>\r\n</div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: String\r\n  },\r\n  data() {\r\n    return {\r\n      morens:[],\r\n      dialogFormVisible: false,\r\n      checkLoading: false,\r\n      username: '',\r\n      name: '',\r\n      uid: '',\r\n      form: {\r\n        isCheck: true,\r\n        isBusRemark: false\r\n      },\r\n      buzhounum: '1',\r\n      active: 0,\r\n      form: {},\r\n      steps: [],\r\n      restaurants3:[],\r\n      itemstep:'',\r\n      moren: true,\r\n      liuchengId:'',\r\n      liuchengname:'',\r\n      rules: {\r\n        flowName: [{\r\n            required: true,\r\n            message: '请输入流程名称',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            min: 1,\r\n            max: 255,\r\n            message: '长度在 0 到 255 个字符',\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange(value) {},\r\n    zidingyi(){\r\n      this.dialogFormVisible = true;\r\n    },\r\n    // 添加步骤\r\n    submitForm(formName) {\r\n      let self = this\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          self.checkLoading = true;\r\n          self.form.addUserId = this.uid;\r\n          self.form.addUserName = this.name;\r\n          this.postRequest(\"/work/step/add\", self.form).then(resp => {\r\n            self.checkLoading = false;\r\n            if (resp && resp.status == 200 && resp.data.code == 0) {\r\n              self.$message.success(\"添加成功\");\r\n              self.dialogFormVisible = false;\r\n              self.loadAllSteps();\r\n            } else {\r\n              self.$message.error('添加失败');\r\n            }\r\n          })\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    addbuzhou() {\r\n      this.dialogFormVisible = true;\r\n    },\r\n    loadAllSteps() {\r\n      let self = this\r\n      this.getRequest(\"/work/step/list?\").then(resp => {\r\n        if (resp && resp.status == 200 && resp.data.code == 0) {\r\n          let re = resp.data.data.steplist\r\n          let item =[]\r\n          for (var i = 0; i < re.length; i++) {\r\n              let elem = {\r\n                  label: '',\r\n                  value: ''\r\n              }\r\n              elem.label = re[i].stepName\r\n              elem.value = re[i].id\r\n              item.push(elem);\r\n          }\r\n          self.restaurants3 = item;\r\n        } else {\r\n          console.log(\"获取列表数据失败\");\r\n        }\r\n      });\r\n    },\r\n    loadAllFlows() {\r\n      let self = this\r\n      this.getRequest(\"/work/flow/list/steps?\").then(resp => {\r\n        if (resp && resp.status == 200 && resp.data.code == 0) {\r\n          self.morens = resp.data.data.flowlist\r\n        } else {\r\n          console.log(\"获取列表数据失败\");\r\n        }\r\n      });\r\n    },\r\n    del(id) {\r\n      this.$confirm('此操作将永久删除该步骤, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.todel(id);\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n    },\r\n    todel(id) {\r\n      let self = this\r\n      this.getRequest(\"/work/step/del?id=\" + id).then(resp => {\r\n        if (resp && resp.status == 200 && resp.data.code == 0) {\r\n          self.$message.success(\"删除成功\")\r\n          self.loadAllSteps();\r\n        } else {\r\n          self.$message.error(\"删除失败\")\r\n        }\r\n      });\r\n    },\r\n    // 重置\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    next() {\r\n        if (this.active++ > this.buzhounum-1){\r\n            this.active = this.buzhounum;\r\n            this.steps[this.active-1].stepname = this.itemstep.label;\r\n            this.steps[this.active-1].stepid = this.itemstep.value;\r\n        } else {\r\n              this.steps[this.active-1].stepname = this.itemstep.label;\r\n              this.steps[this.active-1].stepid = this.itemstep.value;\r\n        }\r\n    },\r\n    up() {\r\n      if (this.active-- < 1) {\r\n        this.active = 0;\r\n        this.steps[this.active].stepname = \"步骤 \"+(this.active+1);\r\n        this.steps[this.active].stepid = '';\r\n      } else {\r\n        let num = this.active;\r\n        this.steps[num].stepname = \"步骤 \"+(this.active+1);\r\n        this.steps[num].stepid = '';\r\n      }\r\n    },\r\n    // 添加流程\r\n    toAdd(){\r\n      let self =this;\r\n      if(self.liuchengname === ''){\r\n        self.$message.error(\"请填写流程名称\");\r\n        return;\r\n      }\r\n      if(self.steps[self.buzhounum -1].stepid === ''){\r\n        self.$message.error(\"请将流程步骤设置完整\");\r\n        return;\r\n      }\r\n      self.checkLoading = true;\r\n      let liucheng = {\r\n        flowName:self.liuchengname,\r\n        moren: self.moren,\r\n        stepNum: self.buzhounum,\r\n        addUserId: this.uid,\r\n        addUserName: this.name\r\n      }\r\n      this.postRequest(\"/work/flow/add\", liucheng).then(resp => {\r\n        self.checkLoading = false;\r\n        if (resp && resp.status == 200 && resp.data.code == 0) {\r\n              self.toaddStepAndFlow(resp.data.data.id)\r\n          } else {\r\n              self.$message.error('添加失败');\r\n          }\r\n      })\r\n    },\r\n    toaddStepAndFlow(flowId){\r\n      let self = this;\r\n      if(flowId === '' || flowId==='undefinded'){\r\n        return\r\n      }\r\n      self.checkLoading = true;\r\n      let paramsString = '';\r\n      for (var i = 0; i < this.steps.length; i++) {\r\n        let step = this.steps[i];\r\n        let flow = {\r\n          stepId: step.stepid,\r\n          addUserId: this.uid,\r\n          addUserName: this.name,\r\n          stepIndex: i+1,\r\n          stepName: step.stepname,\r\n          flowId:flowId\r\n        }\r\n        let pageinfoString = JSON.stringify(flow);\r\n        paramsString = paramsString + pageinfoString + \"|\";\r\n      }\r\n      let params = {\r\n        steps:paramsString\r\n      }\r\n      this.postRequest(\"/work/flow/add/steps\", params).then(resp => {\r\n        self.checkLoading = false;\r\n        if (resp && resp.status == 200 && resp.data.code == 0) {\r\n              self.$message.success(\"添加成功\");\r\n              this.dialogFormVisible = false;\r\n              this.loadAllFlows();\r\n          } else {\r\n            self.$message.error();(\"添加失败\");\r\n          }\r\n      })\r\n    }\r\n  },\r\n  watch: {　　　　　　　　\r\n      buzhounum(curVal, oldVal) {　\r\n        this.steps = [];　　　　　　　　　\r\n          if(curVal !== 1){\r\n            for(let i=1;i<=curVal;i++){\r\n              let step = {\r\n                stepname:'步骤 '+ i,\r\n                stepid:''\r\n              }\r\n              this.steps.push(step)\r\n            }\r\n          }　　　　　　\r\n      }　　　　　　　　\r\n  },\r\n  mounted: function() {\r\n    this.username = localStorage.getItem('cp_username');\r\n    this.uid = localStorage.getItem('cp_uid');\r\n    this.name = localStorage.getItem('cp_name');\r\n    this.loadAllSteps();\r\n    this.loadAllFlows();\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Work/WorkFlow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-share\"}),_vm._v(\"工序管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"流程管理\")])],1)],1),_vm._v(\" \"),_c('el-container',{staticStyle:{\"margin-top\":\"30px\"}},[_c('el-main',{staticStyle:{\"padding-left\":\"0px\",\"padding-top\":\"0px\"}},[_c('div',[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible=false}}},[_c('i',{staticClass:\"el-icon-document\"}),_vm._v(\"默认流程\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.zidingyi}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\"自定义流程\")])],1),_vm._v(\" \"),_vm._l((_vm.morens),function(item){return _c('el-card',{staticClass:\"box-card\",staticStyle:{\"margin-top\":\"15px\"}},[_c('el-dropdown',[_c('span',{staticClass:\"el-dropdown-link\"},[_c('i',{staticClass:\"el-icon-setting\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_vm._v(\"详情\")]),_vm._v(\" \"),_c('el-dropdown-item',[_vm._v(\"删除\")])],1)],1),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.flowName))]),_vm._v(\" \"),_c('el-steps',{attrs:{\"align-center\":\"\"}},_vm._l((item.stepslist),function(step){return _c('el-step',{attrs:{\"title\":step.stepName,\"description\":step.remark}})}))],1)})],2)])],1)],1),_vm._v(\" \"),_c('el-dialog',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.checkLoading),expression:\"checkLoading\"}],attrs:{\"title\":\"自定义流程\",\"show-close\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"visible\":_vm.dialogFormVisible,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',{staticClass:\"form-box\"},[_c('el-card',{staticClass:\"box-card\",staticStyle:{\"margin-top\":\"25px\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"流程名称：\"),_c('el-input',{staticStyle:{\"width\":\"20%\"},model:{value:(_vm.liuchengname),callback:function ($$v) {_vm.liuchengname=$$v},expression:\"liuchengname\"}})],1),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"20px\"}},[_vm._v(\"设置步骤数：\"),_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"min\":1},on:{\"change\":_vm.handleChange},model:{value:(_vm.buzhounum),callback:function ($$v) {_vm.buzhounum=$$v},expression:\"buzhounum\"}})],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.buzhounum !== 1),expression:\"buzhounum !== 1\"}]},[_c('el-steps',{attrs:{\"active\":_vm.active,\"finish-status\":\"success\"}},_vm._l((_vm.steps),function(n){return _c('el-step',{attrs:{\"title\":n.stepname}})}))],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.buzhounum !== 1),expression:\"buzhounum !== 1\"}],staticStyle:{\"margin-top\":\"25px\"}},[_c('el-form',{attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"设定步骤\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择步骤\"},model:{value:(_vm.itemstep),callback:function ($$v) {_vm.itemstep=$$v},expression:\"itemstep\"}},_vm._l((_vm.restaurants3),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"disabled\":this.active === _vm.buzhounum || this.itemstep==='',\"type\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"下一步\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"disabled\":this.active === 0,\"type\":\"primary\"},on:{\"click\":_vm.up}},[_vm._v(\"上一步\")])],1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.buzhounum !== 1),expression:\"buzhounum !== 1\"}],staticStyle:{\"height\":\"1px\",\"width\":\"100%\",\"border-bottom\":\"1px solid #e6ebf5\",\"box-sizing\":\"border-box\",\"margin-bottom\":\"15px\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.buzhounum !== 1),expression:\"buzhounum !== 1\"}],staticStyle:{\"margin-top\":\"25px\"}},[_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"设为默认流程\"}},[_c('el-switch',{model:{value:(_vm.moren),callback:function ($$v) {_vm.moren=$$v},expression:\"moren\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.toAdd}},[_vm._v(\"保存此流程\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"\"},on:{\"click\":function($event){_vm.dialogFormVisible=false}}},[_vm._v(\"取消\")])],1)],1)])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-f566df50\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/Work/WorkFlow.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./WorkFlow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./WorkFlow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f566df50\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./WorkFlow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Work/WorkFlow.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}